import{s as pl,e as d,t as L,k as A,c as _,a as v,b as U,d as c,o as D,I as Kt,f as o,i as O,g as n,u as se,z as rs,h as H,n as vt,H as ul,j as nl,p as Il,q as Hl,y as it,A as _t,C as ee,P as Nl,O as Jt,l as Xt,G as Rl,R as Sl,D as ga,Q as cl,E as sl,F as al,B as gs,T as _s,S as na}from"../chunks/scheduler.BXITcVIL.js";import{S as vl,i as ml,f as ht,b as de,d as _e,m as he,t as K,g as Vt,a as W,c as St,e as pe}from"../chunks/index.CKC1pLeO.js";import{t as Ye}from"../chunks/Toaster.svelte_svelte_type_style_lang.D8ruyfxE.js";import{e as Us,m as Dl,u as ia,H as zo,M as aa}from"../chunks/index.DGiyb8ll.js";import{c as Qo,u as Jo,d as Xo,e as xo,g as Bl,f as eu,h as tu,i as lu,j as su,k as au,l as ru,a as ra,m as nu,n as iu}from"../chunks/index.DppQFxdV.js";import{f as Uo}from"../chunks/FileSaver.min.CimDdHIv.js";import{d as ou}from"../chunks/index.-d1fEAWE.js";import{l as uu}from"../chunks/index.CsC5nGr8.js";import{i as fu,e as cu,S as $l,g as du,s as _u,a as hu,b as pu,c as vu}from"../chunks/SensitiveInput.CxPfMoNt.js";import{d as mu,e as gu,f as bu,h as Eu,i as wu,j as ku}from"../chunks/index.BmC8ZDwh.js";import{S as wl}from"../chunks/Switch._GFX78Ig.js";import{T as Yt}from"../chunks/Tooltip.Bk1C4ypY.js";import{e as yt,u as Co,o as Ro}from"../chunks/each.CeC5znru.js";import{S as Is}from"../chunks/Spinner.Ds4ZYjMW.js";import{g as Iu,a as yu,b as Tu,u as Au}from"../chunks/index.DZ2HRC5r.js";import{T as Qa,v as Du,s as ma}from"../chunks/index.CaHcOjnl.js";import{g as $u,a as Vu,b as Su,u as _n,c as Nu,v as hn}from"../chunks/index.Bb72RTxA.js";import{T as ba}from"../chunks/Textarea.C8sTUOXO.js";import{m as pn}from"../chunks/marked.esm._0_gBwjO.js";import{b as Mu,e as Ou,u as Pu,c as vn,t as Lu}from"../chunks/index.CBHyy2fp.js";import{S as Uu}from"../chunks/Search.B45KRAu7.js";import{M as Cu}from"../chunks/ModelEditor.Dt5uzV92.js";import{C as Ja}from"../chunks/ConfirmDialog.D3WfRuej.js";import{C as xa}from"../chunks/Cog6.C_CundTt.js";import{M as Ea}from"../chunks/Modal.DzDM0HzR.js";import{S as Ru}from"../chunks/sortable.esm.C0-Qcoum.js";import{E as Bu}from"../chunks/EllipsisVertical.DnVr1aAq.js";import{A as Bo}from"../chunks/ArrowDownTray.Ns86CM-b.js";import{p as mn,d as gn,c as bn,a as Hu,u as ju,b as Gu,e as Ho,v as Ku,f as Zu}from"../chunks/index.CN3PmZiM.js";import{v as qu,a as Wu,b as Fu,u as Yu}from"../chunks/index.CyvP7FPD.js";import{P as wa}from"../chunks/Plus.FOVUIjv2.js";import"../chunks/index.CGwCSIWv.js";import{g as zu,a as jo,u as Qu,b as Go,c as En,d as Ju,e as Xu,r as xu,f as ef}from"../chunks/index.CBI9WEyd.js";import{d as tf}from"../chunks/index.BGJmrFQt.js";import"../chunks/index.DQfRr7yB.js";import{a as lf,b as sf}from"../chunks/index.eSIRLnfB.js";import{A as af}from"../chunks/AccessControl.Li_Nbej3.js";function wn(s){let e,t,l,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',i,r,f=s[1].t("Download Database")+"",u,h,b,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',g,E,w=s[1].t("Export All Chats (All Users)")+"",k,I,y;return{c(){e=d("div"),t=d("button"),l=d("div"),l.innerHTML=a,i=A(),r=d("div"),u=L(f),h=A(),b=d("button"),p=d("div"),p.innerHTML=m,g=A(),E=d("div"),k=L(w),this.h()},l(T){e=_(T,"DIV",{class:!0});var $=v(e);t=_($,"BUTTON",{class:!0,type:!0});var S=v(t);l=_(S,"DIV",{class:!0,"data-svelte-h":!0}),Kt(l)!=="svelte-1n29mwa"&&(l.innerHTML=a),i=D(S),r=_(S,"DIV",{class:!0});var N=v(r);u=U(N,f),N.forEach(c),S.forEach(c),$.forEach(c),h=D(T),b=_(T,"BUTTON",{class:!0});var V=v(b);p=_(V,"DIV",{class:!0,"data-svelte-h":!0}),Kt(p)!=="svelte-1l0oz0g"&&(p.innerHTML=m),g=D(V),E=_(V,"DIV",{class:!0});var C=v(E);k=U(C,w),C.forEach(c),V.forEach(c),this.h()},h(){o(l,"class","self-center mr-3"),o(r,"class","self-center text-sm font-medium"),o(t,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(t,"type","button"),o(e,"class","flex w-full justify-between"),o(p,"class","self-center mr-3"),o(E,"class","self-center text-sm font-medium"),o(b,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(T,$){O(T,e,$),n(e,t),n(t,l),n(t,i),n(t,r),n(r,u),O(T,h,$),O(T,b,$),n(b,p),n(b,g),n(b,E),n(E,k),I||(y=[se(t,"click",s[9]),se(b,"click",s[10])],I=!0)},p(T,$){$&2&&f!==(f=T[1].t("Download Database")+"")&&H(u,f),$&2&&w!==(w=T[1].t("Export All Chats (All Users)")+"")&&H(k,w)},d(T){T&&(c(e),c(h),c(b)),I=!1,ul(y)}}}function rf(s){var G;let e,t,l,a,i=s[1].t("Database")+"",r,f,u,h,b,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',g,E,w=s[1].t("Import Config from JSON File")+"",k,I,y,T,$='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',S,N,V=s[1].t("Export Config to JSON File")+"",C,R,P,Z,B,M,j=(((G=s[2])==null?void 0:G.features.enable_admin_export)??!0)&&wn(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),r=L(i),f=A(),u=d("input"),h=A(),b=d("button"),p=d("div"),p.innerHTML=m,g=A(),E=d("div"),k=L(w),I=A(),y=d("button"),T=d("div"),T.innerHTML=$,S=A(),N=d("div"),C=L(V),R=A(),P=d("hr"),Z=A(),j&&j.c(),this.h()},l(Y){e=_(Y,"FORM",{class:!0});var z=v(e);t=_(z,"DIV",{class:!0});var X=v(t);l=_(X,"DIV",{});var q=v(l);a=_(q,"DIV",{class:!0});var Q=v(a);r=U(Q,i),Q.forEach(c),f=D(q),u=_(q,"INPUT",{id:!0,type:!0,accept:!0}),h=D(q),b=_(q,"BUTTON",{type:!0,class:!0});var te=v(b);p=_(te,"DIV",{class:!0,"data-svelte-h":!0}),Kt(p)!=="svelte-uk5zsu"&&(p.innerHTML=m),g=D(te),E=_(te,"DIV",{class:!0});var x=v(E);k=U(x,w),x.forEach(c),te.forEach(c),I=D(q),y=_(q,"BUTTON",{type:!0,class:!0});var F=v(y);T=_(F,"DIV",{class:!0,"data-svelte-h":!0}),Kt(T)!=="svelte-uk5zsu"&&(T.innerHTML=$),S=D(F),N=_(F,"DIV",{class:!0});var J=v(N);C=U(J,V),J.forEach(c),F.forEach(c),R=D(q),P=_(q,"HR",{class:!0}),Z=D(q),j&&j.l(q),q.forEach(c),X.forEach(c),z.forEach(c),this.h()},h(){o(a,"class","mb-2 text-sm font-medium"),o(u,"id","config-json-input"),u.hidden=!0,o(u,"type","file"),o(u,"accept",".json"),o(p,"class","self-center mr-3"),o(E,"class","self-center text-sm font-medium"),o(b,"type","button"),o(b,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(T,"class","self-center mr-3"),o(N,"class","self-center text-sm font-medium"),o(y,"type","button"),o(y,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(P,"class","dark:border-gray-850 my-1"),o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Y,z){O(Y,e,z),n(e,t),n(t,l),n(l,a),n(a,r),n(l,f),n(l,u),n(l,h),n(l,b),n(b,p),n(b,g),n(b,E),n(E,k),n(l,I),n(l,y),n(y,T),n(y,S),n(y,N),n(N,C),n(l,R),n(l,P),n(l,Z),j&&j.m(l,null),B||(M=[se(u,"change",s[6]),se(b,"click",s[7]),se(y,"click",s[8]),se(e,"submit",rs(s[11]))],B=!0)},p(Y,[z]){var X;z&2&&i!==(i=Y[1].t("Database")+"")&&H(r,i),z&2&&w!==(w=Y[1].t("Import Config from JSON File")+"")&&H(k,w),z&2&&V!==(V=Y[1].t("Export Config to JSON File")+"")&&H(C,V),((X=Y[2])==null?void 0:X.features.enable_admin_export)??!0?j?j.p(Y,z):(j=wn(Y),j.c(),j.m(l,null)):j&&(j.d(1),j=null)},i:vt,o:vt,d(Y){Y&&c(e),j&&j.d(),B=!1,ul(M)}}}function nf(s,e,t){let l,a;nl(s,Us,w=>t(2,a=w));const{saveAs:i}=Uo,r=Il("i18n");nl(s,r,w=>t(1,l=w));let{saveHandler:f}=e;const u=async()=>{let w=new Blob([JSON.stringify(await uu(localStorage.token))],{type:"application/json"});i(w,`all-chats-export-${Date.now()}.json`)};Hl(async()=>{});const h=w=>{const k=w.target.files[0],I=new FileReader;I.onload=async y=>{await fu(localStorage.token,JSON.parse(y.target.result)).catch($=>{Ye.error(`${$}`)})&&Ye.success("Config imported successfully"),y.target.value=null},I.readAsText(k)},b=async()=>{document.getElementById("config-json-input").click()},p=async()=>{const w=await cu(localStorage.token),k=new Blob([JSON.stringify(w)],{type:"application/json"});i(k,`config-${Date.now()}.json`)},m=()=>{ou(localStorage.token).catch(w=>{Ye.error(`${w}`)})},g=()=>{u()},E=async()=>{f()};return s.$$set=w=>{"saveHandler"in w&&t(0,f=w.saveHandler)},[f,l,a,i,r,u,h,b,p,m,g,E]}class of extends vl{constructor(e){super(),ml(this,e,nf,rf,pl,{saveHandler:0})}}function kn(s){var Ll;let e,t,l=s[4].t("General Settings")+"",a,i,r,f,u=s[4].t("Enable New Sign Ups")+"",h,b,p,m,g,E,w,k=s[4].t("Default User Role")+"",I,y,T,$,S,N=s[4].t("pending")+"",V,C,R=s[4].t("user")+"",P,Z,B=s[4].t("admin")+"",M,j,G,Y,z=s[4].t("Enable API Key")+"",X,q,Q,te,x,F,J,ae,ue,ne,$e=s[4].t("Show Admin Details in Account Pending Overlay")+"",ge,Le,be,He,Ve,ie,le,Ee=s[4].t("Enable Community Sharing")+"",ce,ke,Ie,ze,Qe,ve,ye,fe=s[4].t("Enable Message Rating")+"",me,Oe,Me,Ge,Re,Ze,Ke,Dt,re,we,pt=s[4].t("WebUI URL")+"",mt,gt,qe,Fe,ct,Rt,At=s[4].t("Enter the public URL of your WebUI. This URL will be used to generate links in the notifications.")+"",Te,We,bt,ut,dt,rt,xe,Xe=s[4].t("JWT Expiration")+"",oe,Pe,Tt,Je,Ot,Et,ot=s[4].t("Valid time units:")+"",jt,el,Gt,It=s[4].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"",Lt,Ct,Ue,Ae,De,wt,et,ft=s[4].t("Webhook URL")+"",Ft,Ut,Bt,kt,je,Be,tt,st,Nt,rl=s[4].t("Channels")+"",tl,$t,ol=s[4].t("Beta")+"",Qt,Zt,yl,fl,Wt,qt,hl,gl;function kl(at){s[8](at)}let bl={};s[0].ENABLE_SIGNUP!==void 0&&(bl.state=s[0].ENABLE_SIGNUP),p=new wl({props:bl}),it.push(()=>ht(p,"state",kl));function Ht(at){s[10](at)}let El={};s[0].ENABLE_API_KEY!==void 0&&(El.state=s[0].ENABLE_API_KEY),Q=new wl({props:El}),it.push(()=>ht(Q,"state",Ht));let Pt=((Ll=s[0])==null?void 0:Ll.ENABLE_API_KEY)&&In(s);function Ne(at){s[13](at)}let lt={};s[0].SHOW_ADMIN_DETAILS!==void 0&&(lt.state=s[0].SHOW_ADMIN_DETAILS),be=new wl({props:lt}),it.push(()=>ht(be,"state",Ne));function zt(at){s[14](at)}let Mt={};s[0].ENABLE_COMMUNITY_SHARING!==void 0&&(Mt.state=s[0].ENABLE_COMMUNITY_SHARING),Ie=new wl({props:Mt}),it.push(()=>ht(Ie,"state",zt));function dl(at){s[15](at)}let Tl={};s[0].ENABLE_MESSAGE_RATING!==void 0&&(Tl.state=s[0].ENABLE_MESSAGE_RATING),Me=new wl({props:Tl}),it.push(()=>ht(Me,"state",dl));function Cl(at){s[19](at)}let Ml={};return s[0].ENABLE_CHANNELS!==void 0&&(Ml.state=s[0].ENABLE_CHANNELS),fl=new wl({props:Ml}),it.push(()=>ht(fl,"state",Cl)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),h=L(u),b=A(),de(p.$$.fragment),g=A(),E=d("div"),w=d("div"),I=L(k),y=A(),T=d("div"),$=d("select"),S=d("option"),V=L(N),C=d("option"),P=L(R),Z=d("option"),M=L(B),j=A(),G=d("div"),Y=d("div"),X=L(z),q=A(),de(Q.$$.fragment),x=A(),Pt&&Pt.c(),F=A(),J=d("hr"),ae=A(),ue=d("div"),ne=d("div"),ge=L($e),Le=A(),de(be.$$.fragment),Ve=A(),ie=d("div"),le=d("div"),ce=L(Ee),ke=A(),de(Ie.$$.fragment),Qe=A(),ve=d("div"),ye=d("div"),me=L(fe),Oe=A(),de(Me.$$.fragment),Re=A(),Ze=d("hr"),Ke=A(),Dt=d("div"),re=d("div"),we=d("div"),mt=L(pt),gt=A(),qe=d("div"),Fe=d("input"),ct=A(),Rt=d("div"),Te=L(At),We=A(),bt=d("hr"),ut=A(),dt=d("div"),rt=d("div"),xe=d("div"),oe=L(Xe),Pe=A(),Tt=d("div"),Je=d("input"),Ot=A(),Et=d("div"),jt=L(ot),el=A(),Gt=d("span"),Lt=L(It),Ct=A(),Ue=d("hr"),Ae=A(),De=d("div"),wt=d("div"),et=d("div"),Ft=L(ft),Ut=A(),Bt=d("div"),kt=d("input"),je=A(),Be=d("hr"),tt=A(),st=d("div"),Nt=d("div"),tl=L(rl),$t=L(" ("),Qt=L(ol),Zt=L(")"),yl=A(),de(fl.$$.fragment),this.h()},l(at){e=_(at,"DIV",{});var Ce=v(e);t=_(Ce,"DIV",{class:!0});var il=v(t);a=U(il,l),il.forEach(c),i=D(Ce),r=_(Ce,"DIV",{class:!0});var Al=v(r);f=_(Al,"DIV",{class:!0});var Ol=v(f);h=U(Ol,u),Ol.forEach(c),b=D(Al),_e(p.$$.fragment,Al),Al.forEach(c),g=D(Ce),E=_(Ce,"DIV",{class:!0});var Ul=v(E);w=_(Ul,"DIV",{class:!0});var jl=v(w);I=U(jl,k),jl.forEach(c),y=D(Ul),T=_(Ul,"DIV",{class:!0});var ss=v(T);$=_(ss,"SELECT",{class:!0,placeholder:!0});var Gl=v($);S=_(Gl,"OPTION",{});var bs=v(S);V=U(bs,N),bs.forEach(c),C=_(Gl,"OPTION",{});var Kl=v(C);P=U(Kl,R),Kl.forEach(c),Z=_(Gl,"OPTION",{});var xl=v(Z);M=U(xl,B),xl.forEach(c),Gl.forEach(c),ss.forEach(c),Ul.forEach(c),j=D(Ce),G=_(Ce,"DIV",{class:!0});var Zl=v(G);Y=_(Zl,"DIV",{class:!0});var ns=v(Y);X=U(ns,z),ns.forEach(c),q=D(Zl),_e(Q.$$.fragment,Zl),Zl.forEach(c),x=D(Ce),Pt&&Pt.l(Ce),F=D(Ce),J=_(Ce,"HR",{class:!0}),ae=D(Ce),ue=_(Ce,"DIV",{class:!0});var es=v(ue);ne=_(es,"DIV",{class:!0});var Es=v(ne);ge=U(Es,$e),Es.forEach(c),Le=D(es),_e(be.$$.fragment,es),es.forEach(c),Ve=D(Ce),ie=_(Ce,"DIV",{class:!0});var ql=v(ie);le=_(ql,"DIV",{class:!0});var Pl=v(le);ce=U(Pl,Ee),Pl.forEach(c),ke=D(ql),_e(Ie.$$.fragment,ql),ql.forEach(c),Qe=D(Ce),ve=_(Ce,"DIV",{class:!0});var ts=v(ve);ye=_(ts,"DIV",{class:!0});var ws=v(ye);me=U(ws,fe),ws.forEach(c),Oe=D(ts),_e(Me.$$.fragment,ts),ts.forEach(c),Re=D(Ce),Ze=_(Ce,"HR",{class:!0}),Ke=D(Ce),Dt=_(Ce,"DIV",{class:!0});var Vl=v(Dt);re=_(Vl,"DIV",{class:!0});var ls=v(re);we=_(ls,"DIV",{class:!0});var is=v(we);mt=U(is,pt),is.forEach(c),ls.forEach(c),gt=D(Vl),qe=_(Vl,"DIV",{class:!0});var hs=v(qe);Fe=_(hs,"INPUT",{class:!0,type:!0,placeholder:!0}),hs.forEach(c),ct=D(Vl),Rt=_(Vl,"DIV",{class:!0});var ks=v(Rt);Te=U(ks,At),ks.forEach(c),Vl.forEach(c),We=D(Ce),bt=_(Ce,"HR",{class:!0}),ut=D(Ce),dt=_(Ce,"DIV",{class:!0});var Wl=v(dt);rt=_(Wl,"DIV",{class:!0});var _l=v(rt);xe=_(_l,"DIV",{class:!0});var Cs=v(xe);oe=U(Cs,Xe),Cs.forEach(c),_l.forEach(c),Pe=D(Wl),Tt=_(Wl,"DIV",{class:!0});var Zs=v(Tt);Je=_(Zs,"INPUT",{class:!0,type:!0,placeholder:!0}),Zs.forEach(c),Ot=D(Wl),Et=_(Wl,"DIV",{class:!0});var os=v(Et);jt=U(os,ot),el=D(os),Gt=_(os,"SPAN",{class:!0});var us=v(Gt);Lt=U(us,It),us.forEach(c),os.forEach(c),Wl.forEach(c),Ct=D(Ce),Ue=_(Ce,"HR",{class:!0}),Ae=D(Ce),De=_(Ce,"DIV",{class:!0});var fs=v(De);wt=_(fs,"DIV",{class:!0});var ys=v(wt);et=_(ys,"DIV",{class:!0});var Rs=v(et);Ft=U(Rs,ft),Rs.forEach(c),ys.forEach(c),Ut=D(fs),Bt=_(fs,"DIV",{class:!0});var qs=v(Bt);kt=_(qs,"INPUT",{class:!0,type:!0,placeholder:!0}),qs.forEach(c),fs.forEach(c),je=D(Ce),Be=_(Ce,"HR",{class:!0}),tt=D(Ce),st=_(Ce,"DIV",{class:!0});var ps=v(st);Nt=_(ps,"DIV",{class:!0});var Xl=v(Nt);tl=U(Xl,rl),$t=U(Xl," ("),Qt=U(Xl,ol),Zt=U(Xl,")"),Xl.forEach(c),yl=D(ps),_e(fl.$$.fragment,ps),ps.forEach(c),Ce.forEach(c),this.h()},h(){o(t,"class","mb-3 text-sm font-medium"),o(f,"class","self-center text-xs font-medium"),o(r,"class","flex w-full justify-between pr-2"),o(w,"class","self-center text-xs font-medium"),S.__value="pending",ee(S,S.__value),C.__value="user",ee(C,C.__value),Z.__value="admin",ee(Z,Z.__value),o($,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 text-xs bg-transparent outline-none text-right"),o($,"placeholder","Select a role"),s[0].DEFAULT_USER_ROLE===void 0&&Nl(()=>s[9].call($)),o(T,"class","flex items-center relative"),o(E,"class","my-3 flex w-full justify-between"),o(Y,"class","self-center text-xs font-medium"),o(G,"class","flex w-full justify-between pr-2 my-3"),o(J,"class","border-gray-50 dark:border-gray-850 my-2"),o(ne,"class","self-center text-xs font-medium"),o(ue,"class","my-3 flex w-full items-center justify-between pr-2"),o(le,"class","self-center text-xs font-medium"),o(ie,"class","my-3 flex w-full items-center justify-between pr-2"),o(ye,"class","self-center text-xs font-medium"),o(ve,"class","my-3 flex w-full items-center justify-between pr-2"),o(Ze,"class","border-gray-50 dark:border-gray-850 my-2"),o(we,"class","self-center text-xs font-medium"),o(re,"class","flex w-full justify-between"),o(Fe,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Fe,"type","text"),o(Fe,"placeholder",'e.g.) "http://localhost:3000"'),o(qe,"class","flex mt-2 space-x-2"),o(Rt,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(Dt,"class","w-full justify-between"),o(bt,"class","border-gray-50 dark:border-gray-850 my-2"),o(xe,"class","self-center text-xs font-medium"),o(rt,"class","flex w-full justify-between"),o(Je,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Je,"type","text"),o(Je,"placeholder",'e.g.) "30m","1h", "10d". '),o(Tt,"class","flex mt-2 space-x-2"),o(Gt,"class","text-gray-300 font-medium"),o(Et,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(dt,"class","w-full justify-between"),o(Ue,"class","border-gray-50 dark:border-gray-850 my-2"),o(et,"class","self-center text-xs font-medium"),o(wt,"class","flex w-full justify-between"),o(kt,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(kt,"type","text"),o(kt,"placeholder","https://example.com/webhook"),o(Bt,"class","flex mt-2 space-x-2"),o(De,"class","w-full justify-between"),o(Be,"class","border-gray-50 dark:border-gray-850 my-2"),o(Nt,"class","self-center text-sm font-medium"),o(st,"class","pt-1 flex w-full justify-between pr-2")},m(at,Ce){O(at,e,Ce),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,h),n(r,b),he(p,r,null),n(e,g),n(e,E),n(E,w),n(w,I),n(E,y),n(E,T),n(T,$),n($,S),n(S,V),n($,C),n(C,P),n($,Z),n(Z,M),Jt($,s[0].DEFAULT_USER_ROLE,!0),n(e,j),n(e,G),n(G,Y),n(Y,X),n(G,q),he(Q,G,null),n(e,x),Pt&&Pt.m(e,null),n(e,F),n(e,J),n(e,ae),n(e,ue),n(ue,ne),n(ne,ge),n(ue,Le),he(be,ue,null),n(e,Ve),n(e,ie),n(ie,le),n(le,ce),n(ie,ke),he(Ie,ie,null),n(e,Qe),n(e,ve),n(ve,ye),n(ye,me),n(ve,Oe),he(Me,ve,null),n(e,Re),n(e,Ze),n(e,Ke),n(e,Dt),n(Dt,re),n(re,we),n(we,mt),n(Dt,gt),n(Dt,qe),n(qe,Fe),ee(Fe,s[0].WEBUI_URL),n(Dt,ct),n(Dt,Rt),n(Rt,Te),n(e,We),n(e,bt),n(e,ut),n(e,dt),n(dt,rt),n(rt,xe),n(xe,oe),n(dt,Pe),n(dt,Tt),n(Tt,Je),ee(Je,s[0].JWT_EXPIRES_IN),n(dt,Ot),n(dt,Et),n(Et,jt),n(Et,el),n(Et,Gt),n(Gt,Lt),n(e,Ct),n(e,Ue),n(e,Ae),n(e,De),n(De,wt),n(wt,et),n(et,Ft),n(De,Ut),n(De,Bt),n(Bt,kt),ee(kt,s[1]),n(e,je),n(e,Be),n(e,tt),n(e,st),n(st,Nt),n(Nt,tl),n(Nt,$t),n(Nt,Qt),n(Nt,Zt),n(st,yl),he(fl,st,null),qt=!0,hl||(gl=[se($,"change",s[9]),se(Fe,"input",s[16]),se(Je,"input",s[17]),se(kt,"input",s[18])],hl=!0)},p(at,Ce){var Gl;(!qt||Ce[0]&16)&&l!==(l=at[4].t("General Settings")+"")&&H(a,l),(!qt||Ce[0]&16)&&u!==(u=at[4].t("Enable New Sign Ups")+"")&&H(h,u);const il={};!m&&Ce[0]&1&&(m=!0,il.state=at[0].ENABLE_SIGNUP,_t(()=>m=!1)),p.$set(il),(!qt||Ce[0]&16)&&k!==(k=at[4].t("Default User Role")+"")&&H(I,k),(!qt||Ce[0]&16)&&N!==(N=at[4].t("pending")+"")&&H(V,N),(!qt||Ce[0]&16)&&R!==(R=at[4].t("user")+"")&&H(P,R),(!qt||Ce[0]&16)&&B!==(B=at[4].t("admin")+"")&&H(M,B),Ce[0]&1&&Jt($,at[0].DEFAULT_USER_ROLE),(!qt||Ce[0]&16)&&z!==(z=at[4].t("Enable API Key")+"")&&H(X,z);const Al={};!te&&Ce[0]&1&&(te=!0,Al.state=at[0].ENABLE_API_KEY,_t(()=>te=!1)),Q.$set(Al),(Gl=at[0])!=null&&Gl.ENABLE_API_KEY?Pt?(Pt.p(at,Ce),Ce[0]&1&&K(Pt,1)):(Pt=In(at),Pt.c(),K(Pt,1),Pt.m(e,F)):Pt&&(Vt(),W(Pt,1,1,()=>{Pt=null}),St()),(!qt||Ce[0]&16)&&$e!==($e=at[4].t("Show Admin Details in Account Pending Overlay")+"")&&H(ge,$e);const Ol={};!He&&Ce[0]&1&&(He=!0,Ol.state=at[0].SHOW_ADMIN_DETAILS,_t(()=>He=!1)),be.$set(Ol),(!qt||Ce[0]&16)&&Ee!==(Ee=at[4].t("Enable Community Sharing")+"")&&H(ce,Ee);const Ul={};!ze&&Ce[0]&1&&(ze=!0,Ul.state=at[0].ENABLE_COMMUNITY_SHARING,_t(()=>ze=!1)),Ie.$set(Ul),(!qt||Ce[0]&16)&&fe!==(fe=at[4].t("Enable Message Rating")+"")&&H(me,fe);const jl={};!Ge&&Ce[0]&1&&(Ge=!0,jl.state=at[0].ENABLE_MESSAGE_RATING,_t(()=>Ge=!1)),Me.$set(jl),(!qt||Ce[0]&16)&&pt!==(pt=at[4].t("WebUI URL")+"")&&H(mt,pt),Ce[0]&1&&Fe.value!==at[0].WEBUI_URL&&ee(Fe,at[0].WEBUI_URL),(!qt||Ce[0]&16)&&At!==(At=at[4].t("Enter the public URL of your WebUI. This URL will be used to generate links in the notifications.")+"")&&H(Te,At),(!qt||Ce[0]&16)&&Xe!==(Xe=at[4].t("JWT Expiration")+"")&&H(oe,Xe),Ce[0]&1&&Je.value!==at[0].JWT_EXPIRES_IN&&ee(Je,at[0].JWT_EXPIRES_IN),(!qt||Ce[0]&16)&&ot!==(ot=at[4].t("Valid time units:")+"")&&H(jt,ot),(!qt||Ce[0]&16)&&It!==(It=at[4].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"")&&H(Lt,It),(!qt||Ce[0]&16)&&ft!==(ft=at[4].t("Webhook URL")+"")&&H(Ft,ft),Ce[0]&2&&kt.value!==at[1]&&ee(kt,at[1]),(!qt||Ce[0]&16)&&rl!==(rl=at[4].t("Channels")+"")&&H(tl,rl),(!qt||Ce[0]&16)&&ol!==(ol=at[4].t("Beta")+"")&&H(Qt,ol);const ss={};!Wt&&Ce[0]&1&&(Wt=!0,ss.state=at[0].ENABLE_CHANNELS,_t(()=>Wt=!1)),fl.$set(ss)},i(at){qt||(K(p.$$.fragment,at),K(Q.$$.fragment,at),K(Pt),K(be.$$.fragment,at),K(Ie.$$.fragment,at),K(Me.$$.fragment,at),K(fl.$$.fragment,at),qt=!0)},o(at){W(p.$$.fragment,at),W(Q.$$.fragment,at),W(Pt),W(be.$$.fragment,at),W(Ie.$$.fragment,at),W(Me.$$.fragment,at),W(fl.$$.fragment,at),qt=!1},d(at){at&&c(e),pe(p),pe(Q),Pt&&Pt.d(),pe(be),pe(Ie),pe(Me),pe(fl),hl=!1,ul(gl)}}}function In(s){var E;let e,t,l=s[4].t("API Key Endpoint Restrictions")+"",a,i,r,f,u,h,b;function p(w){s[11](w)}let m={};s[0].ENABLE_API_KEY_ENDPOINT_RESTRICTIONS!==void 0&&(m.state=s[0].ENABLE_API_KEY_ENDPOINT_RESTRICTIONS),r=new wl({props:m}),it.push(()=>ht(r,"state",p));let g=((E=s[0])==null?void 0:E.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS)&&yn(s);return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),u=A(),g&&g.c(),h=Xt(),this.h()},l(w){e=_(w,"DIV",{class:!0});var k=v(e);t=_(k,"DIV",{class:!0});var I=v(t);a=U(I,l),I.forEach(c),i=D(k),_e(r.$$.fragment,k),k.forEach(c),u=D(w),g&&g.l(w),h=Xt(),this.h()},h(){o(t,"class","self-center text-xs font-medium"),o(e,"class","flex w-full justify-between pr-2 my-3")},m(w,k){O(w,e,k),n(e,t),n(t,a),n(e,i),he(r,e,null),O(w,u,k),g&&g.m(w,k),O(w,h,k),b=!0},p(w,k){var y;(!b||k[0]&16)&&l!==(l=w[4].t("API Key Endpoint Restrictions")+"")&&H(a,l);const I={};!f&&k[0]&1&&(f=!0,I.state=w[0].ENABLE_API_KEY_ENDPOINT_RESTRICTIONS,_t(()=>f=!1)),r.$set(I),(y=w[0])!=null&&y.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS?g?g.p(w,k):(g=yn(w),g.c(),g.m(h.parentNode,h)):g&&(g.d(1),g=null)},i(w){b||(K(r.$$.fragment,w),b=!0)},o(w){W(r.$$.fragment,w),b=!1},d(w){w&&(c(e),c(u),c(h)),pe(r),g&&g.d(w)}}}function yn(s){let e,t,l=s[4].t("Allowed Endpoints")+"",a,i,r,f,u,h,b=s[4].t("To learn more about available endpoints, visit our documentation.")+"",p,m,g;return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("input"),f=A(),u=d("div"),h=d("a"),p=L(b),this.h()},l(E){e=_(E,"DIV",{class:!0});var w=v(e);t=_(w,"DIV",{class:!0});var k=v(t);a=U(k,l),k.forEach(c),i=D(w),r=_(w,"INPUT",{class:!0,type:!0,placeholder:!0}),f=D(w),u=_(w,"DIV",{class:!0});var I=v(u);h=_(I,"A",{href:!0,target:!0,class:!0});var y=v(h);p=U(y,b),y.forEach(c),I.forEach(c),w.forEach(c),this.h()},h(){o(t,"class","text-xs font-medium"),o(r,"class","w-full mt-1 rounded-lg text-sm dark:text-gray-300 bg-transparent outline-none"),o(r,"type","text"),o(r,"placeholder","e.g.) /api/v1/messages, /api/v1/channels"),o(h,"href","https://docs.openwebui.com/getting-started/advanced-topics/api-endpoints"),o(h,"target","_blank"),o(h,"class","text-gray-300 font-medium underline"),o(u,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(e,"class","flex w-full flex-col pr-2")},m(E,w){O(E,e,w),n(e,t),n(t,a),n(e,i),n(e,r),ee(r,s[0].API_KEY_ALLOWED_ENDPOINTS),n(e,f),n(e,u),n(u,h),n(h,p),m||(g=se(r,"input",s[12]),m=!0)},p(E,w){w[0]&16&&l!==(l=E[4].t("Allowed Endpoints")+"")&&H(a,l),w[0]&1&&r.value!==E[0].API_KEY_ALLOWED_ENDPOINTS&&ee(r,E[0].API_KEY_ALLOWED_ENDPOINTS),w[0]&16&&b!==(b=E[4].t("To learn more about available endpoints, visit our documentation.")+"")&&H(p,b)},d(E){E&&c(e),m=!1,g()}}}function Tn(s){let e,t,l,a,i=s[4].t("Label")+"",r,f,u,h,b,p,m,g,E,w,k=s[4].t("Host")+"",I,y,T,$,S,N,V,C=s[4].t("Port")+"",R,P,Z,B,M,j,G,Y=s[4].t("Application DN")+"",z,X,q,Q,te,x,F=s[4].t("Application DN Password")+"",J,ae,ue,ne,$e,ge,Le,be,He=s[4].t("Attribute for Mail")+"",Ve,ie,le,Ee,ce,ke,Ie,ze=s[4].t("Attribute for Username")+"",Qe,ve,ye,fe,me,Oe,Me,Ge=s[4].t("Search Base")+"",Re,Ze,Ke,Dt,re,we,pt,mt=s[4].t("Search Filters")+"",gt,qe,Fe,ct,Rt,At,Te,We=s[4].t("Click here for filter guides.")+"",bt,ut,dt,rt,xe,Xe=s[4].t("TLS")+"",oe,Pe,Tt,Je,Ot,Et,ot,jt,el;Z=new Yt({props:{placement:"top-start",content:s[4].t("Default to 389 or 636 if TLS is enabled"),className:"w-full",$$slots:{default:[uf]},$$scope:{ctx:s}}}),q=new Yt({props:{content:s[4].t("The Application Account DN you bind with for search"),placement:"top-start",$$slots:{default:[ff]},$$scope:{ctx:s}}});function Gt(Ae){s[26](Ae)}let It={placeholder:s[4].t("Enter Application DN Password")};s[3].app_dn_password!==void 0&&(It.value=s[3].app_dn_password),ue=new $l({props:It}),it.push(()=>ht(ue,"value",Gt)),le=new Yt({props:{content:s[4].t("The LDAP attribute that maps to the mail that users use to sign in."),placement:"top-start",$$slots:{default:[cf]},$$scope:{ctx:s}}}),ye=new Yt({props:{content:s[4].t("The LDAP attribute that maps to the username that users use to sign in."),placement:"top-start",$$slots:{default:[df]},$$scope:{ctx:s}}}),Ke=new Yt({props:{content:s[4].t("The base to search for users"),placement:"top-start",$$slots:{default:[_f]},$$scope:{ctx:s}}});function Lt(Ae){s[31](Ae)}let Ct={};s[3].use_tls!==void 0&&(Ct.state=s[3].use_tls),Je=new wl({props:Ct}),it.push(()=>ht(Je,"state",Lt));let Ue=s[3].use_tls&&An(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),r=L(i),f=A(),u=d("input"),b=A(),p=d("div"),m=A(),g=d("div"),E=d("div"),w=d("div"),I=L(k),y=A(),T=d("input"),S=A(),N=d("div"),V=d("div"),R=L(C),P=A(),de(Z.$$.fragment),B=A(),M=d("div"),j=d("div"),G=d("div"),z=L(Y),X=A(),de(q.$$.fragment),Q=A(),te=d("div"),x=d("div"),J=L(F),ae=A(),de(ue.$$.fragment),$e=A(),ge=d("div"),Le=d("div"),be=d("div"),Ve=L(He),ie=A(),de(le.$$.fragment),Ee=A(),ce=d("div"),ke=d("div"),Ie=d("div"),Qe=L(ze),ve=A(),de(ye.$$.fragment),fe=A(),me=d("div"),Oe=d("div"),Me=d("div"),Re=L(Ge),Ze=A(),de(Ke.$$.fragment),Dt=A(),re=d("div"),we=d("div"),pt=d("div"),gt=L(mt),qe=A(),Fe=d("input"),Rt=A(),At=d("div"),Te=d("a"),bt=L(We),ut=A(),dt=d("div"),rt=d("div"),xe=d("div"),oe=L(Xe),Pe=A(),Tt=d("div"),de(Je.$$.fragment),Et=A(),Ue&&Ue.c(),this.h()},l(Ae){e=_(Ae,"DIV",{class:!0});var De=v(e);t=_(De,"DIV",{class:!0});var wt=v(t);l=_(wt,"DIV",{class:!0});var et=v(l);a=_(et,"DIV",{class:!0});var ft=v(a);r=U(ft,i),ft.forEach(c),f=D(et),u=_(et,"INPUT",{class:!0,placeholder:!0}),et.forEach(c),b=D(wt),p=_(wt,"DIV",{class:!0}),v(p).forEach(c),wt.forEach(c),m=D(De),g=_(De,"DIV",{class:!0});var Ft=v(g);E=_(Ft,"DIV",{class:!0});var Ut=v(E);w=_(Ut,"DIV",{class:!0});var Bt=v(w);I=U(Bt,k),Bt.forEach(c),y=D(Ut),T=_(Ut,"INPUT",{class:!0,placeholder:!0}),Ut.forEach(c),S=D(Ft),N=_(Ft,"DIV",{class:!0});var kt=v(N);V=_(kt,"DIV",{class:!0});var je=v(V);R=U(je,C),je.forEach(c),P=D(kt),_e(Z.$$.fragment,kt),kt.forEach(c),Ft.forEach(c),B=D(De),M=_(De,"DIV",{class:!0});var Be=v(M);j=_(Be,"DIV",{class:!0});var tt=v(j);G=_(tt,"DIV",{class:!0});var st=v(G);z=U(st,Y),st.forEach(c),X=D(tt),_e(q.$$.fragment,tt),tt.forEach(c),Q=D(Be),te=_(Be,"DIV",{class:!0});var Nt=v(te);x=_(Nt,"DIV",{class:!0});var rl=v(x);J=U(rl,F),rl.forEach(c),ae=D(Nt),_e(ue.$$.fragment,Nt),Nt.forEach(c),Be.forEach(c),$e=D(De),ge=_(De,"DIV",{class:!0});var tl=v(ge);Le=_(tl,"DIV",{class:!0});var $t=v(Le);be=_($t,"DIV",{class:!0});var ol=v(be);Ve=U(ol,He),ol.forEach(c),ie=D($t),_e(le.$$.fragment,$t),$t.forEach(c),tl.forEach(c),Ee=D(De),ce=_(De,"DIV",{class:!0});var Qt=v(ce);ke=_(Qt,"DIV",{class:!0});var Zt=v(ke);Ie=_(Zt,"DIV",{class:!0});var yl=v(Ie);Qe=U(yl,ze),yl.forEach(c),ve=D(Zt),_e(ye.$$.fragment,Zt),Zt.forEach(c),Qt.forEach(c),fe=D(De),me=_(De,"DIV",{class:!0});var fl=v(me);Oe=_(fl,"DIV",{class:!0});var Wt=v(Oe);Me=_(Wt,"DIV",{class:!0});var qt=v(Me);Re=U(qt,Ge),qt.forEach(c),Ze=D(Wt),_e(Ke.$$.fragment,Wt),Wt.forEach(c),fl.forEach(c),Dt=D(De),re=_(De,"DIV",{class:!0});var hl=v(re);we=_(hl,"DIV",{class:!0});var gl=v(we);pt=_(gl,"DIV",{class:!0});var kl=v(pt);gt=U(kl,mt),kl.forEach(c),qe=D(gl),Fe=_(gl,"INPUT",{class:!0,placeholder:!0}),gl.forEach(c),hl.forEach(c),Rt=D(De),At=_(De,"DIV",{class:!0});var bl=v(At);Te=_(bl,"A",{class:!0,href:!0,target:!0});var Ht=v(Te);bt=U(Ht,We),Ht.forEach(c),bl.forEach(c),ut=D(De),dt=_(De,"DIV",{});var El=v(dt);rt=_(El,"DIV",{class:!0});var Pt=v(rt);xe=_(Pt,"DIV",{class:!0});var Ne=v(xe);oe=U(Ne,Xe),Ne.forEach(c),Pe=D(Pt),Tt=_(Pt,"DIV",{class:!0});var lt=v(Tt);_e(Je.$$.fragment,lt),lt.forEach(c),Pt.forEach(c),Et=D(El),Ue&&Ue.l(El),El.forEach(c),De.forEach(c),this.h()},h(){o(a,"class","self-center text-xs font-medium min-w-fit mb-1"),o(u,"class","w-full bg-transparent outline-none py-0.5"),u.required=!0,o(u,"placeholder",h=s[4].t("Enter server label")),o(l,"class","w-full"),o(p,"class","w-full"),o(t,"class","flex w-full gap-2"),o(w,"class","self-center text-xs font-medium min-w-fit mb-1"),o(T,"class","w-full bg-transparent outline-none py-0.5"),T.required=!0,o(T,"placeholder",$=s[4].t("Enter server host")),o(E,"class","w-full"),o(V,"class","self-center text-xs font-medium min-w-fit mb-1"),o(N,"class","w-full"),o(g,"class","flex w-full gap-2"),o(G,"class","self-center text-xs font-medium min-w-fit mb-1"),o(j,"class","w-full"),o(x,"class","self-center text-xs font-medium min-w-fit mb-1"),o(te,"class","w-full"),o(M,"class","flex w-full gap-2"),o(be,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Le,"class","w-full"),o(ge,"class","flex w-full gap-2"),o(Ie,"class","self-center text-xs font-medium min-w-fit mb-1"),o(ke,"class","w-full"),o(ce,"class","flex w-full gap-2"),o(Me,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Oe,"class","w-full"),o(me,"class","flex w-full gap-2"),o(pt,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Fe,"class","w-full bg-transparent outline-none py-0.5"),o(Fe,"placeholder",ct=s[4].t("Example: (&(objectClass=inetOrgPerson)(uid=%s))")),o(we,"class","w-full"),o(re,"class","flex w-full gap-2"),o(Te,"class","text-gray-300 font-medium underline"),o(Te,"href","https://ldap.com/ldap-filters/"),o(Te,"target","_blank"),o(At,"class","text-xs text-gray-400 dark:text-gray-500"),o(xe,"class","font-medium"),o(Tt,"class","mt-1"),o(rt,"class","flex justify-between items-center text-sm"),o(e,"class","flex flex-col gap-1")},m(Ae,De){O(Ae,e,De),n(e,t),n(t,l),n(l,a),n(a,r),n(l,f),n(l,u),ee(u,s[3].label),n(t,b),n(t,p),n(e,m),n(e,g),n(g,E),n(E,w),n(w,I),n(E,y),n(E,T),ee(T,s[3].host),n(g,S),n(g,N),n(N,V),n(V,R),n(N,P),he(Z,N,null),n(e,B),n(e,M),n(M,j),n(j,G),n(G,z),n(j,X),he(q,j,null),n(M,Q),n(M,te),n(te,x),n(x,J),n(te,ae),he(ue,te,null),n(e,$e),n(e,ge),n(ge,Le),n(Le,be),n(be,Ve),n(Le,ie),he(le,Le,null),n(e,Ee),n(e,ce),n(ce,ke),n(ke,Ie),n(Ie,Qe),n(ke,ve),he(ye,ke,null),n(e,fe),n(e,me),n(me,Oe),n(Oe,Me),n(Me,Re),n(Oe,Ze),he(Ke,Oe,null),n(e,Dt),n(e,re),n(re,we),n(we,pt),n(pt,gt),n(we,qe),n(we,Fe),ee(Fe,s[3].search_filters),n(e,Rt),n(e,At),n(At,Te),n(Te,bt),n(e,ut),n(e,dt),n(dt,rt),n(rt,xe),n(xe,oe),n(rt,Pe),n(rt,Tt),he(Je,Tt,null),n(dt,Et),Ue&&Ue.m(dt,null),ot=!0,jt||(el=[se(u,"input",s[22]),se(T,"input",s[23]),se(Fe,"input",s[30])],jt=!0)},p(Ae,De){(!ot||De[0]&16)&&i!==(i=Ae[4].t("Label")+"")&&H(r,i),(!ot||De[0]&16&&h!==(h=Ae[4].t("Enter server label")))&&o(u,"placeholder",h),De[0]&8&&u.value!==Ae[3].label&&ee(u,Ae[3].label),(!ot||De[0]&16)&&k!==(k=Ae[4].t("Host")+"")&&H(I,k),(!ot||De[0]&16&&$!==($=Ae[4].t("Enter server host")))&&o(T,"placeholder",$),De[0]&8&&T.value!==Ae[3].host&&ee(T,Ae[3].host),(!ot||De[0]&16)&&C!==(C=Ae[4].t("Port")+"")&&H(R,C);const wt={};De[0]&16&&(wt.content=Ae[4].t("Default to 389 or 636 if TLS is enabled")),De[0]&24|De[1]&32&&(wt.$$scope={dirty:De,ctx:Ae}),Z.$set(wt),(!ot||De[0]&16)&&Y!==(Y=Ae[4].t("Application DN")+"")&&H(z,Y);const et={};De[0]&16&&(et.content=Ae[4].t("The Application Account DN you bind with for search")),De[0]&24|De[1]&32&&(et.$$scope={dirty:De,ctx:Ae}),q.$set(et),(!ot||De[0]&16)&&F!==(F=Ae[4].t("Application DN Password")+"")&&H(J,F);const ft={};De[0]&16&&(ft.placeholder=Ae[4].t("Enter Application DN Password")),!ne&&De[0]&8&&(ne=!0,ft.value=Ae[3].app_dn_password,_t(()=>ne=!1)),ue.$set(ft),(!ot||De[0]&16)&&He!==(He=Ae[4].t("Attribute for Mail")+"")&&H(Ve,He);const Ft={};De[0]&16&&(Ft.content=Ae[4].t("The LDAP attribute that maps to the mail that users use to sign in.")),De[0]&24|De[1]&32&&(Ft.$$scope={dirty:De,ctx:Ae}),le.$set(Ft),(!ot||De[0]&16)&&ze!==(ze=Ae[4].t("Attribute for Username")+"")&&H(Qe,ze);const Ut={};De[0]&16&&(Ut.content=Ae[4].t("The LDAP attribute that maps to the username that users use to sign in.")),De[0]&24|De[1]&32&&(Ut.$$scope={dirty:De,ctx:Ae}),ye.$set(Ut),(!ot||De[0]&16)&&Ge!==(Ge=Ae[4].t("Search Base")+"")&&H(Re,Ge);const Bt={};De[0]&16&&(Bt.content=Ae[4].t("The base to search for users")),De[0]&24|De[1]&32&&(Bt.$$scope={dirty:De,ctx:Ae}),Ke.$set(Bt),(!ot||De[0]&16)&&mt!==(mt=Ae[4].t("Search Filters")+"")&&H(gt,mt),(!ot||De[0]&16&&ct!==(ct=Ae[4].t("Example: (&(objectClass=inetOrgPerson)(uid=%s))")))&&o(Fe,"placeholder",ct),De[0]&8&&Fe.value!==Ae[3].search_filters&&ee(Fe,Ae[3].search_filters),(!ot||De[0]&16)&&We!==(We=Ae[4].t("Click here for filter guides.")+"")&&H(bt,We),(!ot||De[0]&16)&&Xe!==(Xe=Ae[4].t("TLS")+"")&&H(oe,Xe);const kt={};!Ot&&De[0]&8&&(Ot=!0,kt.state=Ae[3].use_tls,_t(()=>Ot=!1)),Je.$set(kt),Ae[3].use_tls?Ue?(Ue.p(Ae,De),De[0]&8&&K(Ue,1)):(Ue=An(Ae),Ue.c(),K(Ue,1),Ue.m(dt,null)):Ue&&(Vt(),W(Ue,1,1,()=>{Ue=null}),St())},i(Ae){ot||(K(Z.$$.fragment,Ae),K(q.$$.fragment,Ae),K(ue.$$.fragment,Ae),K(le.$$.fragment,Ae),K(ye.$$.fragment,Ae),K(Ke.$$.fragment,Ae),K(Je.$$.fragment,Ae),K(Ue),ot=!0)},o(Ae){W(Z.$$.fragment,Ae),W(q.$$.fragment,Ae),W(ue.$$.fragment,Ae),W(le.$$.fragment,Ae),W(ye.$$.fragment,Ae),W(Ke.$$.fragment,Ae),W(Je.$$.fragment,Ae),W(Ue),ot=!1},d(Ae){Ae&&c(e),pe(Z),pe(q),pe(ue),pe(le),pe(ye),pe(Ke),pe(Je),Ue&&Ue.d(),jt=!1,ul(el)}}}function uf(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-none py-0.5"),o(e,"type","number"),o(e,"placeholder",t=s[4].t("Enter server port"))},m(i,r){O(i,e,r),ee(e,s[3].port),l||(a=se(e,"input",s[24]),l=!0)},p(i,r){r[0]&16&&t!==(t=i[4].t("Enter server port"))&&o(e,"placeholder",t),r[0]&8&&Rl(e.value)!==i[3].port&&ee(e,i[3].port)},d(i){i&&c(e),l=!1,a()}}}function ff(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-none py-0.5"),e.required=!0,o(e,"placeholder",t=s[4].t("Enter Application DN"))},m(i,r){O(i,e,r),ee(e,s[3].app_dn),l||(a=se(e,"input",s[25]),l=!0)},p(i,r){r[0]&16&&t!==(t=i[4].t("Enter Application DN"))&&o(e,"placeholder",t),r[0]&8&&e.value!==i[3].app_dn&&ee(e,i[3].app_dn)},d(i){i&&c(e),l=!1,a()}}}function cf(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-none py-0.5"),e.required=!0,o(e,"placeholder",t=s[4].t("Example: mail"))},m(i,r){O(i,e,r),ee(e,s[3].attribute_for_mail),l||(a=se(e,"input",s[27]),l=!0)},p(i,r){r[0]&16&&t!==(t=i[4].t("Example: mail"))&&o(e,"placeholder",t),r[0]&8&&e.value!==i[3].attribute_for_mail&&ee(e,i[3].attribute_for_mail)},d(i){i&&c(e),l=!1,a()}}}function df(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-none py-0.5"),e.required=!0,o(e,"placeholder",t=s[4].t("Example: sAMAccountName or uid or userPrincipalName"))},m(i,r){O(i,e,r),ee(e,s[3].attribute_for_username),l||(a=se(e,"input",s[28]),l=!0)},p(i,r){r[0]&16&&t!==(t=i[4].t("Example: sAMAccountName or uid or userPrincipalName"))&&o(e,"placeholder",t),r[0]&8&&e.value!==i[3].attribute_for_username&&ee(e,i[3].attribute_for_username)},d(i){i&&c(e),l=!1,a()}}}function _f(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-none py-0.5"),e.required=!0,o(e,"placeholder",t=s[4].t("Example: ou=users,dc=foo,dc=example"))},m(i,r){O(i,e,r),ee(e,s[3].search_base),l||(a=se(e,"input",s[29]),l=!0)},p(i,r){r[0]&16&&t!==(t=i[4].t("Example: ou=users,dc=foo,dc=example"))&&o(e,"placeholder",t),r[0]&8&&e.value!==i[3].search_base&&ee(e,i[3].search_base)},d(i){i&&c(e),l=!1,a()}}}function An(s){let e,t,l,a=s[4].t("Certificate Path")+"",i,r,f,u,h,b,p,m,g=s[4].t("Ciphers")+"",E,w,k,I,y,T,$,S;return k=new Yt({props:{content:s[4].t("Default to ALL"),placement:"top-start",$$slots:{default:[hf]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("input"),h=A(),b=d("div"),p=d("div"),m=d("div"),E=L(g),w=A(),de(k.$$.fragment),I=A(),y=d("div"),this.h()},l(N){e=_(N,"DIV",{class:!0});var V=v(e);t=_(V,"DIV",{class:!0});var C=v(t);l=_(C,"DIV",{class:!0});var R=v(l);i=U(R,a),R.forEach(c),r=D(C),f=_(C,"INPUT",{class:!0,placeholder:!0}),C.forEach(c),V.forEach(c),h=D(N),b=_(N,"DIV",{class:!0});var P=v(b);p=_(P,"DIV",{class:!0});var Z=v(p);m=_(Z,"DIV",{class:!0});var B=v(m);E=U(B,g),B.forEach(c),w=D(Z),_e(k.$$.fragment,Z),Z.forEach(c),I=D(P),y=_(P,"DIV",{class:!0}),v(y).forEach(c),P.forEach(c),this.h()},h(){o(l,"class","self-center text-xs font-medium min-w-fit mb-1 mt-1"),o(f,"class","w-full bg-transparent outline-none py-0.5"),f.required=!0,o(f,"placeholder",u=s[4].t("Enter certificate path")),o(t,"class","w-full"),o(e,"class","flex w-full gap-2"),o(m,"class","self-center text-xs font-medium min-w-fit mb-1"),o(p,"class","w-full"),o(y,"class","w-full"),o(b,"class","flex w-full gap-2")},m(N,V){O(N,e,V),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),ee(f,s[3].certificate_path),O(N,h,V),O(N,b,V),n(b,p),n(p,m),n(m,E),n(p,w),he(k,p,null),n(b,I),n(b,y),T=!0,$||(S=se(f,"input",s[32]),$=!0)},p(N,V){(!T||V[0]&16)&&a!==(a=N[4].t("Certificate Path")+"")&&H(i,a),(!T||V[0]&16&&u!==(u=N[4].t("Enter certificate path")))&&o(f,"placeholder",u),V[0]&8&&f.value!==N[3].certificate_path&&ee(f,N[3].certificate_path),(!T||V[0]&16)&&g!==(g=N[4].t("Ciphers")+"")&&H(E,g);const C={};V[0]&16&&(C.content=N[4].t("Default to ALL")),V[0]&24|V[1]&32&&(C.$$scope={dirty:V,ctx:N}),k.$set(C)},i(N){T||(K(k.$$.fragment,N),T=!0)},o(N){W(k.$$.fragment,N),T=!1},d(N){N&&(c(e),c(h),c(b)),pe(k),$=!1,S()}}}function hf(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-none py-0.5"),o(e,"placeholder",t=s[4].t("Example: ALL"))},m(i,r){O(i,e,r),ee(e,s[3].ciphers),l||(a=se(e,"input",s[33]),l=!0)},p(i,r){r[0]&16&&t!==(t=i[4].t("Example: ALL"))&&o(e,"placeholder",t),r[0]&8&&e.value!==i[3].ciphers&&ee(e,i[3].ciphers)},d(i){i&&c(e),l=!1,a()}}}function pf(s){let e,t,l,a,i,r,f,u,h,b=s[4].t("LDAP")+"",p,m,g,E,w,k,I,y,T,$=s[4].t("Save")+"",S,N,V,C,R=s[0]!==null&&kn(s);function P(M){s[20](M)}let Z={};s[2]!==void 0&&(Z.state=s[2]),E=new wl({props:Z}),it.push(()=>ht(E,"state",P)),E.$on("change",s[21]);let B=s[2]&&Tn(s);return{c(){e=d("form"),t=d("div"),R&&R.c(),l=A(),a=d("hr"),i=A(),r=d("div"),f=d("div"),u=d("div"),h=d("div"),p=L(b),m=A(),g=d("div"),de(E.$$.fragment),k=A(),B&&B.c(),I=A(),y=d("div"),T=d("button"),S=L($),this.h()},l(M){e=_(M,"FORM",{class:!0});var j=v(e);t=_(j,"DIV",{class:!0});var G=v(t);R&&R.l(G),l=D(G),a=_(G,"HR",{class:!0}),i=D(G),r=_(G,"DIV",{class:!0});var Y=v(r);f=_(Y,"DIV",{class:!0});var z=v(f);u=_(z,"DIV",{class:!0});var X=v(u);h=_(X,"DIV",{class:!0});var q=v(h);p=U(q,b),q.forEach(c),m=D(X),g=_(X,"DIV",{class:!0});var Q=v(g);_e(E.$$.fragment,Q),Q.forEach(c),X.forEach(c),k=D(z),B&&B.l(z),z.forEach(c),Y.forEach(c),G.forEach(c),I=D(j),y=_(j,"DIV",{class:!0});var te=v(y);T=_(te,"BUTTON",{class:!0,type:!0});var x=v(T);S=U(x,$),x.forEach(c),te.forEach(c),j.forEach(c),this.h()},h(){o(a,"class","border-gray-50 dark:border-gray-850"),o(h,"class","font-medium"),o(g,"class","mt-1"),o(u,"class","flex justify-between items-center text-sm"),o(f,"class","mt-2 space-y-2 pr-1.5"),o(r,"class","space-y-3"),o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(T,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(T,"type","submit"),o(y,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(M,j){O(M,e,j),n(e,t),R&&R.m(t,null),n(t,l),n(t,a),n(t,i),n(t,r),n(r,f),n(f,u),n(u,h),n(h,p),n(u,m),n(u,g),he(E,g,null),n(f,k),B&&B.m(f,null),n(e,I),n(e,y),n(y,T),n(T,S),N=!0,V||(C=se(e,"submit",rs(s[34])),V=!0)},p(M,j){M[0]!==null?R?(R.p(M,j),j[0]&1&&K(R,1)):(R=kn(M),R.c(),K(R,1),R.m(t,l)):R&&(Vt(),W(R,1,1,()=>{R=null}),St()),(!N||j[0]&16)&&b!==(b=M[4].t("LDAP")+"")&&H(p,b);const G={};!w&&j[0]&4&&(w=!0,G.state=M[2],_t(()=>w=!1)),E.$set(G),M[2]?B?(B.p(M,j),j[0]&4&&K(B,1)):(B=Tn(M),B.c(),K(B,1),B.m(f,null)):B&&(Vt(),W(B,1,1,()=>{B=null}),St()),(!N||j[0]&16)&&$!==($=M[4].t("Save")+"")&&H(S,$)},i(M){N||(K(R),K(E.$$.fragment,M),K(B),N=!0)},o(M){W(R),W(E.$$.fragment,M),W(B),N=!1},d(M){M&&c(e),R&&R.d(),pe(E),B&&B.d(),V=!1,C()}}}function vf(s,e,t){let l;const a=Il("i18n");nl(s,a,F=>t(4,l=F));let{saveHandler:i}=e,r=null,f="",u=!1,h={label:"",host:"",port:"",attribute_for_mail:"mail",attribute_for_username:"uid",app_dn:"",app_dn_password:"",search_base:"",search_filters:"",use_tls:!1,certificate_path:"",ciphers:""};const b=async()=>{if(!u)return;await ku(localStorage.token,h).catch(J=>(Ye.error(`${J}`),null))&&Ye.success(l.t("LDAP server updated"))},p=async()=>{t(1,f=await Jo(localStorage.token,f));const F=await Eu(localStorage.token,r);await b(),F?i():Ye.error(a.t("Failed to update settings"))};Hl(async()=>{await Promise.all([(async()=>{t(0,r=await mu(localStorage.token))})(),(async()=>{t(1,f=await Qo(localStorage.token))})(),(async()=>{t(3,h=await gu(localStorage.token))})()]);const F=await bu(localStorage.token);t(2,u=F.ENABLE_LDAP)});function m(F){s.$$.not_equal(r.ENABLE_SIGNUP,F)&&(r.ENABLE_SIGNUP=F,t(0,r))}function g(){r.DEFAULT_USER_ROLE=Sl(this),t(0,r)}function E(F){s.$$.not_equal(r.ENABLE_API_KEY,F)&&(r.ENABLE_API_KEY=F,t(0,r))}function w(F){s.$$.not_equal(r.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS,F)&&(r.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS=F,t(0,r))}function k(){r.API_KEY_ALLOWED_ENDPOINTS=this.value,t(0,r)}function I(F){s.$$.not_equal(r.SHOW_ADMIN_DETAILS,F)&&(r.SHOW_ADMIN_DETAILS=F,t(0,r))}function y(F){s.$$.not_equal(r.ENABLE_COMMUNITY_SHARING,F)&&(r.ENABLE_COMMUNITY_SHARING=F,t(0,r))}function T(F){s.$$.not_equal(r.ENABLE_MESSAGE_RATING,F)&&(r.ENABLE_MESSAGE_RATING=F,t(0,r))}function $(){r.WEBUI_URL=this.value,t(0,r)}function S(){r.JWT_EXPIRES_IN=this.value,t(0,r)}function N(){f=this.value,t(1,f)}function V(F){s.$$.not_equal(r.ENABLE_CHANNELS,F)&&(r.ENABLE_CHANNELS=F,t(0,r))}function C(F){u=F,t(2,u)}const R=async()=>{wu(localStorage.token,u)};function P(){h.label=this.value,t(3,h)}function Z(){h.host=this.value,t(3,h)}function B(){h.port=Rl(this.value),t(3,h)}function M(){h.app_dn=this.value,t(3,h)}function j(F){s.$$.not_equal(h.app_dn_password,F)&&(h.app_dn_password=F,t(3,h))}function G(){h.attribute_for_mail=this.value,t(3,h)}function Y(){h.attribute_for_username=this.value,t(3,h)}function z(){h.search_base=this.value,t(3,h)}function X(){h.search_filters=this.value,t(3,h)}function q(F){s.$$.not_equal(h.use_tls,F)&&(h.use_tls=F,t(3,h))}function Q(){h.certificate_path=this.value,t(3,h)}function te(){h.ciphers=this.value,t(3,h)}const x=async()=>{p()};return s.$$set=F=>{"saveHandler"in F&&t(7,i=F.saveHandler)},[r,f,u,h,l,a,p,i,m,g,E,w,k,I,y,T,$,S,N,V,C,R,P,Z,B,M,j,G,Y,z,X,q,Q,te,x]}class mf extends vl{constructor(e){super(),ml(this,e,vf,pf,pl,{saveHandler:7},null,[-1,-1])}}function Dn(s,e,t){const l=s.slice();return l[34]=e[t],l[35]=e,l[36]=t,l}function $n(s,e,t){const l=s.slice();return l[37]=e[t],l}function Vn(s,e,t){const l=s.slice();return l[40]=e[t],l[36]=t,l}function Sn(s,e,t){const l=s.slice();return l[10]=e[t],l[36]=t,l}function gf(s){let e,t,l,a;return l=new Is({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),de(l.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{class:!0});var f=v(t);_e(l.$$.fragment,f),f.forEach(c),r.forEach(c),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex justify-center h-full")},m(i,r){O(i,e,r),n(e,t),he(l,t,null),a=!0},p:vt,i(i){a||(K(l.$$.fragment,i),a=!0)},o(i){W(l.$$.fragment,i),a=!1},d(i){i&&c(e),pe(l)}}}function bf(s){let e,t,l=s[9].t("Manage Pipelines")+"",a,i,r,f,u,h;const b=[wf,Ef],p=[];function m(g,E){return g[3].length>0?0:1}return r=m(s),f=p[r]=b[r](s),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),f.c(),u=Xt(),this.h()},l(g){e=_(g,"DIV",{class:!0});var E=v(e);t=_(E,"DIV",{class:!0});var w=v(t);a=U(w,l),w.forEach(c),E.forEach(c),i=D(g),f.l(g),u=Xt(),this.h()},h(){o(t,"class","self-center text-sm font-semibold"),o(e,"class","flex w-full justify-between mb-2")},m(g,E){O(g,e,E),n(e,t),n(t,a),O(g,i,E),p[r].m(g,E),O(g,u,E),h=!0},p(g,E){(!h||E[0]&512)&&l!==(l=g[9].t("Manage Pipelines")+"")&&H(a,l);let w=r;r=m(g),r===w?p[r].p(g,E):(Vt(),W(p[w],1,1,()=>{p[w]=null}),St(),f=p[r],f?f.p(g,E):(f=p[r]=b[r](g),f.c()),K(f,1),f.m(u.parentNode,u))},i(g){h||(K(f),h=!0)},o(g){W(f),h=!1},d(g){g&&(c(e),c(i),c(u)),p[r].d(g)}}}function Ef(s){let e,t=s[9].t("Pipelines Not Detected")+"",l;return{c(){e=d("div"),l=L(t)},l(a){e=_(a,"DIV",{});var i=v(e);l=U(i,t),i.forEach(c)},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&512&&t!==(t=a[9].t("Pipelines Not Detected")+"")&&H(l,t)},i:vt,o:vt,d(a){a&&c(e)}}}function wf(s){let e,t,l,a,i,r=s[9].t("Select a pipeline url")+"",f,u,h,b,p,m=s[9].t("Upload Pipeline")+"",g,E,w,k,I,y,T,$,S,N,V,C,R=s[9].t("Install from Github URL")+"",P,Z,B,M,j,G,Y,z,X,q,Q=`<span class="font-semibold dark:text-gray-200">Warning:</span> Pipelines are a plugin
						system with arbitrary code execution —
						<span class="font-medium dark:text-gray-400">don&#39;t fetch random pipelines from sources you don&#39;t trust.</span>`,te,x,F,J,ae,ue,ne,$e,ge,Le=yt(s[3]),be=[];for(let fe=0;fe<Le.length;fe+=1)be[fe]=Nn(Sn(s,Le,fe));function He(fe,me){return fe[2]?If:kf}let Ve=He(s),ie=Ve(s);function le(fe,me){return fe[1]?Tf:yf}let Ee=le(s),ce=Ee(s);function ke(fe,me){return fe[0]?Df:Af}let Ie=ke(s),ze=Ie(s);const Qe=[Vf,$f],ve=[];function ye(fe,me){return fe[10]!==null?0:1}return J=ye(s),ae=ve[J]=Qe[J](s),{c(){e=d("div"),t=d("div"),l=d("div"),a=d("select"),i=d("option"),f=L(r);for(let fe=0;fe<be.length;fe+=1)be[fe].c();h=A(),b=d("div"),p=d("div"),g=L(m),E=A(),w=d("div"),k=d("div"),I=d("input"),y=A(),T=d("button"),ie.c(),$=A(),S=d("button"),ce.c(),N=A(),V=d("div"),C=d("div"),P=L(R),Z=A(),B=d("div"),M=d("div"),j=d("input"),Y=A(),z=d("button"),ze.c(),X=A(),q=d("div"),q.innerHTML=Q,te=A(),x=d("hr"),F=A(),ae.c(),ue=Xt(),this.h()},l(fe){e=_(fe,"DIV",{class:!0});var me=v(e);t=_(me,"DIV",{class:!0});var Oe=v(t);l=_(Oe,"DIV",{class:!0});var Me=v(l);a=_(Me,"SELECT",{class:!0,placeholder:!0});var Ge=v(a);i=_(Ge,"OPTION",{class:!0});var Re=v(i);f=U(Re,r),Re.forEach(c);for(let Rt=0;Rt<be.length;Rt+=1)be[Rt].l(Ge);Ge.forEach(c),Me.forEach(c),Oe.forEach(c),me.forEach(c),h=D(fe),b=_(fe,"DIV",{class:!0});var Ze=v(b);p=_(Ze,"DIV",{class:!0});var Ke=v(p);g=U(Ke,m),Ke.forEach(c),E=D(Ze),w=_(Ze,"DIV",{class:!0});var Dt=v(w);k=_(Dt,"DIV",{class:!0});var re=v(k);I=_(re,"INPUT",{id:!0,type:!0,accept:!0}),y=D(re),T=_(re,"BUTTON",{class:!0,type:!0});var we=v(T);ie.l(we),we.forEach(c),re.forEach(c),$=D(Dt),S=_(Dt,"BUTTON",{class:!0,type:!0});var pt=v(S);ce.l(pt),pt.forEach(c),Dt.forEach(c),Ze.forEach(c),N=D(fe),V=_(fe,"DIV",{class:!0});var mt=v(V);C=_(mt,"DIV",{class:!0});var gt=v(C);P=U(gt,R),gt.forEach(c),Z=D(mt),B=_(mt,"DIV",{class:!0});var qe=v(B);M=_(qe,"DIV",{class:!0});var Fe=v(M);j=_(Fe,"INPUT",{class:!0,placeholder:!0}),Fe.forEach(c),Y=D(qe),z=_(qe,"BUTTON",{class:!0,type:!0});var ct=v(z);ze.l(ct),ct.forEach(c),qe.forEach(c),X=D(mt),q=_(mt,"DIV",{class:!0,"data-svelte-h":!0}),Kt(q)!=="svelte-ob7r3n"&&(q.innerHTML=Q),mt.forEach(c),te=D(fe),x=_(fe,"HR",{class:!0}),F=D(fe),ae.l(fe),ue=Xt(),this.h()},h(){i.__value="",ee(i,i.__value),i.selected=!0,i.disabled=!0,o(i,"class","bg-gray-100 dark:bg-gray-700"),o(a,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(a,"placeholder",u=s[9].t("Select a pipeline url")),s[4]===void 0&&Nl(()=>s[19].call(a)),o(l,"class","flex-1"),o(t,"class","flex gap-2"),o(e,"class","space-y-1"),o(p,"class","mb-2 text-sm font-medium"),o(I,"id","pipelines-upload-input"),o(I,"type","file"),o(I,"accept",".py"),I.hidden=!0,o(T,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),o(T,"type","button"),o(k,"class","flex-1 mr-2"),o(S,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),S.disabled=s[1],o(S,"type","button"),o(w,"class","flex w-full"),o(b,"class","my-2"),o(C,"class","mb-2 text-sm font-medium"),o(j,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(j,"placeholder",G=s[9].t("Enter Github Raw URL")),o(M,"class","flex-1 mr-2"),o(z,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),z.disabled=s[0],o(z,"type","button"),o(B,"class","flex w-full"),o(q,"class","mt-2 text-xs text-gray-500"),o(V,"class","my-2"),o(x,"class","dark:border-gray-800 my-3 w-full")},m(fe,me){O(fe,e,me),n(e,t),n(t,l),n(l,a),n(a,i),n(i,f);for(let Oe=0;Oe<be.length;Oe+=1)be[Oe]&&be[Oe].m(a,null);Jt(a,s[4],!0),O(fe,h,me),O(fe,b,me),n(b,p),n(p,g),n(b,E),n(b,w),n(w,k),n(k,I),n(k,y),n(k,T),ie.m(T,null),n(w,$),n(w,S),ce.m(S,null),O(fe,N,me),O(fe,V,me),n(V,C),n(C,P),n(V,Z),n(V,B),n(B,M),n(M,j),ee(j,s[8]),n(B,Y),n(B,z),ze.m(z,null),n(V,X),n(V,q),O(fe,te,me),O(fe,x,me),O(fe,F,me),ve[J].m(fe,me),O(fe,ue,me),ne=!0,$e||(ge=[se(a,"change",s[19]),se(a,"change",s[20]),se(I,"change",s[21]),se(T,"click",s[22]),se(S,"click",s[23]),se(j,"input",s[24]),se(z,"click",s[25])],$e=!0)},p(fe,me){if((!ne||me[0]&512)&&r!==(r=fe[9].t("Select a pipeline url")+"")&&H(f,r),me[0]&8){Le=yt(fe[3]);let Me;for(Me=0;Me<Le.length;Me+=1){const Ge=Sn(fe,Le,Me);be[Me]?be[Me].p(Ge,me):(be[Me]=Nn(Ge),be[Me].c(),be[Me].m(a,null))}for(;Me<be.length;Me+=1)be[Me].d(1);be.length=Le.length}(!ne||me[0]&512&&u!==(u=fe[9].t("Select a pipeline url")))&&o(a,"placeholder",u),me[0]&24&&Jt(a,fe[4]),(!ne||me[0]&512)&&m!==(m=fe[9].t("Upload Pipeline")+"")&&H(g,m),Ve===(Ve=He(fe))&&ie?ie.p(fe,me):(ie.d(1),ie=Ve(fe),ie&&(ie.c(),ie.m(T,null))),Ee!==(Ee=le(fe))&&(ce.d(1),ce=Ee(fe),ce&&(ce.c(),ce.m(S,null))),(!ne||me[0]&2)&&(S.disabled=fe[1]),(!ne||me[0]&512)&&R!==(R=fe[9].t("Install from Github URL")+"")&&H(P,R),(!ne||me[0]&512&&G!==(G=fe[9].t("Enter Github Raw URL")))&&o(j,"placeholder",G),me[0]&256&&j.value!==fe[8]&&ee(j,fe[8]),Ie!==(Ie=ke(fe))&&(ze.d(1),ze=Ie(fe),ze&&(ze.c(),ze.m(z,null))),(!ne||me[0]&1)&&(z.disabled=fe[0]);let Oe=J;J=ye(fe),J===Oe?ve[J].p(fe,me):(Vt(),W(ve[Oe],1,1,()=>{ve[Oe]=null}),St(),ae=ve[J],ae?ae.p(fe,me):(ae=ve[J]=Qe[J](fe),ae.c()),K(ae,1),ae.m(ue.parentNode,ue))},i(fe){ne||(K(ae),ne=!0)},o(fe){W(ae),ne=!1},d(fe){fe&&(c(e),c(h),c(b),c(N),c(V),c(te),c(x),c(F),c(ue)),cl(be,fe),ie.d(),ce.d(),ze.d(),ve[J].d(fe),$e=!1,ul(ge)}}}function Nn(s){let e,t=s[10].url+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=_(i,"OPTION",{class:!0});var r=v(e);l=U(r,t),r.forEach(c),this.h()},h(){e.__value=a=s[10].idx.toString(),ee(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,r){O(i,e,r),n(e,l)},p(i,r){r[0]&8&&t!==(t=i[10].url+"")&&H(l,t),r[0]&8&&a!==(a=i[10].idx.toString())&&(e.__value=a,ee(e,e.__value))},d(i){i&&c(e)}}}function kf(s){let e=s[9].t("Click here to select a py file.")+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&512&&e!==(e=l[9].t("Click here to select a py file.")+"")&&H(t,e)},d(l){l&&c(t)}}}function If(s){let e=s[2].length>0?`${s[2].length}`:"",t,l;return{c(){t=L(e),l=L(" pipeline(s) selected.")},l(a){t=U(a,e),l=U(a," pipeline(s) selected.")},m(a,i){O(a,t,i),O(a,l,i)},p(a,i){i[0]&4&&e!==(e=a[2].length>0?`${a[2].length}`:"")&&H(t,e)},d(a){a&&(c(t),c(l))}}}function yf(s){let e,t,l;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),this.h()},l(a){e=al(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=al(i,"path",{d:!0}),v(t).forEach(c),l=al(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","size-4")},m(a,i){O(a,e,i),n(e,t),n(e,l)},d(a){a&&c(e)}}}function Tf(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Kt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function Af(s){let e,t,l;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),this.h()},l(a){e=al(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=al(i,"path",{d:!0}),v(t).forEach(c),l=al(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){O(a,e,i),n(e,t),n(e,l)},d(a){a&&c(e)}}}function Df(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Kt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function $f(s){let e,t,l,a;return l=new Is({props:{className:"size-4"}}),{c(){e=d("div"),t=d("div"),de(l.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{class:!0});var f=v(t);_e(l.$$.fragment,f),f.forEach(c),r.forEach(c),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex justify-center")},m(i,r){O(i,e,r),n(e,t),he(l,t,null),a=!0},p:vt,i(i){a||(K(l.$$.fragment,i),a=!0)},o(i){W(l.$$.fragment,i),a=!1},d(i){i&&c(e),pe(l)}}}function Vf(s){let e,t,l,a;const i=[Nf,Sf],r=[];function f(u,h){return u[10].length>0?0:u[10].length===0?1:-1}return~(e=f(s))&&(t=r[e]=i[e](s)),{c(){t&&t.c(),l=Xt()},l(u){t&&t.l(u),l=Xt()},m(u,h){~e&&r[e].m(u,h),O(u,l,h),a=!0},p(u,h){let b=e;e=f(u),e===b?~e&&r[e].p(u,h):(t&&(Vt(),W(r[b],1,1,()=>{r[b]=null}),St()),~e?(t=r[e],t?t.p(u,h):(t=r[e]=i[e](u),t.c()),K(t,1),t.m(l.parentNode,l)):t=null)},i(u){a||(K(t),a=!0)},o(u){W(t),a=!1},d(u){u&&c(l),~e&&r[e].d(u)}}}function Sf(s){let e,t="Pipelines Not Detected";return{c(){e=d("div"),e.textContent=t},l(l){e=_(l,"DIV",{"data-svelte-h":!0}),Kt(e)!=="svelte-nrqgpw"&&(e.textContent=t)},m(l,a){O(l,e,a)},p:vt,i:vt,o:vt,d(l){l&&c(e)}}}function Nf(s){let e,t,l=s[9].t("Pipelines Valves")+"",a,i,r,f,u,h,b,p,m=s[10].length>0&&Mn(s);const g=[Of,Mf],E=[];function w(k,I){return k[10][k[7]].valves?0:1}return h=w(s),b=E[h]=g[h](s),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),m&&m.c(),f=A(),u=d("div"),b.c(),this.h()},l(k){e=_(k,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var y=v(t);a=U(y,l),y.forEach(c),I.forEach(c),i=D(k),r=_(k,"DIV",{class:!0});var T=v(r);m&&m.l(T),f=D(T),u=_(T,"DIV",{class:!0});var $=v(u);b.l($),$.forEach(c),T.forEach(c),this.h()},h(){o(t,"class","self-center text-sm font-semibold"),o(e,"class","flex w-full justify-between mb-2"),o(u,"class","space-y-1"),o(r,"class","space-y-1")},m(k,I){O(k,e,I),n(e,t),n(t,a),O(k,i,I),O(k,r,I),m&&m.m(r,null),n(r,f),n(r,u),E[h].m(u,null),p=!0},p(k,I){(!p||I[0]&512)&&l!==(l=k[9].t("Pipelines Valves")+"")&&H(a,l),k[10].length>0?m?m.p(k,I):(m=Mn(k),m.c(),m.m(r,f)):m&&(m.d(1),m=null);let y=h;h=w(k),h===y?E[h].p(k,I):(Vt(),W(E[y],1,1,()=>{E[y]=null}),St(),b=E[h],b?b.p(k,I):(b=E[h]=g[h](k),b.c()),K(b,1),b.m(u,null))},i(k){p||(K(b),p=!0)},o(k){W(b),p=!1},d(k){k&&(c(e),c(i),c(r)),m&&m.d(),E[h].d()}}}function Mn(s){let e,t,l,a,i,r,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',u,h,b=yt(s[10]),p=[];for(let m=0;m<b.length;m+=1)p[m]=On(Vn(s,b,m));return{c(){e=d("div"),t=d("div"),l=d("select");for(let m=0;m<p.length;m+=1)p[m].c();i=A(),r=d("button"),r.innerHTML=f,this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);l=_(E,"SELECT",{class:!0,placeholder:!0});var w=v(l);for(let k=0;k<p.length;k+=1)p[k].l(w);w.forEach(c),E.forEach(c),i=D(g),r=_(g,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Kt(r)!=="svelte-121ij38"&&(r.innerHTML=f),g.forEach(c),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[9].t("Select a pipeline")),s[7]===void 0&&Nl(()=>s[26].call(l)),o(t,"class","flex-1"),o(r,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(r,"type","button"),o(e,"class","flex gap-2")},m(m,g){O(m,e,g),n(e,t),n(t,l);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(l,null);Jt(l,s[7],!0),n(e,i),n(e,r),u||(h=[se(l,"change",s[26]),se(l,"change",s[27]),se(r,"click",s[28])],u=!0)},p(m,g){if(g[0]&1024){b=yt(m[10]);let E;for(E=0;E<b.length;E+=1){const w=Vn(m,b,E);p[E]?p[E].p(w,g):(p[E]=On(w),p[E].c(),p[E].m(l,null))}for(;E<p.length;E+=1)p[E].d(1);p.length=b.length}g[0]&512&&a!==(a=m[9].t("Select a pipeline"))&&o(l,"placeholder",a),g[0]&128&&Jt(l,m[7])},d(m){m&&c(e),cl(p,m),u=!1,ul(h)}}}function On(s){let e,t=s[40].name+"",l,a,i=(s[40].type??"pipe")+"",r,f;return{c(){e=d("option"),l=L(t),a=L(" ("),r=L(i),f=L(")"),this.h()},l(u){e=_(u,"OPTION",{class:!0});var h=v(e);l=U(h,t),a=U(h," ("),r=U(h,i),f=U(h,")"),h.forEach(c),this.h()},h(){e.__value=s[36],ee(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(u,h){O(u,e,h),n(e,l),n(e,a),n(e,r),n(e,f)},p(u,h){h[0]&1024&&t!==(t=u[40].name+"")&&H(l,t),h[0]&1024&&i!==(i=(u[40].type??"pipe")+"")&&H(r,i)},d(u){u&&c(e)}}}function Mf(s){let e,t="No valves";return{c(){e=d("div"),e.textContent=t},l(l){e=_(l,"DIV",{"data-svelte-h":!0}),Kt(e)!=="svelte-gfhjqw"&&(e.textContent=t)},m(l,a){O(l,e,a)},p:vt,i:vt,o:vt,d(l){l&&c(e)}}}function Of(s){let e,t,l,a;const i=[Lf,Pf],r=[];function f(u,h){return u[5]?0:1}return e=f(s),t=r[e]=i[e](s),{c(){t.c(),l=Xt()},l(u){t.l(u),l=Xt()},m(u,h){r[e].m(u,h),O(u,l,h),a=!0},p(u,h){let b=e;e=f(u),e===b?r[e].p(u,h):(Vt(),W(r[b],1,1,()=>{r[b]=null}),St(),t=r[e],t?t.p(u,h):(t=r[e]=i[e](u),t.c()),K(t,1),t.m(l.parentNode,l))},i(u){a||(K(t),a=!0)},o(u){W(t),a=!1},d(u){u&&c(l),r[e].d(u)}}}function Pf(s){let e,t;return e=new Is({props:{className:"size-5"}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p:vt,i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function Lf(s){let e,t,l=yt(Object.keys(s[6].properties)),a=[];for(let r=0;r<l.length;r+=1)a[r]=Un(Dn(s,l,r));const i=r=>W(a[r],1,1,()=>{a[r]=null});return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=Xt()},l(r){for(let f=0;f<a.length;f+=1)a[f].l(r);e=Xt()},m(r,f){for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(r,f);O(r,e,f),t=!0},p(r,f){if(f[0]&608){l=yt(Object.keys(r[6].properties));let u;for(u=0;u<l.length;u+=1){const h=Dn(r,l,u);a[u]?(a[u].p(h,f),K(a[u],1)):(a[u]=Un(h),a[u].c(),K(a[u],1),a[u].m(e.parentNode,e))}for(Vt(),u=l.length;u<a.length;u+=1)i(u);St()}},i(r){if(!t){for(let f=0;f<l.length;f+=1)K(a[f]);t=!0}},o(r){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)W(a[f]);t=!1},d(r){r&&c(e),cl(a,r)}}}function Uf(s){let e,t=s[9].t("Custom")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&512&&t!==(t=a[9].t("Custom")+"")&&H(l,t)},d(a){a&&c(e)}}}function Cf(s){let e,t=s[9].t("None")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&512&&t!==(t=a[9].t("None")+"")&&H(l,t)},d(a){a&&c(e)}}}function Pn(s){let e,t,l,a,i;const r=[Hf,Bf,Rf],f=[];function u(h,b){var p,m;return((p=h[6].properties[h[34]])==null?void 0:p.enum)??null?0:(((m=h[6].properties[h[34]])==null?void 0:m.type)??null)==="boolean"?1:2}return l=u(s),a=f[l]=r[l](s),{c(){e=d("div"),t=d("div"),a.c(),this.h()},l(h){e=_(h,"DIV",{class:!0});var b=v(e);t=_(b,"DIV",{class:!0});var p=v(t);a.l(p),p.forEach(c),b.forEach(c),this.h()},h(){o(t,"class","flex-1"),o(e,"class","flex mt-0.5 mb-1.5 space-x-2")},m(h,b){O(h,e,b),n(e,t),f[l].m(t,null),i=!0},p(h,b){let p=l;l=u(h),l===p?f[l].p(h,b):(Vt(),W(f[p],1,1,()=>{f[p]=null}),St(),a=f[l],a?a.p(h,b):(a=f[l]=r[l](h),a.c()),K(a,1),a.m(t,null))},i(h){i||(K(a),i=!0)},o(h){W(a),i=!1},d(h){h&&c(e),f[l].d()}}}function Rf(s){let e,t,l,a;function i(){s[32].call(e,s[34])}return{c(){e=d("input"),this.h()},l(r){e=_(r,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"type","text"),o(e,"placeholder",t=s[6].properties[s[34]].title),o(e,"autocomplete","off"),e.required=!0},m(r,f){O(r,e,f),ee(e,s[5][s[34]]),l||(a=se(e,"input",i),l=!0)},p(r,f){s=r,f[0]&64&&t!==(t=s[6].properties[s[34]].title)&&o(e,"placeholder",t),f[0]&96&&e.value!==s[5][s[34]]&&ee(e,s[5][s[34]])},i:vt,o:vt,d(r){r&&c(e),l=!1,a()}}}function Bf(s){let e,t,l=s[5][s[34]]?"Enabled":"Disabled",a,i,r,f,u,h;function b(m){s[31](m,s[34])}let p={};return s[5][s[34]]!==void 0&&(p.state=s[5][s[34]]),f=new wl({props:p}),it.push(()=>ht(f,"state",b)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),de(f.$$.fragment),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);a=U(E,l),E.forEach(c),i=D(g),r=_(g,"DIV",{class:!0});var w=v(r);_e(f.$$.fragment,w),w.forEach(c),g.forEach(c),this.h()},h(){o(t,"class","text-xs text-gray-500"),o(r,"class","pr-2"),o(e,"class","flex justify-between items-center")},m(m,g){O(m,e,g),n(e,t),n(t,a),n(e,i),n(e,r),he(f,r,null),h=!0},p(m,g){s=m,(!h||g[0]&96)&&l!==(l=s[5][s[34]]?"Enabled":"Disabled")&&H(a,l);const E={};!u&&g[0]&96&&(u=!0,E.state=s[5][s[34]],_t(()=>u=!1)),f.$set(E)},i(m){h||(K(f.$$.fragment,m),h=!0)},o(m){W(f.$$.fragment,m),h=!1},d(m){m&&c(e),pe(f)}}}function Hf(s){let e,t,l,a=yt(s[6].properties[s[34]].enum),i=[];for(let f=0;f<a.length;f+=1)i[f]=Ln($n(s,a,f));function r(){s[30].call(e,s[34])}return{c(){e=d("select");for(let f=0;f<i.length;f+=1)i[f].c();this.h()},l(f){e=_(f,"SELECT",{class:!0});var u=v(e);for(let h=0;h<i.length;h+=1)i[h].l(u);u.forEach(c),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),s[5][s[34]]===void 0&&Nl(r)},m(f,u){O(f,e,u);for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(e,null);Jt(e,s[5][s[34]],!0),t||(l=se(e,"change",r),t=!0)},p(f,u){if(s=f,u[0]&96){a=yt(s[6].properties[s[34]].enum);let h;for(h=0;h<a.length;h+=1){const b=$n(s,a,h);i[h]?i[h].p(b,u):(i[h]=Ln(b),i[h].c(),i[h].m(e,null))}for(;h<i.length;h+=1)i[h].d(1);i.length=a.length}u[0]&96&&Jt(e,s[5][s[34]])},i:vt,o:vt,d(f){f&&c(e),cl(i,f),t=!1,l()}}}function Ln(s){let e,t=s[37]+"",l,a,i,r;return{c(){e=d("option"),l=L(t),a=A(),this.h()},l(f){e=_(f,"OPTION",{});var u=v(e);l=U(u,t),a=D(u),u.forEach(c),this.h()},h(){e.__value=i=s[37],ee(e,e.__value),e.selected=r=s[37]===s[5][s[34]]},m(f,u){O(f,e,u),n(e,l),n(e,a)},p(f,u){u[0]&64&&t!==(t=f[37]+"")&&H(l,t),u[0]&64&&i!==(i=f[37])&&(e.__value=i,ee(e,e.__value)),u[0]&96&&r!==(r=f[37]===f[5][f[34]])&&(e.selected=r)},d(f){f&&c(e)}}}function Un(s){let e,t,l,a=s[6].properties[s[34]].title+"",i,r,f,u,h,b,p,m;function g(y,T){return(y[5][y[34]]??null)===null?Cf:Uf}let E=g(s),w=E(s);function k(){return s[29](s[34])}let I=(s[5][s[34]]??null)!==null&&Pn(s);return{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("button"),w.c(),u=A(),I&&I.c(),h=A(),this.h()},l(y){e=_(y,"DIV",{class:!0});var T=v(e);t=_(T,"DIV",{class:!0});var $=v(t);l=_($,"DIV",{class:!0});var S=v(l);i=U(S,a),S.forEach(c),r=D($),f=_($,"BUTTON",{class:!0,type:!0});var N=v(f);w.l(N),N.forEach(c),$.forEach(c),u=D(T),I&&I.l(T),h=D(T),T.forEach(c),this.h()},h(){o(l,"class","self-center text-xs font-medium"),o(f,"class","p-1 px-3 text-xs flex rounded transition"),o(f,"type","button"),o(t,"class","flex w-full justify-between"),o(e,"class","py-0.5 w-full justify-between")},m(y,T){O(y,e,T),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),w.m(f,null),n(e,u),I&&I.m(e,null),n(e,h),b=!0,p||(m=se(f,"click",k),p=!0)},p(y,T){s=y,(!b||T[0]&64)&&a!==(a=s[6].properties[s[34]].title+"")&&H(i,a),E===(E=g(s))&&w?w.p(s,T):(w.d(1),w=E(s),w&&(w.c(),w.m(f,null))),(s[5][s[34]]??null)!==null?I?(I.p(s,T),T[0]&96&&K(I,1)):(I=Pn(s),I.c(),K(I,1),I.m(e,h)):I&&(Vt(),W(I,1,1,()=>{I=null}),St())},i(y){b||(K(I),b=!0)},o(y){W(I),b=!1},d(y){y&&c(e),w.d(),I&&I.d(),p=!1,m()}}}function Cn(s){let e,t,l=s[9].t("Save")+"",a;return{c(){e=d("div"),t=d("button"),a=L(l),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"BUTTON",{class:!0,type:!0});var f=v(t);a=U(f,l),f.forEach(c),r.forEach(c),this.h()},h(){o(t,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(t,"type","submit"),o(e,"class","flex justify-end pt-3 text-sm font-medium")},m(i,r){O(i,e,r),n(e,t),n(t,a)},p(i,r){r[0]&512&&l!==(l=i[9].t("Save")+"")&&H(a,l)},d(i){i&&c(e)}}}function jf(s){let e,t,l,a,i,r,f,u;const h=[bf,gf],b=[];function p(g,E){return g[3]!==null?0:1}l=p(s),a=b[l]=h[l](s);let m=s[3]!==null&&s[3].length>0&&Cn(s);return{c(){e=d("form"),t=d("div"),a.c(),i=A(),m&&m.c(),this.h()},l(g){e=_(g,"FORM",{class:!0});var E=v(e);t=_(E,"DIV",{class:!0});var w=v(t);a.l(w),w.forEach(c),i=D(E),m&&m.l(E),E.forEach(c),this.h()},h(){o(t,"class","overflow-y-scroll scrollbar-hidden h-full"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(g,E){O(g,e,E),n(e,t),b[l].m(t,null),n(e,i),m&&m.m(e,null),r=!0,f||(u=se(e,"submit",rs(s[33])),f=!0)},p(g,E){let w=l;l=p(g),l===w?b[l].p(g,E):(Vt(),W(b[w],1,1,()=>{b[w]=null}),St(),a=b[l],a?a.p(g,E):(a=b[l]=h[l](g),a.c()),K(a,1),a.m(t,null)),g[3]!==null&&g[3].length>0?m?m.p(g,E):(m=Cn(g),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i(g){r||(K(a),r=!0)},o(g){W(a),r=!1},d(g){g&&c(e),b[l].d(),m&&m.d(),f=!1,u()}}}function Gf(s,e,t){let l;const a=Il("i18n");nl(s,a,te=>t(9,l=te));let{saveHandler:i}=e,r=!1,f=!1,u,h=null,b="",p=null,m=null,g=null,E=null,w="";const k=async()=>{var x;const te=p[E];if(te&&((te==null?void 0:te.valves)??!1)){for(const J in g.properties)((x=g.properties[J])==null?void 0:x.type)==="array"&&t(5,m[J]=m[J].split(",").map(ae=>ae.trim()),m);await xo(localStorage.token,te.id,m,b).catch(J=>{Ye.error(`${J}`)})&&(Ye.success(l.t("Valves updated successfully")),y(),Dl.set(await Bl(localStorage.token)),i())}else Ye.error(l.t("No valves to update"))},I=async te=>{var x;t(5,m=null),t(6,g=null),t(6,g=await eu(localStorage.token,p[te].id,b)),t(5,m=await tu(localStorage.token,p[te].id,b));for(const F in g.properties)((x=g.properties[F])==null?void 0:x.type)==="array"&&t(5,m[F]=m[F].join(","),m)},y=async()=>{t(10,p=null),t(5,m=null),t(6,g=null),h.length>0?(console.log(b),t(10,p=await lu(localStorage.token,b)),p.length>0&&(t(7,E=0),await I(E))):t(10,p=[])},T=async()=>{t(0,r=!0),await su(localStorage.token,w,b).catch(x=>(Ye.error(`${x}`),null))&&(Ye.success(l.t("Pipeline downloaded successfully")),y(),Dl.set(await Bl(localStorage.token))),t(0,r=!1)},$=async()=>{if(t(1,f=!0),u&&u.length!==0){const x=u[0];console.log(x),await ru(localStorage.token,x,b).catch(J=>(console.log(J),Ye.error("Something went wrong :/"),null))&&(Ye.success(l.t("Pipeline downloaded successfully")),y(),Dl.set(await Bl(localStorage.token)))}else Ye.error(l.t("No file selected"));t(2,u=null);const te=document.getElementById("pipelines-upload-input");te&&(te.value=null),t(1,f=!1)},S=async()=>{await au(localStorage.token,p[E].id,b).catch(x=>(Ye.error(`${x}`),null))&&(Ye.success(l.t("Pipeline deleted successfully")),y(),Dl.set(await Bl(localStorage.token)))};Hl(async()=>{t(3,h=await Xo(localStorage.token)),console.log(h),h.length>0&&t(4,b=h[0].idx.toString()),await y()});function N(){b=Sl(this),t(4,b),t(3,h)}const V=async()=>{await ga(),await y()};function C(){u=this.files,t(2,u)}const R=()=>{var te;(te=document.getElementById("pipelines-upload-input"))==null||te.click()},P=()=>{$()};function Z(){w=this.value,t(8,w)}const B=()=>{T()};function M(){E=Sl(this),t(7,E)}const j=async()=>{await ga(),await I(E)},G=()=>{S()},Y=te=>{t(5,m[te]=(m[te]??null)===null?"":null,m)};function z(te){m[te]=Sl(this),t(5,m),t(6,g)}function X(te,x){s.$$.not_equal(m[x],te)&&(m[x]=te,t(5,m))}function q(te){m[te]=this.value,t(5,m),t(6,g)}const Q=async()=>{k()};return s.$$set=te=>{"saveHandler"in te&&t(18,i=te.saveHandler)},[r,f,u,h,b,m,g,E,w,l,p,a,k,I,y,T,$,S,i,N,V,C,R,P,Z,B,M,j,G,Y,z,X,q,Q]}class Kf extends vl{constructor(e){super(),ml(this,e,Gf,jf,pl,{saveHandler:18},null,[-1,-1])}}function Rn(s,e,t){const l=s.slice();return l[48]=e[t],l}function Bn(s,e,t){const l=s.slice();return l[51]=e[t],l}function Hn(s,e,t){const l=s.slice();return l[54]=e[t],l}function jn(s,e,t){const l=s.slice();return l[51]=e[t],l}function Gn(s,e,t){const l=s.slice();return l[54]=e[t],l}function Kn(s,e,t){const l=s.slice();return l[51]=e[t],l}function Zn(s,e,t){const l=s.slice();return l[51]=e[t],l}function Zf(s){let e,t,l=s[17].t("STT Model")+"",a,i,r,f,u,h,b,p,m,g,E=s[17].t("Open WebUI uses faster-whisper internally.")+"",w,k,I,y=s[17].t("Click here to learn more about faster-whisper and see the available models.")+"",T,$,S;function N(R,P){return R[14]?Ff:Wf}let V=N(s),C=V(s);return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("input"),b=A(),p=d("button"),C.c(),m=A(),g=d("div"),w=L(E),k=A(),I=d("a"),T=L(y),this.h()},l(R){e=_(R,"DIV",{});var P=v(e);t=_(P,"DIV",{class:!0});var Z=v(t);a=U(Z,l),Z.forEach(c),i=D(P),r=_(P,"DIV",{class:!0});var B=v(r);f=_(B,"DIV",{class:!0});var M=v(f);u=_(M,"INPUT",{class:!0,placeholder:!0}),M.forEach(c),b=D(B),p=_(B,"BUTTON",{class:!0});var j=v(p);C.l(j),j.forEach(c),B.forEach(c),m=D(P),g=_(P,"DIV",{class:!0});var G=v(g);w=U(G,E),k=D(G),I=_(G,"A",{class:!0,href:!0,target:!0});var Y=v(I);T=U(Y,y),Y.forEach(c),G.forEach(c),P.forEach(c),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(u,"placeholder",h=s[17].t("Set whisper model")),o(f,"class","flex-1 mr-2"),o(p,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),p.disabled=s[14],o(r,"class","flex w-full"),o(I,"class","hover:underline dark:text-gray-200 text-gray-800"),o(I,"href","https://github.com/SYSTRAN/faster-whisper"),o(I,"target","_blank"),o(g,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500")},m(R,P){O(R,e,P),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),ee(u,s[13]),n(r,b),n(r,p),C.m(p,null),n(e,m),n(e,g),n(g,w),n(g,k),n(g,I),n(I,T),$||(S=[se(u,"input",s[29]),se(p,"click",s[30])],$=!0)},p(R,P){P[0]&131072&&l!==(l=R[17].t("STT Model")+"")&&H(a,l),P[0]&131072&&h!==(h=R[17].t("Set whisper model"))&&o(u,"placeholder",h),P[0]&8192&&u.value!==R[13]&&ee(u,R[13]),V!==(V=N(R))&&(C.d(1),C=V(R),C&&(C.c(),C.m(p,null))),P[0]&16384&&(p.disabled=R[14]),P[0]&131072&&E!==(E=R[17].t("Open WebUI uses faster-whisper internally.")+"")&&H(w,E),P[0]&131072&&y!==(y=R[17].t("Click here to learn more about faster-whisper and see the available models.")+"")&&H(T,y)},i:vt,o:vt,d(R){R&&c(e),C.d(),$=!1,ul(S)}}}function qf(s){let e,t,l,a,i,r,f,u,h,b,p,m,g=s[17].t("STT Model")+"",E,w,k,I,y,T,$,S,N,V,C;function R(Z){s[27](Z)}let P={placeholder:s[17].t("API Key")};return s[10]!==void 0&&(P.value=s[10]),r=new $l({props:P}),it.push(()=>ht(r,"value",R)),{c(){e=d("div"),t=d("div"),l=d("input"),i=A(),de(r.$$.fragment),u=A(),h=d("hr"),b=A(),p=d("div"),m=d("div"),E=L(g),w=A(),k=d("div"),I=d("div"),y=d("input"),T=A(),$=d("datalist"),S=d("option"),this.h()},l(Z){e=_(Z,"DIV",{});var B=v(e);t=_(B,"DIV",{class:!0});var M=v(t);l=_(M,"INPUT",{class:!0,placeholder:!0}),i=D(M),_e(r.$$.fragment,M),M.forEach(c),B.forEach(c),u=D(Z),h=_(Z,"HR",{class:!0}),b=D(Z),p=_(Z,"DIV",{});var j=v(p);m=_(j,"DIV",{class:!0});var G=v(m);E=U(G,g),G.forEach(c),w=D(j),k=_(j,"DIV",{class:!0});var Y=v(k);I=_(Y,"DIV",{class:!0});var z=v(I);y=_(z,"INPUT",{list:!0,class:!0,placeholder:!0}),T=D(z),$=_(z,"DATALIST",{id:!0});var X=v($);S=_(X,"OPTION",{}),v(S).forEach(c),X.forEach(c),z.forEach(c),Y.forEach(c),j.forEach(c),this.h()},h(){o(l,"class","flex-1 w-full bg-transparent outline-none"),o(l,"placeholder",a=s[17].t("API Base URL")),l.required=!0,o(t,"class","mt-1 flex gap-2 mb-1"),o(h,"class","dark:border-gray-850 my-2"),o(m,"class","mb-1.5 text-sm font-medium"),o(y,"list","model-list"),o(y,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(y,"placeholder","Select a model"),S.__value="whisper-1",ee(S,S.__value),o($,"id","model-list"),o(I,"class","flex-1"),o(k,"class","flex w-full")},m(Z,B){O(Z,e,B),n(e,t),n(t,l),ee(l,s[9]),n(t,i),he(r,t,null),O(Z,u,B),O(Z,h,B),O(Z,b,B),O(Z,p,B),n(p,m),n(m,E),n(p,w),n(p,k),n(k,I),n(I,y),ee(y,s[12]),n(I,T),n(I,$),n($,S),N=!0,V||(C=[se(l,"input",s[26]),se(y,"input",s[28])],V=!0)},p(Z,B){(!N||B[0]&131072&&a!==(a=Z[17].t("API Base URL")))&&o(l,"placeholder",a),B[0]&512&&l.value!==Z[9]&&ee(l,Z[9]);const M={};B[0]&131072&&(M.placeholder=Z[17].t("API Key")),!f&&B[0]&1024&&(f=!0,M.value=Z[10],_t(()=>f=!1)),r.$set(M),(!N||B[0]&131072)&&g!==(g=Z[17].t("STT Model")+"")&&H(E,g),B[0]&4096&&y.value!==Z[12]&&ee(y,Z[12])},i(Z){N||(K(r.$$.fragment,Z),N=!0)},o(Z){W(r.$$.fragment,Z),N=!1},d(Z){Z&&(c(e),c(u),c(h),c(b),c(p)),pe(r),V=!1,ul(C)}}}function Wf(s){let e,t,l;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),this.h()},l(a){e=al(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=al(i,"path",{d:!0}),v(t).forEach(c),l=al(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){O(a,e,i),n(e,t),n(e,l)},d(a){a&&c(e)}}}function Ff(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}

												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Kt(e)!=="svelte-1rv6pho"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function Yf(s){let e,t,l,a,i,r,f,u,h;return{c(){e=d("div"),t=d("div"),l=d("input"),i=A(),r=d("input"),this.h()},l(b){e=_(b,"DIV",{});var p=v(e);t=_(p,"DIV",{class:!0});var m=v(t);l=_(m,"INPUT",{class:!0,placeholder:!0}),i=D(m),r=_(m,"INPUT",{class:!0,placeholder:!0}),m.forEach(c),p.forEach(c),this.h()},h(){o(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[17].t("API Key")),l.required=!0,o(r,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(r,"placeholder",f=s[17].t("Azure Region")),r.required=!0,o(t,"class","mt-1 flex gap-2 mb-1")},m(b,p){O(b,e,p),n(e,t),n(t,l),ee(l,s[2]),n(t,i),n(t,r),ee(r,s[7]),u||(h=[se(l,"input",s[36]),se(r,"input",s[37])],u=!0)},p(b,p){p[0]&131072&&a!==(a=b[17].t("API Key"))&&o(l,"placeholder",a),p[0]&4&&l.value!==b[2]&&ee(l,b[2]),p[0]&131072&&f!==(f=b[17].t("Azure Region"))&&o(r,"placeholder",f),p[0]&128&&r.value!==b[7]&&ee(r,b[7])},i:vt,o:vt,d(b){b&&c(e),u=!1,ul(h)}}}function zf(s){let e,t,l,a,i,r;return{c(){e=d("div"),t=d("div"),l=d("input"),this.h()},l(f){e=_(f,"DIV",{});var u=v(e);t=_(u,"DIV",{class:!0});var h=v(t);l=_(h,"INPUT",{class:!0,placeholder:!0}),h.forEach(c),u.forEach(c),this.h()},h(){o(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[17].t("API Key")),l.required=!0,o(t,"class","mt-1 flex gap-2 mb-1")},m(f,u){O(f,e,u),n(e,t),n(t,l),ee(l,s[2]),i||(r=se(l,"input",s[35]),i=!0)},p(f,u){u[0]&131072&&a!==(a=f[17].t("API Key"))&&o(l,"placeholder",a),u[0]&4&&l.value!==f[2]&&ee(l,f[2])},i:vt,o:vt,d(f){f&&c(e),i=!1,r()}}}function Qf(s){let e,t,l,a,i,r,f,u,h,b;function p(g){s[34](g)}let m={placeholder:s[17].t("API Key")};return s[1]!==void 0&&(m.value=s[1]),r=new $l({props:m}),it.push(()=>ht(r,"value",p)),{c(){e=d("div"),t=d("div"),l=d("input"),i=A(),de(r.$$.fragment),this.h()},l(g){e=_(g,"DIV",{});var E=v(e);t=_(E,"DIV",{class:!0});var w=v(t);l=_(w,"INPUT",{class:!0,placeholder:!0}),i=D(w),_e(r.$$.fragment,w),w.forEach(c),E.forEach(c),this.h()},h(){o(l,"class","flex-1 w-full bg-transparent outline-none"),o(l,"placeholder",a=s[17].t("API Base URL")),l.required=!0,o(t,"class","mt-1 flex gap-2 mb-1")},m(g,E){O(g,e,E),n(e,t),n(t,l),ee(l,s[0]),n(t,i),he(r,t,null),u=!0,h||(b=se(l,"input",s[33]),h=!0)},p(g,E){(!u||E[0]&131072&&a!==(a=g[17].t("API Base URL")))&&o(l,"placeholder",a),E[0]&1&&l.value!==g[0]&&ee(l,g[0]);const w={};E[0]&131072&&(w.placeholder=g[17].t("API Key")),!f&&E[0]&2&&(f=!0,w.value=g[1],_t(()=>f=!1)),r.$set(w)},i(g){u||(K(r.$$.fragment,g),u=!0)},o(g){W(r.$$.fragment,g),u=!1},d(g){g&&c(e),pe(r),h=!1,b()}}}function Jf(s){let e,t,l,a=s[17].t("TTS Voice")+"",i,r,f,u,h,b,p,m,g,E,w=s[17].t("Output format")+"",k,I,y,T,$=s[17].t("Available list")+"",S,N,V,C,R,P,Z,B=yt(s[15]),M=[];for(let j=0;j<B.length;j+=1)M[j]=qn(Bn(s,B,j));return{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("div"),u=d("div"),h=d("input"),b=A(),p=d("datalist");for(let j=0;j<M.length;j+=1)M[j].c();m=A(),g=d("div"),E=d("div"),k=L(w),I=A(),y=d("a"),T=d("small"),S=L($),N=A(),V=d("div"),C=d("div"),R=d("input"),this.h()},l(j){e=_(j,"DIV",{class:!0});var G=v(e);t=_(G,"DIV",{class:!0});var Y=v(t);l=_(Y,"DIV",{class:!0});var z=v(l);i=U(z,a),z.forEach(c),r=D(Y),f=_(Y,"DIV",{class:!0});var X=v(f);u=_(X,"DIV",{class:!0});var q=v(u);h=_(q,"INPUT",{list:!0,class:!0,placeholder:!0}),b=D(q),p=_(q,"DATALIST",{id:!0});var Q=v(p);for(let ne=0;ne<M.length;ne+=1)M[ne].l(Q);Q.forEach(c),q.forEach(c),X.forEach(c),Y.forEach(c),m=D(G),g=_(G,"DIV",{class:!0});var te=v(g);E=_(te,"DIV",{class:!0});var x=v(E);k=U(x,w),I=D(x),y=_(x,"A",{href:!0,target:!0});var F=v(y);T=_(F,"SMALL",{});var J=v(T);S=U(J,$),J.forEach(c),F.forEach(c),x.forEach(c),N=D(te),V=_(te,"DIV",{class:!0});var ae=v(V);C=_(ae,"DIV",{class:!0});var ue=v(C);R=_(ue,"INPUT",{list:!0,class:!0,placeholder:!0}),ue.forEach(c),ae.forEach(c),te.forEach(c),G.forEach(c),this.h()},h(){o(l,"class","mb-1.5 text-sm font-medium"),o(h,"list","voice-list"),o(h,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(h,"placeholder","Select a voice"),o(p,"id","voice-list"),o(u,"class","flex-1"),o(f,"class","flex w-full"),o(t,"class","w-full"),o(y,"href","https://learn.microsoft.com/en-us/azure/ai-services/speech-service/rest-text-to-speech?tabs=streaming#audio-outputs"),o(y,"target","_blank"),o(E,"class","mb-1.5 text-sm font-medium"),o(R,"list","tts-model-list"),o(R,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(R,"placeholder","Select a output format"),o(C,"class","flex-1"),o(V,"class","flex w-full"),o(g,"class","w-full"),o(e,"class","flex gap-2")},m(j,G){O(j,e,G),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),n(f,u),n(u,h),ee(h,s[5]),n(u,b),n(u,p);for(let Y=0;Y<M.length;Y+=1)M[Y]&&M[Y].m(p,null);n(e,m),n(e,g),n(g,E),n(E,k),n(E,I),n(E,y),n(y,T),n(T,S),n(g,N),n(g,V),n(V,C),n(C,R),ee(R,s[8]),P||(Z=[se(h,"input",s[44]),se(R,"input",s[45])],P=!0)},p(j,G){if(G[0]&131072&&a!==(a=j[17].t("TTS Voice")+"")&&H(i,a),G[0]&32800&&h.value!==j[5]&&ee(h,j[5]),G[0]&32768){B=yt(j[15]);let Y;for(Y=0;Y<B.length;Y+=1){const z=Bn(j,B,Y);M[Y]?M[Y].p(z,G):(M[Y]=qn(z),M[Y].c(),M[Y].m(p,null))}for(;Y<M.length;Y+=1)M[Y].d(1);M.length=B.length}G[0]&131072&&w!==(w=j[17].t("Output format")+"")&&H(k,w),G[0]&131072&&$!==($=j[17].t("Available list")+"")&&H(S,$),G[0]&256&&R.value!==j[8]&&ee(R,j[8])},d(j){j&&c(e),cl(M,j),P=!1,ul(Z)}}}function Xf(s){let e,t,l,a=s[17].t("TTS Voice")+"",i,r,f,u,h,b,p,m,g,E,w=s[17].t("TTS Model")+"",k,I,y,T,$,S,N,V,C,R=yt(s[15]),P=[];for(let M=0;M<R.length;M+=1)P[M]=Wn(jn(s,R,M));let Z=yt(s[16]),B=[];for(let M=0;M<Z.length;M+=1)B[M]=Fn(Hn(s,Z,M));return{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("div"),u=d("div"),h=d("input"),b=A(),p=d("datalist");for(let M=0;M<P.length;M+=1)P[M].c();m=A(),g=d("div"),E=d("div"),k=L(w),I=A(),y=d("div"),T=d("div"),$=d("input"),S=A(),N=d("datalist");for(let M=0;M<B.length;M+=1)B[M].c();this.h()},l(M){e=_(M,"DIV",{class:!0});var j=v(e);t=_(j,"DIV",{class:!0});var G=v(t);l=_(G,"DIV",{class:!0});var Y=v(l);i=U(Y,a),Y.forEach(c),r=D(G),f=_(G,"DIV",{class:!0});var z=v(f);u=_(z,"DIV",{class:!0});var X=v(u);h=_(X,"INPUT",{list:!0,class:!0,placeholder:!0}),b=D(X),p=_(X,"DATALIST",{id:!0});var q=v(p);for(let ae=0;ae<P.length;ae+=1)P[ae].l(q);q.forEach(c),X.forEach(c),z.forEach(c),G.forEach(c),m=D(j),g=_(j,"DIV",{class:!0});var Q=v(g);E=_(Q,"DIV",{class:!0});var te=v(E);k=U(te,w),te.forEach(c),I=D(Q),y=_(Q,"DIV",{class:!0});var x=v(y);T=_(x,"DIV",{class:!0});var F=v(T);$=_(F,"INPUT",{list:!0,class:!0,placeholder:!0}),S=D(F),N=_(F,"DATALIST",{id:!0});var J=v(N);for(let ae=0;ae<B.length;ae+=1)B[ae].l(J);J.forEach(c),F.forEach(c),x.forEach(c),Q.forEach(c),j.forEach(c),this.h()},h(){o(l,"class","mb-1.5 text-sm font-medium"),o(h,"list","voice-list"),o(h,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(h,"placeholder","Select a voice"),o(p,"id","voice-list"),o(u,"class","flex-1"),o(f,"class","flex w-full"),o(t,"class","w-full"),o(E,"class","mb-1.5 text-sm font-medium"),o($,"list","tts-model-list"),o($,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o($,"placeholder","Select a model"),o(N,"id","tts-model-list"),o(T,"class","flex-1"),o(y,"class","flex w-full"),o(g,"class","w-full"),o(e,"class","flex gap-2")},m(M,j){O(M,e,j),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),n(f,u),n(u,h),ee(h,s[5]),n(u,b),n(u,p);for(let G=0;G<P.length;G+=1)P[G]&&P[G].m(p,null);n(e,m),n(e,g),n(g,E),n(E,k),n(g,I),n(g,y),n(y,T),n(T,$),ee($,s[4]),n(T,S),n(T,N);for(let G=0;G<B.length;G+=1)B[G]&&B[G].m(N,null);V||(C=[se(h,"input",s[42]),se($,"input",s[43])],V=!0)},p(M,j){if(j[0]&131072&&a!==(a=M[17].t("TTS Voice")+"")&&H(i,a),j[0]&32800&&h.value!==M[5]&&ee(h,M[5]),j[0]&32768){R=yt(M[15]);let G;for(G=0;G<R.length;G+=1){const Y=jn(M,R,G);P[G]?P[G].p(Y,j):(P[G]=Wn(Y),P[G].c(),P[G].m(p,null))}for(;G<P.length;G+=1)P[G].d(1);P.length=R.length}if(j[0]&131072&&w!==(w=M[17].t("TTS Model")+"")&&H(k,w),j[0]&16&&$.value!==M[4]&&ee($,M[4]),j[0]&65536){Z=yt(M[16]);let G;for(G=0;G<Z.length;G+=1){const Y=Hn(M,Z,G);B[G]?B[G].p(Y,j):(B[G]=Fn(Y),B[G].c(),B[G].m(N,null))}for(;G<B.length;G+=1)B[G].d(1);B.length=Z.length}},d(M){M&&c(e),cl(P,M),cl(B,M),V=!1,ul(C)}}}function xf(s){let e,t,l,a=s[17].t("TTS Voice")+"",i,r,f,u,h,b,p,m,g,E,w=s[17].t("TTS Model")+"",k,I,y,T,$,S,N,V,C,R=yt(s[15]),P=[];for(let M=0;M<R.length;M+=1)P[M]=Yn(Kn(s,R,M));let Z=yt(s[16]),B=[];for(let M=0;M<Z.length;M+=1)B[M]=zn(Gn(s,Z,M));return{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("div"),u=d("div"),h=d("input"),b=A(),p=d("datalist");for(let M=0;M<P.length;M+=1)P[M].c();m=A(),g=d("div"),E=d("div"),k=L(w),I=A(),y=d("div"),T=d("div"),$=d("input"),S=A(),N=d("datalist");for(let M=0;M<B.length;M+=1)B[M].c();this.h()},l(M){e=_(M,"DIV",{class:!0});var j=v(e);t=_(j,"DIV",{class:!0});var G=v(t);l=_(G,"DIV",{class:!0});var Y=v(l);i=U(Y,a),Y.forEach(c),r=D(G),f=_(G,"DIV",{class:!0});var z=v(f);u=_(z,"DIV",{class:!0});var X=v(u);h=_(X,"INPUT",{list:!0,class:!0,placeholder:!0}),b=D(X),p=_(X,"DATALIST",{id:!0});var q=v(p);for(let ae=0;ae<P.length;ae+=1)P[ae].l(q);q.forEach(c),X.forEach(c),z.forEach(c),G.forEach(c),m=D(j),g=_(j,"DIV",{class:!0});var Q=v(g);E=_(Q,"DIV",{class:!0});var te=v(E);k=U(te,w),te.forEach(c),I=D(Q),y=_(Q,"DIV",{class:!0});var x=v(y);T=_(x,"DIV",{class:!0});var F=v(T);$=_(F,"INPUT",{list:!0,class:!0,placeholder:!0}),S=D(F),N=_(F,"DATALIST",{id:!0});var J=v(N);for(let ae=0;ae<B.length;ae+=1)B[ae].l(J);J.forEach(c),F.forEach(c),x.forEach(c),Q.forEach(c),j.forEach(c),this.h()},h(){o(l,"class","mb-1.5 text-sm font-medium"),o(h,"list","voice-list"),o(h,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(h,"placeholder","Select a voice"),o(p,"id","voice-list"),o(u,"class","flex-1"),o(f,"class","flex w-full"),o(t,"class","w-full"),o(E,"class","mb-1.5 text-sm font-medium"),o($,"list","tts-model-list"),o($,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o($,"placeholder","Select a model"),o(N,"id","tts-model-list"),o(T,"class","flex-1"),o(y,"class","flex w-full"),o(g,"class","w-full"),o(e,"class","flex gap-2")},m(M,j){O(M,e,j),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),n(f,u),n(u,h),ee(h,s[5]),n(u,b),n(u,p);for(let G=0;G<P.length;G+=1)P[G]&&P[G].m(p,null);n(e,m),n(e,g),n(g,E),n(E,k),n(g,I),n(g,y),n(y,T),n(T,$),ee($,s[4]),n(T,S),n(T,N);for(let G=0;G<B.length;G+=1)B[G]&&B[G].m(N,null);V||(C=[se(h,"input",s[40]),se($,"input",s[41])],V=!0)},p(M,j){if(j[0]&131072&&a!==(a=M[17].t("TTS Voice")+"")&&H(i,a),j[0]&32800&&h.value!==M[5]&&ee(h,M[5]),j[0]&32768){R=yt(M[15]);let G;for(G=0;G<R.length;G+=1){const Y=Kn(M,R,G);P[G]?P[G].p(Y,j):(P[G]=Yn(Y),P[G].c(),P[G].m(p,null))}for(;G<P.length;G+=1)P[G].d(1);P.length=R.length}if(j[0]&131072&&w!==(w=M[17].t("TTS Model")+"")&&H(k,w),j[0]&16&&$.value!==M[4]&&ee($,M[4]),j[0]&65536){Z=yt(M[16]);let G;for(G=0;G<Z.length;G+=1){const Y=Gn(M,Z,G);B[G]?B[G].p(Y,j):(B[G]=zn(Y),B[G].c(),B[G].m(N,null))}for(;G<B.length;G+=1)B[G].d(1);B.length=Z.length}},d(M){M&&c(e),cl(P,M),cl(B,M),V=!1,ul(C)}}}function ec(s){let e,t,l=s[17].t("TTS Model")+"",a,i,r,f,u,h,b,p,m,g,E=s[17].t("Open WebUI uses SpeechT5 and CMU Arctic speaker embeddings.")+"",w,k,I,y=s[17].t("click here",{name:"SpeechT5"})+"",T,$,S,N,V=s[17].t("click here")+"",C,R,P,Z;return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("input"),h=A(),b=d("datalist"),p=d("option"),m=A(),g=d("div"),w=L(E),k=L(`

							To learn more about SpeechT5,

							`),I=d("a"),T=L(y),$=L("."),S=L(`
							To see the available CMU Arctic speaker embeddings,
							`),N=d("a"),C=L(V),R=L("."),this.h()},l(B){e=_(B,"DIV",{});var M=v(e);t=_(M,"DIV",{class:!0});var j=v(t);a=U(j,l),j.forEach(c),i=D(M),r=_(M,"DIV",{class:!0});var G=v(r);f=_(G,"DIV",{class:!0});var Y=v(f);u=_(Y,"INPUT",{list:!0,class:!0,placeholder:!0}),h=D(Y),b=_(Y,"DATALIST",{id:!0});var z=v(b);p=_(z,"OPTION",{}),v(p).forEach(c),z.forEach(c),Y.forEach(c),G.forEach(c),m=D(M),g=_(M,"DIV",{class:!0});var X=v(g);w=U(X,E),k=U(X,`

							To learn more about SpeechT5,

							`),I=_(X,"A",{class:!0,href:!0,target:!0});var q=v(I);T=U(q,y),$=U(q,"."),q.forEach(c),S=U(X,`
							To see the available CMU Arctic speaker embeddings,
							`),N=_(X,"A",{class:!0,href:!0,target:!0});var Q=v(N);C=U(Q,V),R=U(Q,"."),Q.forEach(c),X.forEach(c),M.forEach(c),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(u,"list","model-list"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(u,"placeholder","CMU ARCTIC speaker embedding name"),p.__value="tts-1",ee(p,p.__value),o(b,"id","model-list"),o(f,"class","flex-1"),o(r,"class","flex w-full"),o(I,"class","hover:underline dark:text-gray-200 text-gray-800"),o(I,"href","https://github.com/microsoft/SpeechT5"),o(I,"target","_blank"),o(N,"class","hover:underline dark:text-gray-200 text-gray-800"),o(N,"href","https://huggingface.co/datasets/Matthijs/cmu-arctic-xvectors"),o(N,"target","_blank"),o(g,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500")},m(B,M){O(B,e,M),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),ee(u,s[4]),n(f,h),n(f,b),n(b,p),n(e,m),n(e,g),n(g,w),n(g,k),n(g,I),n(I,T),n(I,$),n(g,S),n(g,N),n(N,C),n(N,R),P||(Z=se(u,"input",s[39]),P=!0)},p(B,M){M[0]&131072&&l!==(l=B[17].t("TTS Model")+"")&&H(a,l),M[0]&16&&u.value!==B[4]&&ee(u,B[4]),M[0]&131072&&E!==(E=B[17].t("Open WebUI uses SpeechT5 and CMU Arctic speaker embeddings.")+"")&&H(w,E),M[0]&131072&&y!==(y=B[17].t("click here",{name:"SpeechT5"})+"")&&H(T,y),M[0]&131072&&V!==(V=B[17].t("click here")+"")&&H(C,V)},d(B){B&&c(e),P=!1,Z()}}}function tc(s){let e,t,l=s[17].t("TTS Voice")+"",a,i,r,f,u,h,b=s[17].t("Default")+"",p,m,g,E,w=yt(s[15]),k=[];for(let I=0;I<w.length;I+=1)k[I]=Qn(Zn(s,w,I));return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("select"),h=d("option"),p=L(b);for(let I=0;I<k.length;I+=1)k[I].c();this.h()},l(I){e=_(I,"DIV",{});var y=v(e);t=_(y,"DIV",{class:!0});var T=v(t);a=U(T,l),T.forEach(c),i=D(y),r=_(y,"DIV",{class:!0});var $=v(r);f=_($,"DIV",{class:!0});var S=v(f);u=_(S,"SELECT",{class:!0});var N=v(u);h=_(N,"OPTION",{});var V=v(h);p=U(V,b),V.forEach(c);for(let C=0;C<k.length;C+=1)k[C].l(N);N.forEach(c),S.forEach(c),$.forEach(c),y.forEach(c),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),h.__value="",ee(h,h.__value),h.selected=m=s[5]!=="",o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),s[5]===void 0&&Nl(()=>s[38].call(u)),o(f,"class","flex-1"),o(r,"class","flex w-full")},m(I,y){O(I,e,y),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),n(u,h),n(h,p);for(let T=0;T<k.length;T+=1)k[T]&&k[T].m(u,null);Jt(u,s[5],!0),g||(E=se(u,"change",s[38]),g=!0)},p(I,y){if(y[0]&131072&&l!==(l=I[17].t("TTS Voice")+"")&&H(a,l),y[0]&131072&&b!==(b=I[17].t("Default")+"")&&H(p,b),y[0]&32800&&m!==(m=I[5]!=="")&&(h.selected=m),y[0]&32800){w=yt(I[15]);let T;for(T=0;T<w.length;T+=1){const $=Zn(I,w,T);k[T]?k[T].p($,y):(k[T]=Qn($),k[T].c(),k[T].m(u,null))}for(;T<k.length;T+=1)k[T].d(1);k.length=w.length}y[0]&32800&&Jt(u,I[5])},d(I){I&&c(e),cl(k,I),g=!1,E()}}}function qn(s){let e,t=s[51].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=_(i,"OPTION",{});var r=v(e);l=U(r,t),r.forEach(c),this.h()},h(){e.__value=a=s[51].id,ee(e,e.__value)},m(i,r){O(i,e,r),n(e,l)},p(i,r){r[0]&32768&&t!==(t=i[51].name+"")&&H(l,t),r[0]&32768&&a!==(a=i[51].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&c(e)}}}function Wn(s){let e,t=s[51].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=_(i,"OPTION",{});var r=v(e);l=U(r,t),r.forEach(c),this.h()},h(){e.__value=a=s[51].id,ee(e,e.__value)},m(i,r){O(i,e,r),n(e,l)},p(i,r){r[0]&32768&&t!==(t=i[51].name+"")&&H(l,t),r[0]&32768&&a!==(a=i[51].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&c(e)}}}function Fn(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=_(l,"OPTION",{class:!0}),v(e).forEach(c),this.h()},h(){e.__value=t=s[54].id,ee(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(l,a){O(l,e,a)},p(l,a){a[0]&65536&&t!==(t=l[54].id)&&(e.__value=t,ee(e,e.__value))},d(l){l&&c(e)}}}function Yn(s){let e,t=s[51].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=_(i,"OPTION",{});var r=v(e);l=U(r,t),r.forEach(c),this.h()},h(){e.__value=a=s[51].id,ee(e,e.__value)},m(i,r){O(i,e,r),n(e,l)},p(i,r){r[0]&32768&&t!==(t=i[51].name+"")&&H(l,t),r[0]&32768&&a!==(a=i[51].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&c(e)}}}function zn(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=_(l,"OPTION",{class:!0}),v(e).forEach(c),this.h()},h(){e.__value=t=s[54].id,ee(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(l,a){O(l,e,a)},p(l,a){a[0]&65536&&t!==(t=l[54].id)&&(e.__value=t,ee(e,e.__value))},d(l){l&&c(e)}}}function Qn(s){let e,t=s[51].name.replace("+",", ")+"",l,a,i;return{c(){e=d("option"),l=L(t),this.h()},l(r){e=_(r,"OPTION",{class:!0});var f=v(e);l=U(f,t),f.forEach(c),this.h()},h(){e.__value=a=s[51].voiceURI,ee(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=i=s[5]===s[51].voiceURI},m(r,f){O(r,e,f),n(e,l)},p(r,f){f[0]&32768&&t!==(t=r[51].name.replace("+",", ")+"")&&H(l,t),f[0]&32768&&a!==(a=r[51].voiceURI)&&(e.__value=a,ee(e,e.__value)),f[0]&32800&&i!==(i=r[5]===r[51].voiceURI)&&(e.selected=i)},d(r){r&&c(e)}}}function Jn(s){let e,t=s[17].t(s[48].charAt(0).toUpperCase()+s[48].slice(1))+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){e.__value=s[48],ee(e,e.__value)},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&131072&&t!==(t=a[17].t(a[48].charAt(0).toUpperCase()+a[48].slice(1))+"")&&H(l,t)},d(a){a&&c(e)}}}function lc(s){let e,t,l,a,i,r=s[17].t("STT Settings")+"",f,u,h,b,p=s[17].t("Speech-to-Text Engine")+"",m,g,E,w,k,I=s[17].t("Whisper (Local)")+"",y,T,$="OpenAI",S,N=s[17].t("Web API")+"",V,C,R,P,Z,B,M,j,G,Y=s[17].t("TTS Settings")+"",z,X,q,Q,te=s[17].t("Text-to-Speech Engine")+"",x,F,J,ae,ue,ne=s[17].t("Web API")+"",$e,ge,Le=s[17].t("Transformers")+"",be,He,Ve=s[17].t("Local")+"",ie,le,Ee,ce=s[17].t("OpenAI")+"",ke,Ie,ze=s[17].t("ElevenLabs")+"",Qe,ve,ye=s[17].t("Azure AI Speech")+"",fe,me,Oe,Me,Ge,Re,Ze,Ke,Dt,re,we,pt,mt=s[17].t("Response splitting")+"",gt,qe,Fe,ct,Rt,At,Te=s[17].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"",We,bt,ut,dt,rt=s[17].t("Save")+"",xe,Xe,oe,Pe;const Tt=[qf,Zf],Je=[];function Ot(Ue,Ae){return Ue[11]==="openai"?0:Ue[11]===""?1:-1}~(R=Ot(s))&&(P=Je[R]=Tt[R](s));const Et=[Qf,zf,Yf],ot=[];function jt(Ue,Ae){return Ue[3]==="openai"?0:Ue[3]==="elevenlabs"?1:Ue[3]==="azure"?2:-1}~(Oe=jt(s))&&(Me=ot[Oe]=Et[Oe](s));function el(Ue,Ae){if(Ue[3]==="")return tc;if(Ue[3]==="transformers")return ec;if(Ue[3]==="openai")return xf;if(Ue[3]==="elevenlabs")return Xf;if(Ue[3]==="azure")return Jf}let Gt=el(s),It=Gt&&Gt(s),Lt=yt(Object.values(Qa)),Ct=[];for(let Ue=0;Ue<Lt.length;Ue+=1)Ct[Ue]=Jn(Rn(s,Lt,Ue));return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),i=d("div"),f=L(r),u=A(),h=d("div"),b=d("div"),m=L(p),g=A(),E=d("div"),w=d("select"),k=d("option"),y=L(I),T=d("option"),T.textContent=$,S=d("option"),V=L(N),C=A(),P&&P.c(),Z=A(),B=d("hr"),M=A(),j=d("div"),G=d("div"),z=L(Y),X=A(),q=d("div"),Q=d("div"),x=L(te),F=A(),J=d("div"),ae=d("select"),ue=d("option"),$e=L(ne),ge=d("option"),be=L(Le),He=L(" ("),ie=L(Ve),le=L(")"),Ee=d("option"),ke=L(ce),Ie=d("option"),Qe=L(ze),ve=d("option"),fe=L(ye),me=A(),Me&&Me.c(),Ge=A(),Re=d("hr"),Ze=A(),It&&It.c(),Ke=A(),Dt=d("hr"),re=A(),we=d("div"),pt=d("div"),gt=L(mt),qe=A(),Fe=d("div"),ct=d("select");for(let Ue=0;Ue<Ct.length;Ue+=1)Ct[Ue].c();Rt=A(),At=d("div"),We=L(Te),bt=A(),ut=d("div"),dt=d("button"),xe=L(rt),this.h()},l(Ue){e=_(Ue,"FORM",{class:!0});var Ae=v(e);t=_(Ae,"DIV",{class:!0});var De=v(t);l=_(De,"DIV",{class:!0});var wt=v(l);a=_(wt,"DIV",{});var et=v(a);i=_(et,"DIV",{class:!0});var ft=v(i);f=U(ft,r),ft.forEach(c),u=D(et),h=_(et,"DIV",{class:!0});var Ft=v(h);b=_(Ft,"DIV",{class:!0});var Ut=v(b);m=U(Ut,p),Ut.forEach(c),g=D(Ft),E=_(Ft,"DIV",{class:!0});var Bt=v(E);w=_(Bt,"SELECT",{class:!0,placeholder:!0});var kt=v(w);k=_(kt,"OPTION",{});var je=v(k);y=U(je,I),je.forEach(c),T=_(kt,"OPTION",{"data-svelte-h":!0}),Kt(T)!=="svelte-bbvrw2"&&(T.textContent=$),S=_(kt,"OPTION",{});var Be=v(S);V=U(Be,N),Be.forEach(c),kt.forEach(c),Bt.forEach(c),Ft.forEach(c),C=D(et),P&&P.l(et),et.forEach(c),Z=D(wt),B=_(wt,"HR",{class:!0}),M=D(wt),j=_(wt,"DIV",{});var tt=v(j);G=_(tt,"DIV",{class:!0});var st=v(G);z=U(st,Y),st.forEach(c),X=D(tt),q=_(tt,"DIV",{class:!0});var Nt=v(q);Q=_(Nt,"DIV",{class:!0});var rl=v(Q);x=U(rl,te),rl.forEach(c),F=D(Nt),J=_(Nt,"DIV",{class:!0});var tl=v(J);ae=_(tl,"SELECT",{class:!0,placeholder:!0});var $t=v(ae);ue=_($t,"OPTION",{});var ol=v(ue);$e=U(ol,ne),ol.forEach(c),ge=_($t,"OPTION",{});var Qt=v(ge);be=U(Qt,Le),He=U(Qt," ("),ie=U(Qt,Ve),le=U(Qt,")"),Qt.forEach(c),Ee=_($t,"OPTION",{});var Zt=v(Ee);ke=U(Zt,ce),Zt.forEach(c),Ie=_($t,"OPTION",{});var yl=v(Ie);Qe=U(yl,ze),yl.forEach(c),ve=_($t,"OPTION",{});var fl=v(ve);fe=U(fl,ye),fl.forEach(c),$t.forEach(c),tl.forEach(c),Nt.forEach(c),me=D(tt),Me&&Me.l(tt),Ge=D(tt),Re=_(tt,"HR",{class:!0}),Ze=D(tt),It&&It.l(tt),Ke=D(tt),Dt=_(tt,"HR",{class:!0}),re=D(tt),we=_(tt,"DIV",{class:!0});var Wt=v(we);pt=_(Wt,"DIV",{class:!0});var qt=v(pt);gt=U(qt,mt),qt.forEach(c),qe=D(Wt),Fe=_(Wt,"DIV",{class:!0});var hl=v(Fe);ct=_(hl,"SELECT",{class:!0,"aria-label":!0});var gl=v(ct);for(let El=0;El<Ct.length;El+=1)Ct[El].l(gl);gl.forEach(c),hl.forEach(c),Wt.forEach(c),Rt=D(tt),At=_(tt,"DIV",{class:!0});var kl=v(At);We=U(kl,Te),kl.forEach(c),tt.forEach(c),wt.forEach(c),De.forEach(c),bt=D(Ae),ut=_(Ae,"DIV",{class:!0});var bl=v(ut);dt=_(bl,"BUTTON",{class:!0,type:!0});var Ht=v(dt);xe=U(Ht,rt),Ht.forEach(c),bl.forEach(c),Ae.forEach(c),this.h()},h(){o(i,"class","mb-1 text-sm font-medium"),o(b,"class","self-center text-xs font-medium"),k.__value="",ee(k,k.__value),T.__value="openai",ee(T,T.__value),S.__value="web",ee(S,S.__value),o(w,"class","dark:bg-gray-900 cursor-pointer w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(w,"placeholder","Select an engine"),s[11]===void 0&&Nl(()=>s[25].call(w)),o(E,"class","flex items-center relative"),o(h,"class","py-0.5 flex w-full justify-between"),o(B,"class","dark:border-gray-800"),o(G,"class","mb-1 text-sm font-medium"),o(Q,"class","self-center text-xs font-medium"),ue.__value="",ee(ue,ue.__value),ge.__value="transformers",ee(ge,ge.__value),Ee.__value="openai",ee(Ee,Ee.__value),Ie.__value="elevenlabs",ee(Ie,Ie.__value),ve.__value="azure",ee(ve,ve.__value),o(ae,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(ae,"placeholder","Select a mode"),s[3]===void 0&&Nl(()=>s[31].call(ae)),o(J,"class","flex items-center relative"),o(q,"class","py-0.5 flex w-full justify-between"),o(Re,"class","dark:border-gray-850 my-2"),o(Dt,"class","dark:border-gray-850 my-2"),o(pt,"class","self-center text-xs font-medium"),o(ct,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(ct,"aria-label","Select how to split message text for TTS requests"),s[6]===void 0&&Nl(()=>s[46].call(ct)),o(Fe,"class","flex items-center relative"),o(we,"class","pt-0.5 flex w-full justify-between"),o(At,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(l,"class","flex flex-col gap-3"),o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(dt,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(dt,"type","submit"),o(ut,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Ue,Ae){O(Ue,e,Ae),n(e,t),n(t,l),n(l,a),n(a,i),n(i,f),n(a,u),n(a,h),n(h,b),n(b,m),n(h,g),n(h,E),n(E,w),n(w,k),n(k,y),n(w,T),n(w,S),n(S,V),Jt(w,s[11],!0),n(a,C),~R&&Je[R].m(a,null),n(l,Z),n(l,B),n(l,M),n(l,j),n(j,G),n(G,z),n(j,X),n(j,q),n(q,Q),n(Q,x),n(q,F),n(q,J),n(J,ae),n(ae,ue),n(ue,$e),n(ae,ge),n(ge,be),n(ge,He),n(ge,ie),n(ge,le),n(ae,Ee),n(Ee,ke),n(ae,Ie),n(Ie,Qe),n(ae,ve),n(ve,fe),Jt(ae,s[3],!0),n(j,me),~Oe&&ot[Oe].m(j,null),n(j,Ge),n(j,Re),n(j,Ze),It&&It.m(j,null),n(j,Ke),n(j,Dt),n(j,re),n(j,we),n(we,pt),n(pt,gt),n(we,qe),n(we,Fe),n(Fe,ct);for(let De=0;De<Ct.length;De+=1)Ct[De]&&Ct[De].m(ct,null);Jt(ct,s[6],!0),n(j,Rt),n(j,At),n(At,We),n(e,bt),n(e,ut),n(ut,dt),n(dt,xe),Xe=!0,oe||(Pe=[se(w,"change",s[25]),se(ae,"change",s[31]),se(ae,"change",s[32]),se(ct,"change",s[46]),se(e,"submit",rs(s[47]))],oe=!0)},p(Ue,Ae){(!Xe||Ae[0]&131072)&&r!==(r=Ue[17].t("STT Settings")+"")&&H(f,r),(!Xe||Ae[0]&131072)&&p!==(p=Ue[17].t("Speech-to-Text Engine")+"")&&H(m,p),(!Xe||Ae[0]&131072)&&I!==(I=Ue[17].t("Whisper (Local)")+"")&&H(y,I),(!Xe||Ae[0]&131072)&&N!==(N=Ue[17].t("Web API")+"")&&H(V,N),Ae[0]&2048&&Jt(w,Ue[11]);let De=R;R=Ot(Ue),R===De?~R&&Je[R].p(Ue,Ae):(P&&(Vt(),W(Je[De],1,1,()=>{Je[De]=null}),St()),~R?(P=Je[R],P?P.p(Ue,Ae):(P=Je[R]=Tt[R](Ue),P.c()),K(P,1),P.m(a,null)):P=null),(!Xe||Ae[0]&131072)&&Y!==(Y=Ue[17].t("TTS Settings")+"")&&H(z,Y),(!Xe||Ae[0]&131072)&&te!==(te=Ue[17].t("Text-to-Speech Engine")+"")&&H(x,te),(!Xe||Ae[0]&131072)&&ne!==(ne=Ue[17].t("Web API")+"")&&H($e,ne),(!Xe||Ae[0]&131072)&&Le!==(Le=Ue[17].t("Transformers")+"")&&H(be,Le),(!Xe||Ae[0]&131072)&&Ve!==(Ve=Ue[17].t("Local")+"")&&H(ie,Ve),(!Xe||Ae[0]&131072)&&ce!==(ce=Ue[17].t("OpenAI")+"")&&H(ke,ce),(!Xe||Ae[0]&131072)&&ze!==(ze=Ue[17].t("ElevenLabs")+"")&&H(Qe,ze),(!Xe||Ae[0]&131072)&&ye!==(ye=Ue[17].t("Azure AI Speech")+"")&&H(fe,ye),Ae[0]&8&&Jt(ae,Ue[3]);let wt=Oe;if(Oe=jt(Ue),Oe===wt?~Oe&&ot[Oe].p(Ue,Ae):(Me&&(Vt(),W(ot[wt],1,1,()=>{ot[wt]=null}),St()),~Oe?(Me=ot[Oe],Me?Me.p(Ue,Ae):(Me=ot[Oe]=Et[Oe](Ue),Me.c()),K(Me,1),Me.m(j,Ge)):Me=null),Gt===(Gt=el(Ue))&&It?It.p(Ue,Ae):(It&&It.d(1),It=Gt&&Gt(Ue),It&&(It.c(),It.m(j,Ke))),(!Xe||Ae[0]&131072)&&mt!==(mt=Ue[17].t("Response splitting")+"")&&H(gt,mt),Ae[0]&131072){Lt=yt(Object.values(Qa));let et;for(et=0;et<Lt.length;et+=1){const ft=Rn(Ue,Lt,et);Ct[et]?Ct[et].p(ft,Ae):(Ct[et]=Jn(ft),Ct[et].c(),Ct[et].m(ct,null))}for(;et<Ct.length;et+=1)Ct[et].d(1);Ct.length=Lt.length}Ae[0]&64&&Jt(ct,Ue[6]),(!Xe||Ae[0]&131072)&&Te!==(Te=Ue[17].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"")&&H(We,Te),(!Xe||Ae[0]&131072)&&rt!==(rt=Ue[17].t("Save")+"")&&H(xe,rt)},i(Ue){Xe||(K(P),K(Me),Xe=!0)},o(Ue){W(P),W(Me),Xe=!1},d(Ue){Ue&&c(e),~R&&Je[R].d(),~Oe&&ot[Oe].d(),It&&It.d(),cl(Ct,Ue),oe=!1,ul(Pe)}}}function sc(s,e,t){let l;const a=gs(),i=Il("i18n");nl(s,i,le=>t(17,l=le));let{saveHandler:r}=e,f="",u="",h="",b="",p="",m="",g=Qa.PUNCTUATION,E="",w="",k="",I="",y="",T="",$="",S=!1,N=[],V=[];const C=async()=>{if(b==="")t(16,V=[]);else{const le=await yu(localStorage.token).catch(Ee=>{Ye.error(Ee)});le&&(console.log(le),t(16,V=le.models))}},R=async()=>{if(b===""){const le=setInterval(()=>{t(15,N=speechSynthesis.getVoices()),N.length>0&&(clearInterval(le),N.sort((Ee,ce)=>Ee.name.localeCompare(ce.name,l.resolvedLanguage)))},100)}else{const le=await Tu(localStorage.token).catch(Ee=>{Ye.error(Ee)});le&&(console.log(le),t(15,N=le.voices),N.sort((Ee,ce)=>Ee.name.localeCompare(ce.name,l.resolvedLanguage)))}},P=async()=>{await Au(localStorage.token,{tts:{OPENAI_API_BASE_URL:f,OPENAI_API_KEY:u,API_KEY:h,ENGINE:b,MODEL:p,VOICE:m,SPLIT_ON:g,AZURE_SPEECH_REGION:E,AZURE_SPEECH_OUTPUT_FORMAT:w},stt:{OPENAI_API_BASE_URL:k,OPENAI_API_KEY:I,ENGINE:y,MODEL:T,WHISPER_MODEL:$}})&&(r(),Us.set(await ra()))},Z=async()=>{t(14,S=!0),await P(),t(14,S=!1)};Hl(async()=>{const le=await Iu(localStorage.token);le&&(console.log(le),t(0,f=le.tts.OPENAI_API_BASE_URL),t(1,u=le.tts.OPENAI_API_KEY),t(2,h=le.tts.API_KEY),t(3,b=le.tts.ENGINE),t(4,p=le.tts.MODEL),t(5,m=le.tts.VOICE),t(6,g=le.tts.SPLIT_ON||Qa.PUNCTUATION),t(8,w=le.tts.AZURE_SPEECH_OUTPUT_FORMAT),t(7,E=le.tts.AZURE_SPEECH_REGION),t(9,k=le.stt.OPENAI_API_BASE_URL),t(10,I=le.stt.OPENAI_API_KEY),t(11,y=le.stt.ENGINE),t(12,T=le.stt.MODEL),t(13,$=le.stt.WHISPER_MODEL)),await R(),await C()});function B(){y=Sl(this),t(11,y)}function M(){k=this.value,t(9,k)}function j(le){I=le,t(10,I)}function G(){T=this.value,t(12,T)}function Y(){$=this.value,t(13,$)}const z=()=>{Z()};function X(){b=Sl(this),t(3,b)}const q=async le=>{var Ee;await P(),await R(),await C(),((Ee=le.target)==null?void 0:Ee.value)==="openai"?(t(5,m="alloy"),t(4,p="tts-1")):(t(5,m=""),t(4,p=""))};function Q(){f=this.value,t(0,f)}function te(le){u=le,t(1,u)}function x(){h=this.value,t(2,h)}function F(){h=this.value,t(2,h)}function J(){E=this.value,t(7,E)}function ae(){m=Sl(this),t(5,m),t(15,N)}function ue(){p=this.value,t(4,p)}function ne(){m=this.value,t(5,m),t(15,N)}function $e(){p=this.value,t(4,p)}function ge(){m=this.value,t(5,m),t(15,N)}function Le(){p=this.value,t(4,p)}function be(){m=this.value,t(5,m),t(15,N)}function He(){w=this.value,t(8,w)}function Ve(){g=Sl(this),t(6,g)}const ie=async()=>{await P(),a("save")};return s.$$set=le=>{"saveHandler"in le&&t(24,r=le.saveHandler)},[f,u,h,b,p,m,g,E,w,k,I,y,T,$,S,N,V,l,a,i,C,R,P,Z,r,B,M,j,G,Y,z,X,q,Q,te,x,F,J,ae,ue,ne,$e,ge,Le,be,He,Ve,ie]}class ac extends vl{constructor(e){super(),ml(this,e,sc,lc,pl,{saveHandler:24},null,[-1,-1,-1])}}function Xn(s,e,t){const l=s.slice();return l[40]=e[t],l}function xn(s,e,t){const l=s.slice();return l[49]=e[t],l[50]=e,l[51]=t,l}function ei(s,e,t){const l=s.slice();return l[43]=e[t],l}function ti(s,e,t){const l=s.slice();return l[46]=e[t],l}function li(s){var Ee;let e,t,l=s[5].t("Image Settings")+"",a,i,r,f,u,h=s[5].t("Image Generation (Experimental)")+"",b,p,m,g,E,w,k,I,y,T=s[5].t("Image Generation Engine")+"",$,S,N,V,C,R=s[5].t("Default (Open AI)")+"",P,Z,B=s[5].t("ComfyUI")+"",M,j,G=s[5].t("Automatic1111")+"",Y,z,X,q,Q,te,x,F,J,ae,ue,ne,$e;function ge(ce){s[11](ce)}let Le={};s[1].enabled!==void 0&&(Le.state=s[1].enabled),g=new wl({props:Le}),it.push(()=>ht(g,"state",ge)),g.$on("change",s[12]);let be=s[1].enabled&&si(s);const He=[ic,nc,rc],Ve=[];function ie(ce,ke){var Ie,ze,Qe;return(((Ie=ce[1])==null?void 0:Ie.engine)??"automatic1111")==="automatic1111"?0:((ze=ce[1])==null?void 0:ze.engine)==="comfyui"?1:((Qe=ce[1])==null?void 0:Qe.engine)==="openai"?2:-1}~(x=ie(s))&&(F=Ve[x]=He[x](s));let le=((Ee=s[1])==null?void 0:Ee.enabled)&&ui(s);return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("div"),b=L(h),p=A(),m=d("div"),de(g.$$.fragment),w=A(),be&&be.c(),k=A(),I=d("div"),y=d("div"),$=L(T),S=A(),N=d("div"),V=d("select"),C=d("option"),P=L(R),Z=d("option"),M=L(B),j=d("option"),Y=L(G),X=A(),q=d("hr"),Q=A(),te=d("div"),F&&F.c(),J=A(),le&&le.c(),ae=Xt(),this.h()},l(ce){e=_(ce,"DIV",{});var ke=v(e);t=_(ke,"DIV",{class:!0});var Ie=v(t);a=U(Ie,l),Ie.forEach(c),i=D(ke),r=_(ke,"DIV",{});var ze=v(r);f=_(ze,"DIV",{class:!0});var Qe=v(f);u=_(Qe,"DIV",{class:!0});var ve=v(u);b=U(ve,h),ve.forEach(c),p=D(Qe),m=_(Qe,"DIV",{class:!0});var ye=v(m);_e(g.$$.fragment,ye),ye.forEach(c),Qe.forEach(c),ze.forEach(c),w=D(ke),be&&be.l(ke),k=D(ke),I=_(ke,"DIV",{class:!0});var fe=v(I);y=_(fe,"DIV",{class:!0});var me=v(y);$=U(me,T),me.forEach(c),S=D(fe),N=_(fe,"DIV",{class:!0});var Oe=v(N);V=_(Oe,"SELECT",{class:!0,placeholder:!0});var Me=v(V);C=_(Me,"OPTION",{});var Ge=v(C);P=U(Ge,R),Ge.forEach(c),Z=_(Me,"OPTION",{});var Re=v(Z);M=U(Re,B),Re.forEach(c),j=_(Me,"OPTION",{});var Ze=v(j);Y=U(Ze,G),Ze.forEach(c),Me.forEach(c),Oe.forEach(c),fe.forEach(c),ke.forEach(c),X=D(ce),q=_(ce,"HR",{class:!0}),Q=D(ce),te=_(ce,"DIV",{class:!0});var Ke=v(te);F&&F.l(Ke),Ke.forEach(c),J=D(ce),le&&le.l(ce),ae=Xt(),this.h()},h(){o(t,"class","mb-1 text-sm font-medium"),o(u,"class","self-center text-xs font-medium"),o(m,"class","px-1"),o(f,"class","py-1 flex w-full justify-between"),o(y,"class","self-center text-xs font-medium"),C.__value="openai",ee(C,C.__value),Z.__value="comfyui",ee(Z,Z.__value),j.__value="automatic1111",ee(j,j.__value),o(V,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(V,"placeholder",z=s[5].t("Select Engine")),s[1].engine===void 0&&Nl(()=>s[14].call(V)),o(N,"class","flex items-center relative"),o(I,"class","py-1 flex w-full justify-between"),o(q,"class","dark:border-gray-850"),o(te,"class","flex flex-col gap-2")},m(ce,ke){O(ce,e,ke),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),n(u,b),n(f,p),n(f,m),he(g,m,null),n(e,w),be&&be.m(e,null),n(e,k),n(e,I),n(I,y),n(y,$),n(I,S),n(I,N),n(N,V),n(V,C),n(C,P),n(V,Z),n(Z,M),n(V,j),n(j,Y),Jt(V,s[1].engine,!0),O(ce,X,ke),O(ce,q,ke),O(ce,Q,ke),O(ce,te,ke),~x&&Ve[x].m(te,null),O(ce,J,ke),le&&le.m(ce,ke),O(ce,ae,ke),ue=!0,ne||($e=[se(V,"change",s[14]),se(V,"change",s[15])],ne=!0)},p(ce,ke){var Qe;(!ue||ke[0]&32)&&l!==(l=ce[5].t("Image Settings")+"")&&H(a,l),(!ue||ke[0]&32)&&h!==(h=ce[5].t("Image Generation (Experimental)")+"")&&H(b,h);const Ie={};!E&&ke[0]&2&&(E=!0,Ie.state=ce[1].enabled,_t(()=>E=!1)),g.$set(Ie),ce[1].enabled?be?(be.p(ce,ke),ke[0]&2&&K(be,1)):(be=si(ce),be.c(),K(be,1),be.m(e,k)):be&&(Vt(),W(be,1,1,()=>{be=null}),St()),(!ue||ke[0]&32)&&T!==(T=ce[5].t("Image Generation Engine")+"")&&H($,T),(!ue||ke[0]&32)&&R!==(R=ce[5].t("Default (Open AI)")+"")&&H(P,R),(!ue||ke[0]&32)&&B!==(B=ce[5].t("ComfyUI")+"")&&H(M,B),(!ue||ke[0]&32)&&G!==(G=ce[5].t("Automatic1111")+"")&&H(Y,G),(!ue||ke[0]&32&&z!==(z=ce[5].t("Select Engine")))&&o(V,"placeholder",z),ke[0]&2&&Jt(V,ce[1].engine);let ze=x;x=ie(ce),x===ze?~x&&Ve[x].p(ce,ke):(F&&(Vt(),W(Ve[ze],1,1,()=>{Ve[ze]=null}),St()),~x?(F=Ve[x],F?F.p(ce,ke):(F=Ve[x]=He[x](ce),F.c()),K(F,1),F.m(te,null)):F=null),(Qe=ce[1])!=null&&Qe.enabled?le?(le.p(ce,ke),ke[0]&2&&K(le,1)):(le=ui(ce),le.c(),K(le,1),le.m(ae.parentNode,ae)):le&&(Vt(),W(le,1,1,()=>{le=null}),St())},i(ce){ue||(K(g.$$.fragment,ce),K(be),K(F),K(le),ue=!0)},o(ce){W(g.$$.fragment,ce),W(be),W(F),W(le),ue=!1},d(ce){ce&&(c(e),c(X),c(q),c(Q),c(te),c(J),c(ae)),pe(g),be&&be.d(),~x&&Ve[x].d(),le&&le.d(ce),ne=!1,ul($e)}}}function si(s){let e,t,l=s[5].t("Image Prompt Generation")+"",a,i,r,f,u,h;function b(m){s[13](m)}let p={};return s[1].prompt_generation!==void 0&&(p.state=s[1].prompt_generation),f=new wl({props:p}),it.push(()=>ht(f,"state",b)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),de(f.$$.fragment),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);a=U(E,l),E.forEach(c),i=D(g),r=_(g,"DIV",{class:!0});var w=v(r);_e(f.$$.fragment,w),w.forEach(c),g.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium"),o(r,"class","px-1"),o(e,"class","py-1 flex w-full justify-between")},m(m,g){O(m,e,g),n(e,t),n(t,a),n(e,i),n(e,r),he(f,r,null),h=!0},p(m,g){(!h||g[0]&32)&&l!==(l=m[5].t("Image Prompt Generation")+"")&&H(a,l);const E={};!u&&g[0]&2&&(u=!0,E.state=m[1].prompt_generation,_t(()=>u=!1)),f.$set(E)},i(m){h||(K(f.$$.fragment,m),h=!0)},o(m){W(f.$$.fragment,m),h=!1},d(m){m&&c(e),pe(f)}}}function rc(s){let e,t,l=s[5].t("OpenAI API Config")+"",a,i,r,f,u,h,b,p,m,g,E;function w(I){s[31](I)}let k={placeholder:s[5].t("API Key")};return s[1].openai.OPENAI_API_KEY!==void 0&&(k.value=s[1].openai.OPENAI_API_KEY),b=new $l({props:k}),it.push(()=>ht(b,"value",w)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("input"),h=A(),de(b.$$.fragment),this.h()},l(I){e=_(I,"DIV",{});var y=v(e);t=_(y,"DIV",{class:!0});var T=v(t);a=U(T,l),T.forEach(c),i=D(y),r=_(y,"DIV",{class:!0});var $=v(r);f=_($,"INPUT",{class:!0,placeholder:!0}),h=D($),_e(b.$$.fragment,$),$.forEach(c),y.forEach(c),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(f,"class","flex-1 w-full text-sm bg-transparent outline-none"),o(f,"placeholder",u=s[5].t("API Base URL")),f.required=!0,o(r,"class","flex gap-2 mb-1")},m(I,y){O(I,e,y),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),ee(f,s[1].openai.OPENAI_API_BASE_URL),n(r,h),he(b,r,null),m=!0,g||(E=se(f,"input",s[30]),g=!0)},p(I,y){(!m||y[0]&32)&&l!==(l=I[5].t("OpenAI API Config")+"")&&H(a,l),(!m||y[0]&32&&u!==(u=I[5].t("API Base URL")))&&o(f,"placeholder",u),y[0]&2&&f.value!==I[1].openai.OPENAI_API_BASE_URL&&ee(f,I[1].openai.OPENAI_API_BASE_URL);const T={};y[0]&32&&(T.placeholder=I[5].t("API Key")),!p&&y[0]&2&&(p=!0,T.value=I[1].openai.OPENAI_API_KEY,_t(()=>p=!1)),b.$set(T)},i(I){m||(K(b.$$.fragment,I),m=!0)},o(I){W(b.$$.fragment,I),m=!1},d(I){I&&c(e),pe(b),g=!1,E()}}}function nc(s){let e,t,l=s[5].t("ComfyUI Base URL")+"",a,i,r,f,u,h,b,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,E,w,k=s[5].t("ComfyUI API Key")+"",I,y,T,$,S,N,V,C,R,P=s[5].t("ComfyUI Workflow")+"",Z,B,M,j,G,Y,z,X,q=s[5].t("Click here to upload a workflow.json file.")+"",Q,te,x,F=s[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"",J,ae,ue,ne,$e,ge;function Le(ie){s[24](ie)}let be={placeholder:s[5].t("sk-1234"),required:!1};s[1].comfyui.COMFYUI_API_KEY!==void 0&&(be.value=s[1].comfyui.COMFYUI_API_KEY),S=new $l({props:be}),it.push(()=>ht(S,"value",Le));let He=s[1].comfyui.COMFYUI_WORKFLOW&&ai(s),Ve=s[1].comfyui.COMFYUI_WORKFLOW&&ri(s);return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("input"),b=A(),p=d("button"),p.innerHTML=m,g=A(),E=d("div"),w=d("div"),I=L(k),y=A(),T=d("div"),$=d("div"),de(S.$$.fragment),V=A(),C=d("div"),R=d("div"),Z=L(P),B=A(),He&&He.c(),M=A(),j=d("div"),G=d("div"),Y=d("input"),z=A(),X=d("button"),Q=L(q),te=A(),x=d("div"),J=L(F),ae=A(),Ve&&Ve.c(),ue=Xt(),this.h()},l(ie){e=_(ie,"DIV",{class:!0});var le=v(e);t=_(le,"DIV",{class:!0});var Ee=v(t);a=U(Ee,l),Ee.forEach(c),i=D(le),r=_(le,"DIV",{class:!0});var ce=v(r);f=_(ce,"DIV",{class:!0});var ke=v(f);u=_(ke,"INPUT",{class:!0,placeholder:!0}),ke.forEach(c),b=D(ce),p=_(ce,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Kt(p)!=="svelte-6bmm9v"&&(p.innerHTML=m),ce.forEach(c),le.forEach(c),g=D(ie),E=_(ie,"DIV",{class:!0});var Ie=v(E);w=_(Ie,"DIV",{class:!0});var ze=v(w);I=U(ze,k),ze.forEach(c),y=D(Ie),T=_(Ie,"DIV",{class:!0});var Qe=v(T);$=_(Qe,"DIV",{class:!0});var ve=v($);_e(S.$$.fragment,ve),ve.forEach(c),Qe.forEach(c),Ie.forEach(c),V=D(ie),C=_(ie,"DIV",{class:!0});var ye=v(C);R=_(ye,"DIV",{class:!0});var fe=v(R);Z=U(fe,P),fe.forEach(c),B=D(ye),He&&He.l(ye),M=D(ye),j=_(ye,"DIV",{class:!0});var me=v(j);G=_(me,"DIV",{class:!0});var Oe=v(G);Y=_(Oe,"INPUT",{id:!0,type:!0,accept:!0}),z=D(Oe),X=_(Oe,"BUTTON",{class:!0,type:!0});var Me=v(X);Q=U(Me,q),Me.forEach(c),Oe.forEach(c),me.forEach(c),te=D(ye),x=_(ye,"DIV",{class:!0});var Ge=v(x);J=U(Ge,F),Ge.forEach(c),ye.forEach(c),ae=D(ie),Ve&&Ve.l(ie),ue=Xt(),this.h()},h(){o(t,"class","mb-2 text-sm font-medium"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(u,"placeholder",h=s[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),o(f,"class","flex-1 mr-2"),o(p,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(p,"type","button"),o(r,"class","flex w-full"),o(e,"class",""),o(w,"class","mb-2 text-sm font-medium"),o($,"class","flex-1 mr-2"),o(T,"class","flex w-full"),o(E,"class",""),o(R,"class","mb-2 text-sm font-medium"),o(Y,"id","upload-comfyui-workflow-input"),Y.hidden=!0,o(Y,"type","file"),o(Y,"accept",".json"),o(X,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),o(X,"type","button"),o(G,"class","flex-1"),o(j,"class","flex w-full"),o(x,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(C,"class","")},m(ie,le){O(ie,e,le),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),ee(u,s[1].comfyui.COMFYUI_BASE_URL),n(r,b),n(r,p),O(ie,g,le),O(ie,E,le),n(E,w),n(w,I),n(E,y),n(E,T),n(T,$),he(S,$,null),O(ie,V,le),O(ie,C,le),n(C,R),n(R,Z),n(C,B),He&&He.m(C,null),n(C,M),n(C,j),n(j,G),n(G,Y),n(G,z),n(G,X),n(X,Q),n(C,te),n(C,x),n(x,J),O(ie,ae,le),Ve&&Ve.m(ie,le),O(ie,ue,le),ne=!0,$e||(ge=[se(u,"input",s[22]),se(p,"click",s[23]),se(Y,"change",s[26]),se(X,"click",s[27])],$e=!0)},p(ie,le){(!ne||le[0]&32)&&l!==(l=ie[5].t("ComfyUI Base URL")+"")&&H(a,l),(!ne||le[0]&32&&h!==(h=ie[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&o(u,"placeholder",h),le[0]&2&&u.value!==ie[1].comfyui.COMFYUI_BASE_URL&&ee(u,ie[1].comfyui.COMFYUI_BASE_URL),(!ne||le[0]&32)&&k!==(k=ie[5].t("ComfyUI API Key")+"")&&H(I,k);const Ee={};le[0]&32&&(Ee.placeholder=ie[5].t("sk-1234")),!N&&le[0]&2&&(N=!0,Ee.value=ie[1].comfyui.COMFYUI_API_KEY,_t(()=>N=!1)),S.$set(Ee),(!ne||le[0]&32)&&P!==(P=ie[5].t("ComfyUI Workflow")+"")&&H(Z,P),ie[1].comfyui.COMFYUI_WORKFLOW?He?He.p(ie,le):(He=ai(ie),He.c(),He.m(C,M)):He&&(He.d(1),He=null),(!ne||le[0]&32)&&q!==(q=ie[5].t("Click here to upload a workflow.json file.")+"")&&H(Q,q),(!ne||le[0]&32)&&F!==(F=ie[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"")&&H(J,F),ie[1].comfyui.COMFYUI_WORKFLOW?Ve?(Ve.p(ie,le),le[0]&2&&K(Ve,1)):(Ve=ri(ie),Ve.c(),K(Ve,1),Ve.m(ue.parentNode,ue)):Ve&&(Vt(),W(Ve,1,1,()=>{Ve=null}),St())},i(ie){ne||(K(S.$$.fragment,ie),K(Ve),ne=!0)},o(ie){W(S.$$.fragment,ie),W(Ve),ne=!1},d(ie){ie&&(c(e),c(g),c(E),c(V),c(C),c(ae),c(ue)),pe(S),He&&He.d(),Ve&&Ve.d(ie),$e=!1,ul(ge)}}}function ic(s){let e,t,l=s[5].t("AUTOMATIC1111 Base URL")+"",a,i,r,f,u,h,b,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,E,w=s[5].t("Include `--api` flag when running stable-diffusion-webui")+"",k,I,y,T=s[5].t("(e.g. `sh webui.sh --api`)")+"",$,S,N,V,C=s[5].t("AUTOMATIC1111 Api Auth String")+"",R,P,Z,B,M,j,G=s[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"",Y,z,X,q=s[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"",Q,te,x,F,J=s[5].t("Set Sampler")+"",ae,ue,ne,$e,ge,Le,be,He,Ve=s[5].t("Set Scheduler")+"",ie,le,Ee,ce,ke,Ie,ze,Qe,ve=s[5].t("Set CFG Scale")+"",ye,fe,me,Oe,Me,Ge,Re,Ze;function Ke(re){s[18](re)}let Dt={placeholder:s[5].t("Enter api auth string (e.g. username:password)"),required:!1};return s[1].automatic1111.AUTOMATIC1111_API_AUTH!==void 0&&(Dt.value=s[1].automatic1111.AUTOMATIC1111_API_AUTH),Z=new $l({props:Dt}),it.push(()=>ht(Z,"value",Ke)),ge=new Yt({props:{content:s[5].t("Enter Sampler (e.g. Euler a)"),placement:"top-start",$$slots:{default:[fc]},$$scope:{ctx:s}}}),ke=new Yt({props:{content:s[5].t("Enter Scheduler (e.g. Karras)"),placement:"top-start",$$slots:{default:[cc]},$$scope:{ctx:s}}}),Me=new Yt({props:{content:s[5].t("Enter CFG Scale (e.g. 7.0)"),placement:"top-start",$$slots:{default:[dc]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("input"),b=A(),p=d("button"),p.innerHTML=m,g=A(),E=d("div"),k=L(w),I=A(),y=d("a"),$=L(T),S=A(),N=d("div"),V=d("div"),R=L(C),P=A(),de(Z.$$.fragment),M=A(),j=d("div"),Y=L(G),z=A(),X=d("a"),Q=L(q),te=A(),x=d("div"),F=d("div"),ae=L(J),ue=A(),ne=d("div"),$e=d("div"),de(ge.$$.fragment),Le=A(),be=d("div"),He=d("div"),ie=L(Ve),le=A(),Ee=d("div"),ce=d("div"),de(ke.$$.fragment),Ie=A(),ze=d("div"),Qe=d("div"),ye=L(ve),fe=A(),me=d("div"),Oe=d("div"),de(Me.$$.fragment),this.h()},l(re){e=_(re,"DIV",{});var we=v(e);t=_(we,"DIV",{class:!0});var pt=v(t);a=U(pt,l),pt.forEach(c),i=D(we),r=_(we,"DIV",{class:!0});var mt=v(r);f=_(mt,"DIV",{class:!0});var gt=v(f);u=_(gt,"INPUT",{class:!0,placeholder:!0}),gt.forEach(c),b=D(mt),p=_(mt,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Kt(p)!=="svelte-6bmm9v"&&(p.innerHTML=m),mt.forEach(c),g=D(we),E=_(we,"DIV",{class:!0});var qe=v(E);k=U(qe,w),I=D(qe),y=_(qe,"A",{class:!0,href:!0,target:!0});var Fe=v(y);$=U(Fe,T),Fe.forEach(c),qe.forEach(c),we.forEach(c),S=D(re),N=_(re,"DIV",{});var ct=v(N);V=_(ct,"DIV",{class:!0});var Rt=v(V);R=U(Rt,C),Rt.forEach(c),P=D(ct),_e(Z.$$.fragment,ct),M=D(ct),j=_(ct,"DIV",{class:!0});var At=v(j);Y=U(At,G),z=D(At),X=_(At,"A",{class:!0,href:!0,target:!0});var Te=v(X);Q=U(Te,q),Te.forEach(c),At.forEach(c),ct.forEach(c),te=D(re),x=_(re,"DIV",{});var We=v(x);F=_(We,"DIV",{class:!0});var bt=v(F);ae=U(bt,J),bt.forEach(c),ue=D(We),ne=_(We,"DIV",{class:!0});var ut=v(ne);$e=_(ut,"DIV",{class:!0});var dt=v($e);_e(ge.$$.fragment,dt),dt.forEach(c),ut.forEach(c),We.forEach(c),Le=D(re),be=_(re,"DIV",{});var rt=v(be);He=_(rt,"DIV",{class:!0});var xe=v(He);ie=U(xe,Ve),xe.forEach(c),le=D(rt),Ee=_(rt,"DIV",{class:!0});var Xe=v(Ee);ce=_(Xe,"DIV",{class:!0});var oe=v(ce);_e(ke.$$.fragment,oe),oe.forEach(c),Xe.forEach(c),rt.forEach(c),Ie=D(re),ze=_(re,"DIV",{});var Pe=v(ze);Qe=_(Pe,"DIV",{class:!0});var Tt=v(Qe);ye=U(Tt,ve),Tt.forEach(c),fe=D(Pe),me=_(Pe,"DIV",{class:!0});var Je=v(me);Oe=_(Je,"DIV",{class:!0});var Ot=v(Oe);_e(Me.$$.fragment,Ot),Ot.forEach(c),Je.forEach(c),Pe.forEach(c),this.h()},h(){o(t,"class","mb-2 text-sm font-medium"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(u,"placeholder",h=s[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),o(f,"class","flex-1 mr-2"),o(p,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(p,"type","button"),o(r,"class","flex w-full"),o(y,"class","text-gray-300 font-medium"),o(y,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734"),o(y,"target","_blank"),o(E,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(V,"class","mb-2 text-sm font-medium"),o(X,"class","text-gray-300 font-medium"),o(X,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/13993"),o(X,"target","_blank"),o(j,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(F,"class","mb-2.5 text-sm font-medium"),o($e,"class","flex-1 mr-2"),o(ne,"class","flex w-full"),o(He,"class","mb-2.5 text-sm font-medium"),o(ce,"class","flex-1 mr-2"),o(Ee,"class","flex w-full"),o(Qe,"class","mb-2.5 text-sm font-medium"),o(Oe,"class","flex-1 mr-2"),o(me,"class","flex w-full")},m(re,we){O(re,e,we),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),ee(u,s[1].automatic1111.AUTOMATIC1111_BASE_URL),n(r,b),n(r,p),n(e,g),n(e,E),n(E,k),n(E,I),n(E,y),n(y,$),O(re,S,we),O(re,N,we),n(N,V),n(V,R),n(N,P),he(Z,N,null),n(N,M),n(N,j),n(j,Y),n(j,z),n(j,X),n(X,Q),O(re,te,we),O(re,x,we),n(x,F),n(F,ae),n(x,ue),n(x,ne),n(ne,$e),he(ge,$e,null),O(re,Le,we),O(re,be,we),n(be,He),n(He,ie),n(be,le),n(be,Ee),n(Ee,ce),he(ke,ce,null),O(re,Ie,we),O(re,ze,we),n(ze,Qe),n(Qe,ye),n(ze,fe),n(ze,me),n(me,Oe),he(Me,Oe,null),Ge=!0,Re||(Ze=[se(u,"input",s[16]),se(p,"click",s[17])],Re=!0)},p(re,we){(!Ge||we[0]&32)&&l!==(l=re[5].t("AUTOMATIC1111 Base URL")+"")&&H(a,l),(!Ge||we[0]&32&&h!==(h=re[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&o(u,"placeholder",h),we[0]&2&&u.value!==re[1].automatic1111.AUTOMATIC1111_BASE_URL&&ee(u,re[1].automatic1111.AUTOMATIC1111_BASE_URL),(!Ge||we[0]&32)&&w!==(w=re[5].t("Include `--api` flag when running stable-diffusion-webui")+"")&&H(k,w),(!Ge||we[0]&32)&&T!==(T=re[5].t("(e.g. `sh webui.sh --api`)")+"")&&H($,T),(!Ge||we[0]&32)&&C!==(C=re[5].t("AUTOMATIC1111 Api Auth String")+"")&&H(R,C);const pt={};we[0]&32&&(pt.placeholder=re[5].t("Enter api auth string (e.g. username:password)")),!B&&we[0]&2&&(B=!0,pt.value=re[1].automatic1111.AUTOMATIC1111_API_AUTH,_t(()=>B=!1)),Z.$set(pt),(!Ge||we[0]&32)&&G!==(G=re[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"")&&H(Y,G),(!Ge||we[0]&32)&&q!==(q=re[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"")&&H(Q,q),(!Ge||we[0]&32)&&J!==(J=re[5].t("Set Sampler")+"")&&H(ae,J);const mt={};we[0]&32&&(mt.content=re[5].t("Enter Sampler (e.g. Euler a)")),we[0]&34|we[1]&2097152&&(mt.$$scope={dirty:we,ctx:re}),ge.$set(mt),(!Ge||we[0]&32)&&Ve!==(Ve=re[5].t("Set Scheduler")+"")&&H(ie,Ve);const gt={};we[0]&32&&(gt.content=re[5].t("Enter Scheduler (e.g. Karras)")),we[0]&34|we[1]&2097152&&(gt.$$scope={dirty:we,ctx:re}),ke.$set(gt),(!Ge||we[0]&32)&&ve!==(ve=re[5].t("Set CFG Scale")+"")&&H(ye,ve);const qe={};we[0]&32&&(qe.content=re[5].t("Enter CFG Scale (e.g. 7.0)")),we[0]&34|we[1]&2097152&&(qe.$$scope={dirty:we,ctx:re}),Me.$set(qe)},i(re){Ge||(K(Z.$$.fragment,re),K(ge.$$.fragment,re),K(ke.$$.fragment,re),K(Me.$$.fragment,re),Ge=!0)},o(re){W(Z.$$.fragment,re),W(ge.$$.fragment,re),W(ke.$$.fragment,re),W(Me.$$.fragment,re),Ge=!1},d(re){re&&(c(e),c(S),c(N),c(te),c(x),c(Le),c(be),c(Ie),c(ze)),pe(Z),pe(ge),pe(ke),pe(Me),Re=!1,ul(Ze)}}}function ai(s){let e,t,l;return{c(){e=d("textarea"),this.h()},l(a){e=_(a,"TEXTAREA",{class:!0,rows:!0}),v(e).forEach(c),this.h()},h(){o(e,"class","w-full rounded-lg mb-1 py-2 px-4 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none disabled:text-gray-600 resize-none"),o(e,"rows","10"),e.required=!0},m(a,i){O(a,e,i),ee(e,s[1].comfyui.COMFYUI_WORKFLOW),t||(l=se(e,"input",s[25]),t=!0)},p(a,i){i[0]&2&&ee(e,a[1].comfyui.COMFYUI_WORKFLOW)},d(a){a&&c(e),t=!1,l()}}}function ri(s){let e,t,l=s[5].t("ComfyUI Workflow Nodes")+"",a,i,r,f,u,h=s[5].t("*Prompt node ID(s) are required for image generation")+"",b,p,m=yt(s[4]),g=[];for(let w=0;w<m.length;w+=1)g[w]=ni(xn(s,m,w));const E=w=>W(g[w],1,1,()=>{g[w]=null});return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div");for(let w=0;w<g.length;w+=1)g[w].c();f=A(),u=d("div"),b=L(h),this.h()},l(w){e=_(w,"DIV",{class:!0});var k=v(e);t=_(k,"DIV",{class:!0});var I=v(t);a=U(I,l),I.forEach(c),i=D(k),r=_(k,"DIV",{class:!0});var y=v(r);for(let $=0;$<g.length;$+=1)g[$].l(y);y.forEach(c),f=D(k),u=_(k,"DIV",{class:!0});var T=v(u);b=U(T,h),T.forEach(c),k.forEach(c),this.h()},h(){o(t,"class","mb-2 text-sm font-medium"),o(r,"class","text-xs flex flex-col gap-1.5"),o(u,"class","mt-2 text-xs text-right text-gray-400 dark:text-gray-500"),o(e,"class","")},m(w,k){O(w,e,k),n(e,t),n(t,a),n(e,i),n(e,r);for(let I=0;I<g.length;I+=1)g[I]&&g[I].m(r,null);n(e,f),n(e,u),n(u,b),p=!0},p(w,k){if((!p||k[0]&32)&&l!==(l=w[5].t("ComfyUI Workflow Nodes")+"")&&H(a,l),k[0]&16){m=yt(w[4]);let I;for(I=0;I<m.length;I+=1){const y=xn(w,m,I);g[I]?(g[I].p(y,k),K(g[I],1)):(g[I]=ni(y),g[I].c(),K(g[I],1),g[I].m(r,null))}for(Vt(),I=m.length;I<g.length;I+=1)E(I);St()}(!p||k[0]&32)&&h!==(h=w[5].t("*Prompt node ID(s) are required for image generation")+"")&&H(b,h)},i(w){if(!p){for(let k=0;k<m.length;k+=1)K(g[k]);p=!0}},o(w){g=g.filter(Boolean);for(let k=0;k<g.length;k+=1)W(g[k]);p=!1},d(w){w&&c(e),cl(g,w)}}}function oc(s){let e,t,l;function a(){s[28].call(e,s[50],s[51])}return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","py-1 px-3 w-24 text-xs text-center bg-transparent outline-none border-r dark:border-gray-850"),o(e,"placeholder","Key"),e.required=!0},m(i,r){O(i,e,r),ee(e,s[49].key),t||(l=se(e,"input",a),t=!0)},p(i,r){s=i,r[0]&16&&e.value!==s[49].key&&ee(e,s[49].key)},d(i){i&&c(e),t=!1,l()}}}function uc(s){let e,t,l;function a(){s[29].call(e,s[50],s[51])}return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full py-1 px-4 rounded-r-lg text-xs bg-transparent outline-none"),o(e,"placeholder","Node Ids")},m(i,r){O(i,e,r),ee(e,s[49].node_ids),t||(l=se(e,"input",a),t=!0)},p(i,r){s=i,r[0]&16&&e.value!==s[49].node_ids&&ee(e,s[49].node_ids)},d(i){i&&c(e),t=!1,l()}}}function ni(s){let e,t,l,a=s[49].type+"",i,r=s[49].type==="prompt"?"*":"",f,u,h,b,p,m,g,E,w;return b=new Yt({props:{content:"Input Key (e.g. text, unet_name, steps)",$$slots:{default:[oc]},$$scope:{ctx:s}}}),g=new Yt({props:{content:"Comma separated Node Ids (e.g. 1 or 1,2)",placement:"top-start",$$slots:{default:[uc]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),f=L(r),u=A(),h=d("div"),de(b.$$.fragment),p=A(),m=d("div"),de(g.$$.fragment),E=A(),this.h()},l(k){e=_(k,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var y=v(t);l=_(y,"DIV",{class:!0});var T=v(l);i=U(T,a),f=U(T,r),T.forEach(c),y.forEach(c),u=D(I),h=_(I,"DIV",{class:!0});var $=v(h);_e(b.$$.fragment,$),$.forEach(c),p=D(I),m=_(I,"DIV",{class:!0});var S=v(m);_e(g.$$.fragment,S),S.forEach(c),E=D(I),I.forEach(c),this.h()},h(){o(l,"class","capitalize line-clamp-1 font-medium px-3 py-1 w-20 text-center rounded-l-lg bg-green-500/10 text-green-700 dark:text-green-200"),o(t,"class","flex-shrink-0"),o(h,"class",""),o(m,"class","w-full"),o(e,"class","flex w-full items-center border dark:border-gray-850 rounded-lg")},m(k,I){O(k,e,I),n(e,t),n(t,l),n(l,i),n(l,f),n(e,u),n(e,h),he(b,h,null),n(e,p),n(e,m),he(g,m,null),n(e,E),w=!0},p(k,I){(!w||I[0]&16)&&a!==(a=k[49].type+"")&&H(i,a),(!w||I[0]&16)&&r!==(r=k[49].type==="prompt"?"*":"")&&H(f,r);const y={};I[0]&16|I[1]&2097152&&(y.$$scope={dirty:I,ctx:k}),b.$set(y);const T={};I[0]&16|I[1]&2097152&&(T.$$scope={dirty:I,ctx:k}),g.$set(T)},i(k){w||(K(b.$$.fragment,k),K(g.$$.fragment,k),w=!0)},o(k){W(b.$$.fragment,k),W(g.$$.fragment,k),w=!1},d(k){k&&c(e),pe(b),pe(g)}}}function ii(s){let e,t=s[46]+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){e.__value=s[46],ee(e,e.__value)},m(a,i){O(a,e,i),n(e,l)},p:vt,d(a){a&&c(e)}}}function fc(s){let e,t,l,a,i,r,f=yt(s[7]??[]),u=[];for(let h=0;h<f.length;h+=1)u[h]=ii(ti(s,f,h));return{c(){e=d("input"),l=A(),a=d("datalist");for(let h=0;h<u.length;h+=1)u[h].c();this.h()},l(h){e=_(h,"INPUT",{list:!0,class:!0,placeholder:!0}),l=D(h),a=_(h,"DATALIST",{id:!0});var b=v(a);for(let p=0;p<u.length;p+=1)u[p].l(b);b.forEach(c),this.h()},h(){o(e,"list","sampler-list"),o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"placeholder",t=s[5].t("Enter Sampler (e.g. Euler a)")),o(a,"id","sampler-list")},m(h,b){O(h,e,b),ee(e,s[1].automatic1111.AUTOMATIC1111_SAMPLER),O(h,l,b),O(h,a,b);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(a,null);i||(r=se(e,"input",s[19]),i=!0)},p(h,b){if(b[0]&32&&t!==(t=h[5].t("Enter Sampler (e.g. Euler a)"))&&o(e,"placeholder",t),b[0]&2&&e.value!==h[1].automatic1111.AUTOMATIC1111_SAMPLER&&ee(e,h[1].automatic1111.AUTOMATIC1111_SAMPLER),b[0]&128){f=yt(h[7]??[]);let p;for(p=0;p<f.length;p+=1){const m=ti(h,f,p);u[p]?u[p].p(m,b):(u[p]=ii(m),u[p].c(),u[p].m(a,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=f.length}},d(h){h&&(c(e),c(l),c(a)),cl(u,h),i=!1,r()}}}function oi(s){let e,t=s[43]+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){e.__value=s[43],ee(e,e.__value)},m(a,i){O(a,e,i),n(e,l)},p:vt,d(a){a&&c(e)}}}function cc(s){let e,t,l,a,i,r,f=yt(s[8]??[]),u=[];for(let h=0;h<f.length;h+=1)u[h]=oi(ei(s,f,h));return{c(){e=d("input"),l=A(),a=d("datalist");for(let h=0;h<u.length;h+=1)u[h].c();this.h()},l(h){e=_(h,"INPUT",{list:!0,class:!0,placeholder:!0}),l=D(h),a=_(h,"DATALIST",{id:!0});var b=v(a);for(let p=0;p<u.length;p+=1)u[p].l(b);b.forEach(c),this.h()},h(){o(e,"list","scheduler-list"),o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"placeholder",t=s[5].t("Enter Scheduler (e.g. Karras)")),o(a,"id","scheduler-list")},m(h,b){O(h,e,b),ee(e,s[1].automatic1111.AUTOMATIC1111_SCHEDULER),O(h,l,b),O(h,a,b);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(a,null);i||(r=se(e,"input",s[20]),i=!0)},p(h,b){if(b[0]&32&&t!==(t=h[5].t("Enter Scheduler (e.g. Karras)"))&&o(e,"placeholder",t),b[0]&2&&e.value!==h[1].automatic1111.AUTOMATIC1111_SCHEDULER&&ee(e,h[1].automatic1111.AUTOMATIC1111_SCHEDULER),b[0]&256){f=yt(h[8]??[]);let p;for(p=0;p<f.length;p+=1){const m=ei(h,f,p);u[p]?u[p].p(m,b):(u[p]=oi(m),u[p].c(),u[p].m(a,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=f.length}},d(h){h&&(c(e),c(l),c(a)),cl(u,h),i=!1,r()}}}function dc(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"placeholder",t=s[5].t("Enter CFG Scale (e.g. 7.0)"))},m(i,r){O(i,e,r),ee(e,s[1].automatic1111.AUTOMATIC1111_CFG_SCALE),l||(a=se(e,"input",s[21]),l=!0)},p(i,r){r[0]&32&&t!==(t=i[5].t("Enter CFG Scale (e.g. 7.0)"))&&o(e,"placeholder",t),r[0]&2&&e.value!==i[1].automatic1111.AUTOMATIC1111_CFG_SCALE&&ee(e,i[1].automatic1111.AUTOMATIC1111_CFG_SCALE)},d(i){i&&c(e),l=!1,a()}}}function ui(s){let e,t,l,a,i=s[5].t("Set Default Model")+"",r,f,u,h,b,p,m,g,E,w,k=s[5].t("Set Image Size")+"",I,y,T,$,S,N,V,C,R=s[5].t("Set Steps")+"",P,Z,B,M,j,G;return m=new Yt({props:{content:s[5].t("Enter Model ID"),placement:"top-start",$$slots:{default:[_c]},$$scope:{ctx:s}}}),S=new Yt({props:{content:s[5].t("Enter Image Size (e.g. 512x512)"),placement:"top-start",$$slots:{default:[hc]},$$scope:{ctx:s}}}),j=new Yt({props:{content:s[5].t("Enter Number of Steps (e.g. 50)"),placement:"top-start",$$slots:{default:[pc]},$$scope:{ctx:s}}}),{c(){e=d("hr"),t=A(),l=d("div"),a=d("div"),r=L(i),f=A(),u=d("div"),h=d("div"),b=d("div"),p=d("div"),de(m.$$.fragment),g=A(),E=d("div"),w=d("div"),I=L(k),y=A(),T=d("div"),$=d("div"),de(S.$$.fragment),N=A(),V=d("div"),C=d("div"),P=L(R),Z=A(),B=d("div"),M=d("div"),de(j.$$.fragment),this.h()},l(Y){e=_(Y,"HR",{class:!0}),t=D(Y),l=_(Y,"DIV",{});var z=v(l);a=_(z,"DIV",{class:!0});var X=v(a);r=U(X,i),X.forEach(c),f=D(z),u=_(z,"DIV",{class:!0});var q=v(u);h=_(q,"DIV",{class:!0});var Q=v(h);b=_(Q,"DIV",{class:!0});var te=v(b);p=_(te,"DIV",{class:!0});var x=v(p);_e(m.$$.fragment,x),x.forEach(c),te.forEach(c),Q.forEach(c),q.forEach(c),z.forEach(c),g=D(Y),E=_(Y,"DIV",{});var F=v(E);w=_(F,"DIV",{class:!0});var J=v(w);I=U(J,k),J.forEach(c),y=D(F),T=_(F,"DIV",{class:!0});var ae=v(T);$=_(ae,"DIV",{class:!0});var ue=v($);_e(S.$$.fragment,ue),ue.forEach(c),ae.forEach(c),F.forEach(c),N=D(Y),V=_(Y,"DIV",{});var ne=v(V);C=_(ne,"DIV",{class:!0});var $e=v(C);P=U($e,R),$e.forEach(c),Z=D(ne),B=_(ne,"DIV",{class:!0});var ge=v(B);M=_(ge,"DIV",{class:!0});var Le=v(M);_e(j.$$.fragment,Le),Le.forEach(c),ge.forEach(c),ne.forEach(c),this.h()},h(){o(e,"class","dark:border-gray-850"),o(a,"class","mb-2.5 text-sm font-medium"),o(p,"class","flex-1"),o(b,"class","flex w-full"),o(h,"class","flex-1 mr-2"),o(u,"class","flex w-full"),o(w,"class","mb-2.5 text-sm font-medium"),o($,"class","flex-1 mr-2"),o(T,"class","flex w-full"),o(C,"class","mb-2.5 text-sm font-medium"),o(M,"class","flex-1 mr-2"),o(B,"class","flex w-full")},m(Y,z){O(Y,e,z),O(Y,t,z),O(Y,l,z),n(l,a),n(a,r),n(l,f),n(l,u),n(u,h),n(h,b),n(b,p),he(m,p,null),O(Y,g,z),O(Y,E,z),n(E,w),n(w,I),n(E,y),n(E,T),n(T,$),he(S,$,null),O(Y,N,z),O(Y,V,z),n(V,C),n(C,P),n(V,Z),n(V,B),n(B,M),he(j,M,null),G=!0},p(Y,z){(!G||z[0]&32)&&i!==(i=Y[5].t("Set Default Model")+"")&&H(r,i);const X={};z[0]&32&&(X.content=Y[5].t("Enter Model ID")),z[0]&12|z[1]&2097152&&(X.$$scope={dirty:z,ctx:Y}),m.$set(X),(!G||z[0]&32)&&k!==(k=Y[5].t("Set Image Size")+"")&&H(I,k);const q={};z[0]&32&&(q.content=Y[5].t("Enter Image Size (e.g. 512x512)")),z[0]&36|z[1]&2097152&&(q.$$scope={dirty:z,ctx:Y}),S.$set(q),(!G||z[0]&32)&&R!==(R=Y[5].t("Set Steps")+"")&&H(P,R);const Q={};z[0]&32&&(Q.content=Y[5].t("Enter Number of Steps (e.g. 50)")),z[0]&36|z[1]&2097152&&(Q.$$scope={dirty:z,ctx:Y}),j.$set(Q)},i(Y){G||(K(m.$$.fragment,Y),K(S.$$.fragment,Y),K(j.$$.fragment,Y),G=!0)},o(Y){W(m.$$.fragment,Y),W(S.$$.fragment,Y),W(j.$$.fragment,Y),G=!1},d(Y){Y&&(c(e),c(t),c(l),c(g),c(E),c(N),c(V)),pe(m),pe(S),pe(j)}}}function fi(s){let e,t=s[40].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=_(i,"OPTION",{});var r=v(e);l=U(r,t),r.forEach(c),this.h()},h(){e.__value=a=s[40].id,ee(e,e.__value)},m(i,r){O(i,e,r),n(e,l)},p(i,r){r[0]&8&&t!==(t=i[40].name+"")&&H(l,t),r[0]&8&&a!==(a=i[40].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&c(e)}}}function _c(s){let e,t,l,a,i,r=yt(s[3]??[]),f=[];for(let u=0;u<r.length;u+=1)f[u]=fi(Xn(s,r,u));return{c(){e=d("input"),t=A(),l=d("datalist");for(let u=0;u<f.length;u+=1)f[u].c();this.h()},l(u){e=_(u,"INPUT",{list:!0,class:!0,placeholder:!0}),t=D(u),l=_(u,"DATALIST",{id:!0});var h=v(l);for(let b=0;b<f.length;b+=1)f[b].l(h);h.forEach(c),this.h()},h(){o(e,"list","model-list"),o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"placeholder","Select a model"),e.required=!0,o(l,"id","model-list")},m(u,h){O(u,e,h),ee(e,s[2].MODEL),O(u,t,h),O(u,l,h);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(l,null);a||(i=se(e,"input",s[32]),a=!0)},p(u,h){if(h[0]&4&&e.value!==u[2].MODEL&&ee(e,u[2].MODEL),h[0]&8){r=yt(u[3]??[]);let b;for(b=0;b<r.length;b+=1){const p=Xn(u,r,b);f[b]?f[b].p(p,h):(f[b]=fi(p),f[b].c(),f[b].m(l,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=r.length}},d(u){u&&(c(e),c(t),c(l)),cl(f,u),a=!1,i()}}}function hc(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"placeholder",t=s[5].t("Enter Image Size (e.g. 512x512)")),e.required=!0},m(i,r){O(i,e,r),ee(e,s[2].IMAGE_SIZE),l||(a=se(e,"input",s[33]),l=!0)},p(i,r){r[0]&32&&t!==(t=i[5].t("Enter Image Size (e.g. 512x512)"))&&o(e,"placeholder",t),r[0]&4&&e.value!==i[2].IMAGE_SIZE&&ee(e,i[2].IMAGE_SIZE)},d(i){i&&c(e),l=!1,a()}}}function pc(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"placeholder",t=s[5].t("Enter Number of Steps (e.g. 50)")),e.required=!0},m(i,r){O(i,e,r),ee(e,s[2].IMAGE_STEPS),l||(a=se(e,"input",s[34]),l=!0)},p(i,r){r[0]&32&&t!==(t=i[5].t("Enter Number of Steps (e.g. 50)"))&&o(e,"placeholder",t),r[0]&4&&e.value!==i[2].IMAGE_STEPS&&ee(e,i[2].IMAGE_STEPS)},d(i){i&&c(e),l=!1,a()}}}function ci(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Kt(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function vc(s){let e,t,l,a,i,r=s[5].t("Save")+"",f,u,h,b,p,m,g=s[1]&&s[2]&&li(s),E=s[0]&&ci();return{c(){e=d("form"),t=d("div"),g&&g.c(),l=A(),a=d("div"),i=d("button"),f=L(r),u=A(),E&&E.c(),this.h()},l(w){e=_(w,"FORM",{class:!0});var k=v(e);t=_(k,"DIV",{class:!0});var I=v(t);g&&g.l(I),I.forEach(c),l=D(k),a=_(k,"DIV",{class:!0});var y=v(a);i=_(y,"BUTTON",{class:!0,type:!0});var T=v(i);f=U(T,r),u=D(T),E&&E.l(T),T.forEach(c),y.forEach(c),k.forEach(c),this.h()},h(){o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden pr-2"),o(i,"class",h="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),o(i,"type","submit"),i.disabled=s[0],o(a,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(w,k){O(w,e,k),n(e,t),g&&g.m(t,null),n(e,l),n(e,a),n(a,i),n(i,f),n(i,u),E&&E.m(i,null),b=!0,p||(m=se(e,"submit",rs(s[35])),p=!0)},p(w,k){w[1]&&w[2]?g?(g.p(w,k),k[0]&6&&K(g,1)):(g=li(w),g.c(),K(g,1),g.m(t,null)):g&&(Vt(),W(g,1,1,()=>{g=null}),St()),(!b||k[0]&32)&&r!==(r=w[5].t("Save")+"")&&H(f,r),w[0]?E||(E=ci(),E.c(),E.m(i,null)):E&&(E.d(1),E=null),(!b||k[0]&1&&h!==(h="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(w[0]?" cursor-not-allowed":"")))&&o(i,"class",h),(!b||k[0]&1)&&(i.disabled=w[0])},i(w){b||(K(g),b=!0)},o(w){W(g),b=!1},d(w){w&&c(e),g&&g.d(),E&&E.d(),p=!1,m()}}}function mc(s,e,t){let l,a;nl(s,ia,ne=>t(36,l=ne));const i=gs(),r=Il("i18n");nl(s,r,ne=>t(5,a=ne));let f=!1,u=null,h=null,b=null,p=["DPM++ 2M","DPM++ SDE","DPM++ 2M SDE","DPM++ 2M SDE Heun","DPM++ 2S a","DPM++ 3M SDE","Euler a","Euler","LMS","Heun","DPM2","DPM2 a","DPM fast","DPM adaptive","Restart","DDIM","DDIM CFG++","PLMS","UniPC"],m=["Automatic","Uniform","Karras","Exponential","Polyexponential","SGM Uniform","KL Optimal","Align Your Steps","Simple","Normal","DDIM","Beta"],g=[{type:"prompt",key:"text",node_ids:""},{type:"model",key:"ckpt_name",node_ids:""},{type:"width",key:"width",node_ids:""},{type:"height",key:"height",node_ids:""},{type:"steps",key:"steps",node_ids:""},{type:"seed",key:"seed",node_ids:""}];const E=async()=>{t(3,b=await Su(localStorage.token).catch(ne=>(Ye.error(`${ne}`),null)))},w=async()=>{const ne=await _n(localStorage.token,u).catch($e=>(Ye.error(`${$e}`),null)).catch($e=>(Ye.error(`${$e}`),null));ne&&t(1,u=ne),u.enabled&&(Us.set(await ra()),E())},k=ne=>{try{const $e=JSON.parse(ne);if($e&&typeof $e=="object")return!0}catch{}return!1},I=async()=>{var ne,$e;if(t(0,f=!0),(ne=u==null?void 0:u.comfyui)!=null&&ne.COMFYUI_WORKFLOW&&!k(u.comfyui.COMFYUI_WORKFLOW)){Ye.error("Invalid JSON format for ComfyUI Workflow."),t(0,f=!1);return}($e=u==null?void 0:u.comfyui)!=null&&$e.COMFYUI_WORKFLOW&&t(1,u.comfyui.COMFYUI_WORKFLOW_NODES=g.map(ge=>({type:ge.type,key:ge.key,node_ids:ge.node_ids.trim()===""?[]:ge.node_ids.split(",").map(Le=>Le.trim())})),u),await _n(localStorage.token,u).catch(ge=>(Ye.error(`${ge}`),t(0,f=!1),null)),await Nu(localStorage.token,h).catch(ge=>(Ye.error(`${ge}`),t(0,f=!1),null)),E(),i("save"),t(0,f=!1)};Hl(async()=>{if(l.role==="admin"){const ne=await $u(localStorage.token).catch(ge=>(Ye.error(`${ge}`),null));ne&&t(1,u=ne),u.enabled&&E(),u.comfyui.COMFYUI_WORKFLOW&&t(1,u.comfyui.COMFYUI_WORKFLOW=JSON.stringify(JSON.parse(u.comfyui.COMFYUI_WORKFLOW),null,2),u),t(4,g=g.map(ge=>{const Le=u.comfyui.COMFYUI_WORKFLOW_NODES.find(be=>be.type===ge.type)??ge;return console.log(Le),{type:Le.type,key:Le.key,node_ids:typeof Le.node_ids=="string"?Le.node_ids:Le.node_ids.join(",")}}));const $e=await Vu(localStorage.token).catch(ge=>(Ye.error(`${ge}`),null));$e&&t(2,h=$e)}});function y(ne){s.$$.not_equal(u.enabled,ne)&&(u.enabled=ne,t(1,u))}const T=ne=>{ne.detail&&(u.engine==="automatic1111"&&u.automatic1111.AUTOMATIC1111_BASE_URL===""?(Ye.error(a.t("AUTOMATIC1111 Base URL is required.")),t(1,u.enabled=!1,u)):u.engine==="comfyui"&&u.comfyui.COMFYUI_BASE_URL===""?(Ye.error(a.t("ComfyUI Base URL is required.")),t(1,u.enabled=!1,u)):u.engine==="openai"&&u.openai.OPENAI_API_KEY===""&&(Ye.error(a.t("OpenAI API Key is required.")),t(1,u.enabled=!1,u))),w()};function $(ne){s.$$.not_equal(u.prompt_generation,ne)&&(u.prompt_generation=ne,t(1,u))}function S(){u.engine=Sl(this),t(1,u)}const N=async()=>{w()};function V(){u.automatic1111.AUTOMATIC1111_BASE_URL=this.value,t(1,u)}const C=async()=>{await w(),await hn(localStorage.token).catch($e=>(Ye.error(`${$e}`),null))&&Ye.success(a.t("Server connection verified"))};function R(ne){s.$$.not_equal(u.automatic1111.AUTOMATIC1111_API_AUTH,ne)&&(u.automatic1111.AUTOMATIC1111_API_AUTH=ne,t(1,u))}function P(){u.automatic1111.AUTOMATIC1111_SAMPLER=this.value,t(1,u)}function Z(){u.automatic1111.AUTOMATIC1111_SCHEDULER=this.value,t(1,u)}function B(){u.automatic1111.AUTOMATIC1111_CFG_SCALE=this.value,t(1,u)}function M(){u.comfyui.COMFYUI_BASE_URL=this.value,t(1,u)}const j=async()=>{await w(),await hn(localStorage.token).catch($e=>(Ye.error(`${$e}`),null))&&Ye.success(a.t("Server connection verified"))};function G(ne){s.$$.not_equal(u.comfyui.COMFYUI_API_KEY,ne)&&(u.comfyui.COMFYUI_API_KEY=ne,t(1,u))}function Y(){u.comfyui.COMFYUI_WORKFLOW=this.value,t(1,u)}const z=ne=>{const $e=ne.target.files[0],ge=new FileReader;ge.onload=Le=>{t(1,u.comfyui.COMFYUI_WORKFLOW=Le.target.result,u),Le.target.value=null},ge.readAsText($e)},X=()=>{var ne;(ne=document.getElementById("upload-comfyui-workflow-input"))==null||ne.click()};function q(ne,$e){ne[$e].key=this.value,t(4,g)}function Q(ne,$e){ne[$e].node_ids=this.value,t(4,g)}function te(){u.openai.OPENAI_API_BASE_URL=this.value,t(1,u)}function x(ne){s.$$.not_equal(u.openai.OPENAI_API_KEY,ne)&&(u.openai.OPENAI_API_KEY=ne,t(1,u))}function F(){h.MODEL=this.value,t(2,h)}function J(){h.IMAGE_SIZE=this.value,t(2,h)}function ae(){h.IMAGE_STEPS=this.value,t(2,h)}return[f,u,h,b,g,a,r,p,m,w,I,y,T,$,S,N,V,C,R,P,Z,B,M,j,G,Y,z,X,q,Q,te,x,F,J,ae,async()=>{I()}]}class gc extends vl{constructor(e){super(),ml(this,e,mc,vc,pl,{},null,[-1,-1])}}function di(s,e,t){const l=s.slice();return l[33]=e[t],l[34]=e,l[35]=t,l}function _i(s,e,t){const l=s.slice();return l[36]=e[t],l[37]=e,l[38]=t,l}function hi(s,e,t){const l=s.slice();return l[39]=e[t],l}function pi(s,e,t){const l=s.slice();return l[39]=e[t],l}function vi(s){let e,t,l,a,i,r=s[3].t("Set Task Model")+"",f,u,h,b,p,m,g,E=s[3].t("Local Models")+"",w,k,I,y,T=s[3].t("Current Model")+"",$,S,N,V,C,R=s[3].t("External Models")+"",P,Z,B,M,j=s[3].t("Current Model")+"",G,Y,z,X,q,Q=s[3].t("Title Generation Prompt")+"",te,x,F,J,ae,ue,ne=s[3].t("Image Prompt Generation Prompt")+"",$e,ge,Le,be,He,Ve,ie,le,Ee=s[3].t("Autocomplete Generation")+"",ce,ke,Ie,ze,Qe,ve,ye,fe,me,Oe=s[3].t("Tags Generation")+"",Me,Ge,Re,Ze,Ke,Dt,re,we,pt,mt,gt=s[3].t("Retrieval Query Generation")+"",qe,Fe,ct,Rt,At,Te,We,bt=s[3].t("Web Search Query Generation")+"",ut,dt,rt,xe,Xe,oe,Pe,Tt=s[3].t("Query Generation Prompt")+"",Je,Ot,Et,ot,jt,el,Gt,It,Lt,Ct=s[3].t("Banners")+"",Ue,Ae,De,wt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',et,ft,Ft,Ut,Bt,kt,je,Be=s[3].t("Save")+"",tt,st,Nt,rl;h=new Yt({props:{content:s[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries"),$$slots:{default:[bc]},$$scope:{ctx:s}}});let tl=yt(s[4].filter(Ai)),$t=[];for(let Ne=0;Ne<tl.length;Ne+=1)$t[Ne]=mi(pi(s,tl,Ne));let ol=yt(s[4]),Qt=[];for(let Ne=0;Ne<ol.length;Ne+=1)Qt[Ne]=gi(hi(s,ol,Ne));F=new Yt({props:{content:s[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[Ec]},$$scope:{ctx:s}}}),Le=new Yt({props:{content:s[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[wc]},$$scope:{ctx:s}}}),Ie=new Yt({props:{content:s[3].t("Enable autocomplete generation for chat messages"),$$slots:{default:[kc]},$$scope:{ctx:s}}});let Zt=s[0].ENABLE_AUTOCOMPLETE_GENERATION&&bi(s);function yl(Ne){s[15](Ne)}let fl={};s[0].ENABLE_TAGS_GENERATION!==void 0&&(fl.state=s[0].ENABLE_TAGS_GENERATION),Re=new wl({props:fl}),it.push(()=>ht(Re,"state",yl));let Wt=s[0].ENABLE_TAGS_GENERATION&&Ei(s);function qt(Ne){s[17](Ne)}let hl={};s[0].ENABLE_RETRIEVAL_QUERY_GENERATION!==void 0&&(hl.state=s[0].ENABLE_RETRIEVAL_QUERY_GENERATION),ct=new wl({props:hl}),it.push(()=>ht(ct,"state",qt));function gl(Ne){s[18](Ne)}let kl={};s[0].ENABLE_SEARCH_QUERY_GENERATION!==void 0&&(kl.state=s[0].ENABLE_SEARCH_QUERY_GENERATION),rt=new wl({props:kl}),it.push(()=>ht(rt,"state",gl)),Et=new Yt({props:{content:s[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[Tc]},$$scope:{ctx:s}}});let bl=yt(s[2]),Ht=[];for(let Ne=0;Ne<bl.length;Ne+=1)Ht[Ne]=ki(_i(s,bl,Ne));const El=Ne=>W(Ht[Ne],1,1,()=>{Ht[Ne]=null});let Pt=s[5].role==="admin"&&Ii(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),i=d("div"),f=L(r),u=A(),de(h.$$.fragment),b=A(),p=d("div"),m=d("div"),g=d("div"),w=L(E),k=A(),I=d("select"),y=d("option"),$=L(T);for(let Ne=0;Ne<$t.length;Ne+=1)$t[Ne].c();N=A(),V=d("div"),C=d("div"),P=L(R),Z=A(),B=d("select"),M=d("option"),G=L(j);for(let Ne=0;Ne<Qt.length;Ne+=1)Qt[Ne].c();z=A(),X=d("div"),q=d("div"),te=L(Q),x=A(),de(F.$$.fragment),J=A(),ae=d("div"),ue=d("div"),$e=L(ne),ge=A(),de(Le.$$.fragment),be=A(),He=d("hr"),Ve=A(),ie=d("div"),le=d("div"),ce=L(Ee),ke=A(),de(Ie.$$.fragment),ze=A(),Zt&&Zt.c(),Qe=A(),ve=d("hr"),ye=A(),fe=d("div"),me=d("div"),Me=L(Oe),Ge=A(),de(Re.$$.fragment),Ke=A(),Wt&&Wt.c(),Dt=A(),re=d("hr"),we=A(),pt=d("div"),mt=d("div"),qe=L(gt),Fe=A(),de(ct.$$.fragment),At=A(),Te=d("div"),We=d("div"),ut=L(bt),dt=A(),de(rt.$$.fragment),Xe=A(),oe=d("div"),Pe=d("div"),Je=L(Tt),Ot=A(),de(Et.$$.fragment),ot=A(),jt=d("hr"),el=A(),Gt=d("div"),It=d("div"),Lt=d("div"),Ue=L(Ct),Ae=A(),De=d("button"),De.innerHTML=wt,et=A(),ft=d("div");for(let Ne=0;Ne<Ht.length;Ne+=1)Ht[Ne].c();Ut=A(),Pt&&Pt.c(),Bt=A(),kt=d("div"),je=d("button"),tt=L(Be),this.h()},l(Ne){e=_(Ne,"FORM",{class:!0});var lt=v(e);t=_(lt,"DIV",{class:!0});var zt=v(t);l=_(zt,"DIV",{});var Mt=v(l);a=_(Mt,"DIV",{class:!0});var dl=v(a);i=_(dl,"DIV",{class:!0});var Tl=v(i);f=U(Tl,r),Tl.forEach(c),u=D(dl),_e(h.$$.fragment,dl),dl.forEach(c),b=D(Mt),p=_(Mt,"DIV",{class:!0});var Cl=v(p);m=_(Cl,"DIV",{class:!0});var Ml=v(m);g=_(Ml,"DIV",{class:!0});var Ll=v(g);w=U(Ll,E),Ll.forEach(c),k=D(Ml),I=_(Ml,"SELECT",{class:!0,placeholder:!0});var at=v(I);y=_(at,"OPTION",{});var Ce=v(y);$=U(Ce,T),Ce.forEach(c);for(let _l=0;_l<$t.length;_l+=1)$t[_l].l(at);at.forEach(c),Ml.forEach(c),N=D(Cl),V=_(Cl,"DIV",{class:!0});var il=v(V);C=_(il,"DIV",{class:!0});var Al=v(C);P=U(Al,R),Al.forEach(c),Z=D(il),B=_(il,"SELECT",{class:!0,placeholder:!0});var Ol=v(B);M=_(Ol,"OPTION",{});var Ul=v(M);G=U(Ul,j),Ul.forEach(c);for(let _l=0;_l<Qt.length;_l+=1)Qt[_l].l(Ol);Ol.forEach(c),il.forEach(c),Cl.forEach(c),z=D(Mt),X=_(Mt,"DIV",{class:!0});var jl=v(X);q=_(jl,"DIV",{class:!0});var ss=v(q);te=U(ss,Q),ss.forEach(c),x=D(jl),_e(F.$$.fragment,jl),jl.forEach(c),J=D(Mt),ae=_(Mt,"DIV",{class:!0});var Gl=v(ae);ue=_(Gl,"DIV",{class:!0});var bs=v(ue);$e=U(bs,ne),bs.forEach(c),ge=D(Gl),_e(Le.$$.fragment,Gl),Gl.forEach(c),be=D(Mt),He=_(Mt,"HR",{class:!0}),Ve=D(Mt),ie=_(Mt,"DIV",{class:!0});var Kl=v(ie);le=_(Kl,"DIV",{class:!0});var xl=v(le);ce=U(xl,Ee),xl.forEach(c),ke=D(Kl),_e(Ie.$$.fragment,Kl),Kl.forEach(c),ze=D(Mt),Zt&&Zt.l(Mt),Qe=D(Mt),ve=_(Mt,"HR",{class:!0}),ye=D(Mt),fe=_(Mt,"DIV",{class:!0});var Zl=v(fe);me=_(Zl,"DIV",{class:!0});var ns=v(me);Me=U(ns,Oe),ns.forEach(c),Ge=D(Zl),_e(Re.$$.fragment,Zl),Zl.forEach(c),Ke=D(Mt),Wt&&Wt.l(Mt),Dt=D(Mt),re=_(Mt,"HR",{class:!0}),we=D(Mt),pt=_(Mt,"DIV",{class:!0});var es=v(pt);mt=_(es,"DIV",{class:!0});var Es=v(mt);qe=U(Es,gt),Es.forEach(c),Fe=D(es),_e(ct.$$.fragment,es),es.forEach(c),At=D(Mt),Te=_(Mt,"DIV",{class:!0});var ql=v(Te);We=_(ql,"DIV",{class:!0});var Pl=v(We);ut=U(Pl,bt),Pl.forEach(c),dt=D(ql),_e(rt.$$.fragment,ql),ql.forEach(c),Xe=D(Mt),oe=_(Mt,"DIV",{class:!0});var ts=v(oe);Pe=_(ts,"DIV",{class:!0});var ws=v(Pe);Je=U(ws,Tt),ws.forEach(c),Ot=D(ts),_e(Et.$$.fragment,ts),ts.forEach(c),Mt.forEach(c),ot=D(zt),jt=_(zt,"HR",{class:!0}),el=D(zt),Gt=_(zt,"DIV",{class:!0});var Vl=v(Gt);It=_(Vl,"DIV",{class:!0});var ls=v(It);Lt=_(ls,"DIV",{class:!0});var is=v(Lt);Ue=U(is,Ct),is.forEach(c),Ae=D(ls),De=_(ls,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Kt(De)!=="svelte-xbzktt"&&(De.innerHTML=wt),ls.forEach(c),et=D(Vl),ft=_(Vl,"DIV",{class:!0});var hs=v(ft);for(let _l=0;_l<Ht.length;_l+=1)Ht[_l].l(hs);hs.forEach(c),Vl.forEach(c),Ut=D(zt),Pt&&Pt.l(zt),zt.forEach(c),Bt=D(lt),kt=_(lt,"DIV",{class:!0});var ks=v(kt);je=_(ks,"BUTTON",{class:!0,type:!0});var Wl=v(je);tt=U(Wl,Be),Wl.forEach(c),ks.forEach(c),lt.forEach(c),this.h()},h(){o(i,"class","mr-1"),o(a,"class","mb-2.5 text-sm font-medium flex items-center"),o(g,"class","text-xs mb-1"),y.__value="",ee(y,y.__value),y.selected=!0,o(I,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(I,"placeholder",S=s[3].t("Select a model")),s[0].TASK_MODEL===void 0&&Nl(()=>s[9].call(I)),o(m,"class","flex-1"),o(C,"class","text-xs mb-1"),M.__value="",ee(M,M.__value),M.selected=!0,o(B,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(B,"placeholder",Y=s[3].t("Select a model")),s[0].TASK_MODEL_EXTERNAL===void 0&&Nl(()=>s[10].call(B)),o(V,"class","flex-1"),o(p,"class","flex w-full gap-2"),o(q,"class","mb-2.5 text-xs font-medium"),o(X,"class","mt-3"),o(ue,"class","mb-2.5 text-xs font-medium"),o(ae,"class","mt-3"),o(He,"class","border-gray-50 dark:border-gray-850 my-3"),o(le,"class","self-center text-xs font-medium"),o(ie,"class","my-3 flex w-full items-center justify-between"),o(ve,"class","border-gray-50 dark:border-gray-850 my-3"),o(me,"class","self-center text-xs font-medium"),o(fe,"class","my-3 flex w-full items-center justify-between"),o(re,"class","border-gray-50 dark:border-gray-850 my-3"),o(mt,"class","self-center text-xs font-medium"),o(pt,"class","my-3 flex w-full items-center justify-between"),o(We,"class","self-center text-xs font-medium"),o(Te,"class","my-3 flex w-full items-center justify-between"),o(Pe,"class","mb-2.5 text-xs font-medium"),o(oe,"class",""),o(jt,"class","border-gray-50 dark:border-gray-850 my-3"),o(Lt,"class","self-center text-sm font-semibold"),o(De,"class","p-1 px-3 text-xs flex rounded transition"),o(De,"type","button"),o(It,"class","flex w-full justify-between"),o(ft,"class","flex flex-col space-y-1"),o(Gt,"class",Ft="space-y-3 "+(s[2].length>0?" mb-3":"")),o(t,"class","overflow-y-scroll scrollbar-hidden h-full pr-1.5"),o(je,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(je,"type","submit"),o(kt,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Ne,lt){O(Ne,e,lt),n(e,t),n(t,l),n(l,a),n(a,i),n(i,f),n(a,u),he(h,a,null),n(l,b),n(l,p),n(p,m),n(m,g),n(g,w),n(m,k),n(m,I),n(I,y),n(y,$);for(let zt=0;zt<$t.length;zt+=1)$t[zt]&&$t[zt].m(I,null);Jt(I,s[0].TASK_MODEL,!0),n(p,N),n(p,V),n(V,C),n(C,P),n(V,Z),n(V,B),n(B,M),n(M,G);for(let zt=0;zt<Qt.length;zt+=1)Qt[zt]&&Qt[zt].m(B,null);Jt(B,s[0].TASK_MODEL_EXTERNAL,!0),n(l,z),n(l,X),n(X,q),n(q,te),n(X,x),he(F,X,null),n(l,J),n(l,ae),n(ae,ue),n(ue,$e),n(ae,ge),he(Le,ae,null),n(l,be),n(l,He),n(l,Ve),n(l,ie),n(ie,le),n(le,ce),n(ie,ke),he(Ie,ie,null),n(l,ze),Zt&&Zt.m(l,null),n(l,Qe),n(l,ve),n(l,ye),n(l,fe),n(fe,me),n(me,Me),n(fe,Ge),he(Re,fe,null),n(l,Ke),Wt&&Wt.m(l,null),n(l,Dt),n(l,re),n(l,we),n(l,pt),n(pt,mt),n(mt,qe),n(pt,Fe),he(ct,pt,null),n(l,At),n(l,Te),n(Te,We),n(We,ut),n(Te,dt),he(rt,Te,null),n(l,Xe),n(l,oe),n(oe,Pe),n(Pe,Je),n(oe,Ot),he(Et,oe,null),n(t,ot),n(t,jt),n(t,el),n(t,Gt),n(Gt,It),n(It,Lt),n(Lt,Ue),n(It,Ae),n(It,De),n(Gt,et),n(Gt,ft);for(let zt=0;zt<Ht.length;zt+=1)Ht[zt]&&Ht[zt].m(ft,null);n(t,Ut),Pt&&Pt.m(t,null),n(e,Bt),n(e,kt),n(kt,je),n(je,tt),st=!0,Nt||(rl=[se(I,"change",s[9]),se(B,"change",s[10]),se(De,"click",s[20]),se(e,"submit",rs(s[30]))],Nt=!0)},p(Ne,lt){(!st||lt[0]&8)&&r!==(r=Ne[3].t("Set Task Model")+"")&&H(f,r);const zt={};if(lt[0]&8&&(zt.content=Ne[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries")),lt[1]&8192&&(zt.$$scope={dirty:lt,ctx:Ne}),h.$set(zt),(!st||lt[0]&8)&&E!==(E=Ne[3].t("Local Models")+"")&&H(w,E),(!st||lt[0]&8)&&T!==(T=Ne[3].t("Current Model")+"")&&H($,T),lt[0]&16){tl=yt(Ne[4].filter(Ai));let Ce;for(Ce=0;Ce<tl.length;Ce+=1){const il=pi(Ne,tl,Ce);$t[Ce]?$t[Ce].p(il,lt):($t[Ce]=mi(il),$t[Ce].c(),$t[Ce].m(I,null))}for(;Ce<$t.length;Ce+=1)$t[Ce].d(1);$t.length=tl.length}if((!st||lt[0]&8&&S!==(S=Ne[3].t("Select a model")))&&o(I,"placeholder",S),lt[0]&17&&Jt(I,Ne[0].TASK_MODEL),(!st||lt[0]&8)&&R!==(R=Ne[3].t("External Models")+"")&&H(P,R),(!st||lt[0]&8)&&j!==(j=Ne[3].t("Current Model")+"")&&H(G,j),lt[0]&16){ol=yt(Ne[4]);let Ce;for(Ce=0;Ce<ol.length;Ce+=1){const il=hi(Ne,ol,Ce);Qt[Ce]?Qt[Ce].p(il,lt):(Qt[Ce]=gi(il),Qt[Ce].c(),Qt[Ce].m(B,null))}for(;Ce<Qt.length;Ce+=1)Qt[Ce].d(1);Qt.length=ol.length}(!st||lt[0]&8&&Y!==(Y=Ne[3].t("Select a model")))&&o(B,"placeholder",Y),lt[0]&17&&Jt(B,Ne[0].TASK_MODEL_EXTERNAL),(!st||lt[0]&8)&&Q!==(Q=Ne[3].t("Title Generation Prompt")+"")&&H(te,Q);const Mt={};lt[0]&8&&(Mt.content=Ne[3].t("Leave empty to use the default prompt, or enter a custom prompt")),lt[0]&9|lt[1]&8192&&(Mt.$$scope={dirty:lt,ctx:Ne}),F.$set(Mt),(!st||lt[0]&8)&&ne!==(ne=Ne[3].t("Image Prompt Generation Prompt")+"")&&H($e,ne);const dl={};lt[0]&8&&(dl.content=Ne[3].t("Leave empty to use the default prompt, or enter a custom prompt")),lt[0]&9|lt[1]&8192&&(dl.$$scope={dirty:lt,ctx:Ne}),Le.$set(dl),(!st||lt[0]&8)&&Ee!==(Ee=Ne[3].t("Autocomplete Generation")+"")&&H(ce,Ee);const Tl={};lt[0]&8&&(Tl.content=Ne[3].t("Enable autocomplete generation for chat messages")),lt[0]&1|lt[1]&8192&&(Tl.$$scope={dirty:lt,ctx:Ne}),Ie.$set(Tl),Ne[0].ENABLE_AUTOCOMPLETE_GENERATION?Zt?(Zt.p(Ne,lt),lt[0]&1&&K(Zt,1)):(Zt=bi(Ne),Zt.c(),K(Zt,1),Zt.m(l,Qe)):Zt&&(Vt(),W(Zt,1,1,()=>{Zt=null}),St()),(!st||lt[0]&8)&&Oe!==(Oe=Ne[3].t("Tags Generation")+"")&&H(Me,Oe);const Cl={};!Ze&&lt[0]&1&&(Ze=!0,Cl.state=Ne[0].ENABLE_TAGS_GENERATION,_t(()=>Ze=!1)),Re.$set(Cl),Ne[0].ENABLE_TAGS_GENERATION?Wt?(Wt.p(Ne,lt),lt[0]&1&&K(Wt,1)):(Wt=Ei(Ne),Wt.c(),K(Wt,1),Wt.m(l,Dt)):Wt&&(Vt(),W(Wt,1,1,()=>{Wt=null}),St()),(!st||lt[0]&8)&&gt!==(gt=Ne[3].t("Retrieval Query Generation")+"")&&H(qe,gt);const Ml={};!Rt&&lt[0]&1&&(Rt=!0,Ml.state=Ne[0].ENABLE_RETRIEVAL_QUERY_GENERATION,_t(()=>Rt=!1)),ct.$set(Ml),(!st||lt[0]&8)&&bt!==(bt=Ne[3].t("Web Search Query Generation")+"")&&H(ut,bt);const Ll={};!xe&&lt[0]&1&&(xe=!0,Ll.state=Ne[0].ENABLE_SEARCH_QUERY_GENERATION,_t(()=>xe=!1)),rt.$set(Ll),(!st||lt[0]&8)&&Tt!==(Tt=Ne[3].t("Query Generation Prompt")+"")&&H(Je,Tt);const at={};if(lt[0]&8&&(at.content=Ne[3].t("Leave empty to use the default prompt, or enter a custom prompt")),lt[0]&9|lt[1]&8192&&(at.$$scope={dirty:lt,ctx:Ne}),Et.$set(at),(!st||lt[0]&8)&&Ct!==(Ct=Ne[3].t("Banners")+"")&&H(Ue,Ct),lt[0]&12){bl=yt(Ne[2]);let Ce;for(Ce=0;Ce<bl.length;Ce+=1){const il=_i(Ne,bl,Ce);Ht[Ce]?(Ht[Ce].p(il,lt),K(Ht[Ce],1)):(Ht[Ce]=ki(il),Ht[Ce].c(),K(Ht[Ce],1),Ht[Ce].m(ft,null))}for(Vt(),Ce=bl.length;Ce<Ht.length;Ce+=1)El(Ce);St()}(!st||lt[0]&4&&Ft!==(Ft="space-y-3 "+(Ne[2].length>0?" mb-3":"")))&&o(Gt,"class",Ft),Ne[5].role==="admin"?Pt?Pt.p(Ne,lt):(Pt=Ii(Ne),Pt.c(),Pt.m(t,null)):Pt&&(Pt.d(1),Pt=null),(!st||lt[0]&8)&&Be!==(Be=Ne[3].t("Save")+"")&&H(tt,Be)},i(Ne){if(!st){K(h.$$.fragment,Ne),K(F.$$.fragment,Ne),K(Le.$$.fragment,Ne),K(Ie.$$.fragment,Ne),K(Zt),K(Re.$$.fragment,Ne),K(Wt),K(ct.$$.fragment,Ne),K(rt.$$.fragment,Ne),K(Et.$$.fragment,Ne);for(let lt=0;lt<bl.length;lt+=1)K(Ht[lt]);st=!0}},o(Ne){W(h.$$.fragment,Ne),W(F.$$.fragment,Ne),W(Le.$$.fragment,Ne),W(Ie.$$.fragment,Ne),W(Zt),W(Re.$$.fragment,Ne),W(Wt),W(ct.$$.fragment,Ne),W(rt.$$.fragment,Ne),W(Et.$$.fragment,Ne),Ht=Ht.filter(Boolean);for(let lt=0;lt<Ht.length;lt+=1)W(Ht[lt]);st=!1},d(Ne){Ne&&c(e),pe(h),cl($t,Ne),cl(Qt,Ne),pe(F),pe(Le),pe(Ie),Zt&&Zt.d(),pe(Re),Wt&&Wt.d(),pe(ct),pe(rt),pe(Et),cl(Ht,Ne),Pt&&Pt.d(),Nt=!1,ul(rl)}}}function bc(s){let e,t;return{c(){e=sl("svg"),t=sl("path"),this.h()},l(l){e=al(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=al(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(c),a.forEach(c),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width","1.5"),o(e,"stroke","currentColor"),o(e,"class","size-3.5")},m(l,a){O(l,e,a),n(e,t)},p:vt,d(l){l&&c(e)}}}function mi(s){let e,t=s[39].name+"",l,a,i;return{c(){e=d("option"),l=L(t),a=A(),this.h()},l(r){e=_(r,"OPTION",{class:!0});var f=v(e);l=U(f,t),a=D(f),f.forEach(c),this.h()},h(){e.__value=i=s[39].id,ee(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,f){O(r,e,f),n(e,l),n(e,a)},p(r,f){f[0]&16&&t!==(t=r[39].name+"")&&H(l,t),f[0]&16&&i!==(i=r[39].id)&&(e.__value=i,ee(e,e.__value))},d(r){r&&c(e)}}}function gi(s){let e,t=s[39].name+"",l,a,i;return{c(){e=d("option"),l=L(t),a=A(),this.h()},l(r){e=_(r,"OPTION",{class:!0});var f=v(e);l=U(f,t),a=D(f),f.forEach(c),this.h()},h(){e.__value=i=s[39].id,ee(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,f){O(r,e,f),n(e,l),n(e,a)},p(r,f){f[0]&16&&t!==(t=r[39].name+"")&&H(l,t),f[0]&16&&i!==(i=r[39].id)&&(e.__value=i,ee(e,e.__value))},d(r){r&&c(e)}}}function Ec(s){let e,t,l;function a(r){s[11](r)}let i={placeholder:s[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[0].TITLE_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=s[0].TITLE_GENERATION_PROMPT_TEMPLATE),e=new ba({props:i}),it.push(()=>ht(e,"value",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};f[0]&8&&(u.placeholder=r[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&f[0]&1&&(t=!0,u.value=r[0].TITLE_GENERATION_PROMPT_TEMPLATE,_t(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){W(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function wc(s){let e,t,l;function a(r){s[12](r)}let i={placeholder:s[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[0].IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=s[0].IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE),e=new ba({props:i}),it.push(()=>ht(e,"value",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};f[0]&8&&(u.placeholder=r[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&f[0]&1&&(t=!0,u.value=r[0].IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE,_t(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){W(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function kc(s){let e,t,l;function a(r){s[13](r)}let i={};return s[0].ENABLE_AUTOCOMPLETE_GENERATION!==void 0&&(i.state=s[0].ENABLE_AUTOCOMPLETE_GENERATION),e=new wl({props:i}),it.push(()=>ht(e,"state",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};!t&&f[0]&1&&(t=!0,u.state=r[0].ENABLE_AUTOCOMPLETE_GENERATION,_t(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){W(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function bi(s){let e,t,l=s[3].t("Autocomplete Generation Input Max Length")+"",a,i,r,f;return r=new Yt({props:{content:s[3].t("Character limit for autocomplete generation input"),placement:"top-start",$$slots:{default:[Ic]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(u){e=_(u,"DIV",{class:!0});var h=v(e);t=_(h,"DIV",{class:!0});var b=v(t);a=U(b,l),b.forEach(c),i=D(h),_e(r.$$.fragment,h),h.forEach(c),this.h()},h(){o(t,"class","mb-2.5 text-xs font-medium"),o(e,"class","mt-3")},m(u,h){O(u,e,h),n(e,t),n(t,a),n(e,i),he(r,e,null),f=!0},p(u,h){(!f||h[0]&8)&&l!==(l=u[3].t("Autocomplete Generation Input Max Length")+"")&&H(a,l);const b={};h[0]&8&&(b.content=u[3].t("Character limit for autocomplete generation input")),h[0]&9|h[1]&8192&&(b.$$scope={dirty:h,ctx:u}),r.$set(b)},i(u){f||(K(r.$$.fragment,u),f=!0)},o(u){W(r.$$.fragment,u),f=!1},d(u){u&&c(e),pe(r)}}}function Ic(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full outline-none bg-transparent"),o(e,"placeholder",t=s[3].t("-1 for no limit, or a positive integer for a specific limit"))},m(i,r){O(i,e,r),ee(e,s[0].AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH),l||(a=se(e,"input",s[14]),l=!0)},p(i,r){r[0]&8&&t!==(t=i[3].t("-1 for no limit, or a positive integer for a specific limit"))&&o(e,"placeholder",t),r[0]&17&&e.value!==i[0].AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH&&ee(e,i[0].AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH)},d(i){i&&c(e),l=!1,a()}}}function Ei(s){let e,t,l=s[3].t("Tags Generation Prompt")+"",a,i,r,f;return r=new Yt({props:{content:s[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[yc]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(u){e=_(u,"DIV",{class:!0});var h=v(e);t=_(h,"DIV",{class:!0});var b=v(t);a=U(b,l),b.forEach(c),i=D(h),_e(r.$$.fragment,h),h.forEach(c),this.h()},h(){o(t,"class","mb-2.5 text-xs font-medium"),o(e,"class","mt-3")},m(u,h){O(u,e,h),n(e,t),n(t,a),n(e,i),he(r,e,null),f=!0},p(u,h){(!f||h[0]&8)&&l!==(l=u[3].t("Tags Generation Prompt")+"")&&H(a,l);const b={};h[0]&8&&(b.content=u[3].t("Leave empty to use the default prompt, or enter a custom prompt")),h[0]&9|h[1]&8192&&(b.$$scope={dirty:h,ctx:u}),r.$set(b)},i(u){f||(K(r.$$.fragment,u),f=!0)},o(u){W(r.$$.fragment,u),f=!1},d(u){u&&c(e),pe(r)}}}function yc(s){let e,t,l;function a(r){s[16](r)}let i={placeholder:s[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[0].TAGS_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=s[0].TAGS_GENERATION_PROMPT_TEMPLATE),e=new ba({props:i}),it.push(()=>ht(e,"value",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};f[0]&8&&(u.placeholder=r[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&f[0]&1&&(t=!0,u.value=r[0].TAGS_GENERATION_PROMPT_TEMPLATE,_t(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){W(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function Tc(s){let e,t,l;function a(r){s[19](r)}let i={placeholder:s[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[0].QUERY_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=s[0].QUERY_GENERATION_PROMPT_TEMPLATE),e=new ba({props:i}),it.push(()=>ht(e,"value",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};f[0]&8&&(u.placeholder=r[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&f[0]&1&&(t=!0,u.value=r[0].QUERY_GENERATION_PROMPT_TEMPLATE,_t(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){W(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function wi(s){let e,t=s[3].t("Type")+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=_(a,"OPTION",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){e.__value="",ee(e,e.__value),e.selected=!0,e.disabled=!0,o(e,"class","text-gray-900")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8&&t!==(t=a[3].t("Type")+"")&&H(l,t)},d(a){a&&c(e)}}}function Ac(s){let e,t,l;function a(r){s[23](r,s[36])}let i={};return s[36].dismissible!==void 0&&(i.state=s[36].dismissible),e=new wl({props:i}),it.push(()=>ht(e,"state",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){s=r;const u={};!t&&f[0]&4&&(t=!0,u.state=s[36].dismissible,_t(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){W(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function ki(s){let e,t,l,a,i=s[3].t("Info")+"",r,f,u=s[3].t("Warning")+"",h,b,p=s[3].t("Error")+"",m,g,E=s[3].t("Success")+"",w,k,I,y,T,$,S,N,V,C='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',R,P,Z,B,M=s[36].type==""&&wi(s);function j(){s[21].call(l,s[37],s[38])}function G(){s[22].call(I,s[37],s[38])}S=new Yt({props:{content:s[3].t("Dismissible"),className:"flex h-fit items-center",$$slots:{default:[Ac]},$$scope:{ctx:s}}});function Y(){return s[24](s[38])}return{c(){e=d("div"),t=d("div"),l=d("select"),M&&M.c(),a=d("option"),r=L(i),f=d("option"),h=L(u),b=d("option"),m=L(p),g=d("option"),w=L(E),k=A(),I=d("input"),T=A(),$=d("div"),de(S.$$.fragment),N=A(),V=d("button"),V.innerHTML=C,R=A(),this.h()},l(z){e=_(z,"DIV",{class:!0});var X=v(e);t=_(X,"DIV",{class:!0});var q=v(t);l=_(q,"SELECT",{class:!0});var Q=v(l);M&&M.l(Q),a=_(Q,"OPTION",{class:!0});var te=v(a);r=U(te,i),te.forEach(c),f=_(Q,"OPTION",{class:!0});var x=v(f);h=U(x,u),x.forEach(c),b=_(Q,"OPTION",{class:!0});var F=v(b);m=U(F,p),F.forEach(c),g=_(Q,"OPTION",{class:!0});var J=v(g);w=U(J,E),J.forEach(c),Q.forEach(c),k=D(q),I=_(q,"INPUT",{class:!0,placeholder:!0}),T=D(q),$=_(q,"DIV",{class:!0});var ae=v($);_e(S.$$.fragment,ae),ae.forEach(c),q.forEach(c),N=D(X),V=_(X,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Kt(V)!=="svelte-12xtyvi"&&(V.innerHTML=C),R=D(X),X.forEach(c),this.h()},h(){a.__value="info",ee(a,a.__value),o(a,"class","text-gray-900"),f.__value="warning",ee(f,f.__value),o(f,"class","text-gray-900"),b.__value="error",ee(b,b.__value),o(b,"class","text-gray-900"),g.__value="success",ee(g,g.__value),o(g,"class","text-gray-900"),o(l,"class","w-fit capitalize rounded-xl py-2 px-4 text-xs bg-transparent outline-none"),l.required=!0,s[36].type===void 0&&Nl(j),o(I,"class","pr-5 py-1.5 text-xs w-full bg-transparent outline-none"),o(I,"placeholder",y=s[3].t("Content")),o($,"class","relative top-1.5 -left-2"),o(t,"class","flex flex-row flex-1 border rounded-xl dark:border-gray-800"),o(V,"class","px-2"),o(V,"type","button"),o(e,"class","flex justify-between")},m(z,X){O(z,e,X),n(e,t),n(t,l),M&&M.m(l,null),n(l,a),n(a,r),n(l,f),n(f,h),n(l,b),n(b,m),n(l,g),n(g,w),Jt(l,s[36].type,!0),n(t,k),n(t,I),ee(I,s[36].content),n(t,T),n(t,$),he(S,$,null),n(e,N),n(e,V),n(e,R),P=!0,Z||(B=[se(l,"change",j),se(I,"input",G),se(V,"click",Y)],Z=!0)},p(z,X){s=z,s[36].type==""?M?M.p(s,X):(M=wi(s),M.c(),M.m(l,a)):M&&(M.d(1),M=null),(!P||X[0]&8)&&i!==(i=s[3].t("Info")+"")&&H(r,i),(!P||X[0]&8)&&u!==(u=s[3].t("Warning")+"")&&H(h,u),(!P||X[0]&8)&&p!==(p=s[3].t("Error")+"")&&H(m,p),(!P||X[0]&8)&&E!==(E=s[3].t("Success")+"")&&H(w,E),X[0]&4&&Jt(l,s[36].type),(!P||X[0]&8&&y!==(y=s[3].t("Content")))&&o(I,"placeholder",y),X[0]&4&&I.value!==s[36].content&&ee(I,s[36].content);const q={};X[0]&8&&(q.content=s[3].t("Dismissible")),X[0]&4|X[1]&8192&&(q.$$scope={dirty:X,ctx:s}),S.$set(q)},i(z){P||(K(S.$$.fragment,z),P=!0)},o(z){W(S.$$.fragment,z),P=!1},d(z){z&&c(e),M&&M.d(),pe(S),Z=!1,ul(B)}}}function Ii(s){let e,t,l,a=s[3].t("Default Prompt Suggestions")+"",i,r,f,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',h,b,p,m,g,E=yt(s[1]),w=[];for(let I=0;I<E.length;I+=1)w[I]=yi(di(s,E,I));let k=s[1].length>0&&Ti(s);return{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("button"),f.innerHTML=u,h=A(),b=d("div");for(let I=0;I<w.length;I+=1)w[I].c();p=A(),k&&k.c(),this.h()},l(I){e=_(I,"DIV",{class:!0});var y=v(e);t=_(y,"DIV",{class:!0});var T=v(t);l=_(T,"DIV",{class:!0});var $=v(l);i=U($,a),$.forEach(c),r=D(T),f=_(T,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Kt(f)!=="svelte-uaj8j0"&&(f.innerHTML=u),T.forEach(c),h=D(y),b=_(y,"DIV",{class:!0});var S=v(b);for(let N=0;N<w.length;N+=1)w[N].l(S);S.forEach(c),p=D(y),k&&k.l(y),y.forEach(c),this.h()},h(){o(l,"class","self-center text-sm font-semibold"),o(f,"class","p-1 px-3 text-xs flex rounded transition"),o(f,"type","button"),o(t,"class","flex w-full justify-between mb-2"),o(b,"class","grid lg:grid-cols-2 flex-col gap-1.5"),o(e,"class","space-y-3")},m(I,y){O(I,e,y),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),n(e,h),n(e,b);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(b,null);n(e,p),k&&k.m(e,null),m||(g=se(f,"click",s[25]),m=!0)},p(I,y){if(y[0]&8&&a!==(a=I[3].t("Default Prompt Suggestions")+"")&&H(i,a),y[0]&10){E=yt(I[1]);let T;for(T=0;T<E.length;T+=1){const $=di(I,E,T);w[T]?w[T].p($,y):(w[T]=yi($),w[T].c(),w[T].m(b,null))}for(;T<w.length;T+=1)w[T].d(1);w.length=E.length}I[1].length>0?k?k.p(I,y):(k=Ti(I),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},d(I){I&&c(e),cl(w,I),k&&k.d(),m=!1,g()}}}function yi(s){let e,t,l,a,i,r,f,u,h,b,p,m,g,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',w,k,I;function y(){s[26].call(a,s[34],s[35])}function T(){s[27].call(f,s[34],s[35])}function $(){s[28].call(b,s[34],s[35])}function S(){return s[29](s[35])}return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("input"),r=A(),f=d("input"),h=A(),b=d("textarea"),m=A(),g=d("button"),g.innerHTML=E,w=A(),this.h()},l(N){e=_(N,"DIV",{class:!0});var V=v(e);t=_(V,"DIV",{class:!0});var C=v(t);l=_(C,"DIV",{class:!0});var R=v(l);a=_(R,"INPUT",{class:!0,placeholder:!0}),r=D(R),f=_(R,"INPUT",{class:!0,placeholder:!0}),R.forEach(c),h=D(C),b=_(C,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),v(b).forEach(c),C.forEach(c),m=D(V),g=_(V,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Kt(g)!=="svelte-1jtno9f"&&(g.innerHTML=E),w=D(V),V.forEach(c),this.h()},h(){o(a,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),o(a,"placeholder",i=s[3].t("Title (e.g. Tell me a fun fact)")),o(f,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),o(f,"placeholder",u=s[3].t("Subtitle (e.g. about the Roman Empire)")),o(l,"class","flex border-b border-gray-100 dark:border-gray-800 w-full"),o(b,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800 resize-none"),o(b,"placeholder",p=s[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)")),o(b,"rows","3"),o(t,"class","flex flex-col flex-1 pl-1"),o(g,"class","px-3"),o(g,"type","button"),o(e,"class","flex border border-gray-100 dark:border-none dark:bg-gray-850 rounded-xl py-1.5")},m(N,V){O(N,e,V),n(e,t),n(t,l),n(l,a),ee(a,s[33].title[0]),n(l,r),n(l,f),ee(f,s[33].title[1]),n(t,h),n(t,b),ee(b,s[33].content),n(e,m),n(e,g),n(e,w),k||(I=[se(a,"input",y),se(f,"input",T),se(b,"input",$),se(g,"click",S)],k=!0)},p(N,V){s=N,V[0]&8&&i!==(i=s[3].t("Title (e.g. Tell me a fun fact)"))&&o(a,"placeholder",i),V[0]&2&&a.value!==s[33].title[0]&&ee(a,s[33].title[0]),V[0]&8&&u!==(u=s[3].t("Subtitle (e.g. about the Roman Empire)"))&&o(f,"placeholder",u),V[0]&2&&f.value!==s[33].title[1]&&ee(f,s[33].title[1]),V[0]&8&&p!==(p=s[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)"))&&o(b,"placeholder",p),V[0]&2&&ee(b,s[33].content)},d(N){N&&c(e),k=!1,ul(I)}}}function Ti(s){let e,t=s[3].t("Adjusting these settings will apply changes universally to all users.")+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-xs text-left w-full mt-2")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8&&t!==(t=a[3].t("Adjusting these settings will apply changes universally to all users.")+"")&&H(l,t)},d(a){a&&c(e)}}}function Dc(s){let e,t,l=s[0]&&vi(s);return{c(){l&&l.c(),e=Xt()},l(a){l&&l.l(a),e=Xt()},m(a,i){l&&l.m(a,i),O(a,e,i),t=!0},p(a,i){a[0]?l?(l.p(a,i),i[0]&1&&K(l,1)):(l=vi(a),l.c(),K(l,1),l.m(e.parentNode,e)):l&&(Vt(),W(l,1,1,()=>{l=null}),St())},i(a){t||(K(l),t=!0)},o(a){W(l),t=!1},d(a){a&&c(e),l&&l.d(a)}}}const Ai=s=>s.owned_by==="ollama";function $c(s,e,t){let l,a,i,r;nl(s,Us,Q=>t(31,l=Q)),nl(s,Dl,Q=>t(4,i=Q)),nl(s,ia,Q=>t(5,r=Q));const f=gs(),u=Il("i18n");nl(s,u,Q=>t(3,a=Q));let h={TASK_MODEL:"",TASK_MODEL_EXTERNAL:"",TITLE_GENERATION_PROMPT_TEMPLATE:"",IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE:"",ENABLE_AUTOCOMPLETE_GENERATION:!0,AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH:-1,TAGS_GENERATION_PROMPT_TEMPLATE:"",ENABLE_TAGS_GENERATION:!0,ENABLE_SEARCH_QUERY_GENERATION:!0,ENABLE_RETRIEVAL_QUERY_GENERATION:!0,QUERY_GENERATION_PROMPT_TEMPLATE:""},b=[],p=[];const m=async()=>{t(0,h=await iu(localStorage.token,h)),t(1,b=await _u(localStorage.token,b)),await g(),await Us.set(await ra())};Hl(async()=>{t(0,h=await nu(localStorage.token)),t(1,b=l==null?void 0:l.default_prompt_suggestions),t(2,p=await du(localStorage.token))});const g=async()=>{zo.set(await hu(localStorage.token,p))};function E(){h.TASK_MODEL=Sl(this),t(0,h)}function w(){h.TASK_MODEL_EXTERNAL=Sl(this),t(0,h)}function k(Q){s.$$.not_equal(h.TITLE_GENERATION_PROMPT_TEMPLATE,Q)&&(h.TITLE_GENERATION_PROMPT_TEMPLATE=Q,t(0,h))}function I(Q){s.$$.not_equal(h.IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE,Q)&&(h.IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE=Q,t(0,h))}function y(Q){s.$$.not_equal(h.ENABLE_AUTOCOMPLETE_GENERATION,Q)&&(h.ENABLE_AUTOCOMPLETE_GENERATION=Q,t(0,h))}function T(){h.AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH=this.value,t(0,h)}function $(Q){s.$$.not_equal(h.ENABLE_TAGS_GENERATION,Q)&&(h.ENABLE_TAGS_GENERATION=Q,t(0,h))}function S(Q){s.$$.not_equal(h.TAGS_GENERATION_PROMPT_TEMPLATE,Q)&&(h.TAGS_GENERATION_PROMPT_TEMPLATE=Q,t(0,h))}function N(Q){s.$$.not_equal(h.ENABLE_RETRIEVAL_QUERY_GENERATION,Q)&&(h.ENABLE_RETRIEVAL_QUERY_GENERATION=Q,t(0,h))}function V(Q){s.$$.not_equal(h.ENABLE_SEARCH_QUERY_GENERATION,Q)&&(h.ENABLE_SEARCH_QUERY_GENERATION=Q,t(0,h))}function C(Q){s.$$.not_equal(h.QUERY_GENERATION_PROMPT_TEMPLATE,Q)&&(h.QUERY_GENERATION_PROMPT_TEMPLATE=Q,t(0,h))}const R=()=>{(p.length===0||p.at(-1).content!=="")&&t(2,p=[...p,{id:Du(),type:"",title:"",content:"",dismissible:!0,timestamp:Math.floor(Date.now()/1e3)}])};function P(Q,te){Q[te].type=Sl(this),t(2,p)}function Z(Q,te){Q[te].content=this.value,t(2,p)}function B(Q,te){s.$$.not_equal(te.dismissible,Q)&&(te.dismissible=Q,t(2,p))}const M=Q=>{p.splice(Q,1),t(2,p)},j=()=>{(b.length===0||b.at(-1).content!=="")&&t(1,b=[...b,{content:"",title:["",""]}])};function G(Q,te){Q[te].title[0]=this.value,t(1,b)}function Y(Q,te){Q[te].title[1]=this.value,t(1,b)}function z(Q,te){Q[te].content=this.value,t(1,b)}return[h,b,p,a,i,r,f,u,m,E,w,k,I,y,T,$,S,N,V,C,R,P,Z,B,M,j,G,Y,z,Q=>{b.splice(Q,1),t(1,b)},()=>{m(),f("save")}]}class Vc extends vl{constructor(e){super(),ml(this,e,$c,Dc,pl,{},null,[-1,-1])}}function Di(s,e,t){const l=s.slice();return l[10]=e[t],l[12]=t,l}function Sc(s){let e,t=s[3].t("No models found")+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-gray-500 text-xs text-center py-2")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i&8&&t!==(t=a[3].t("No models found")+"")&&H(l,t)},i:vt,o:vt,d(a){a&&c(e)}}}function Nc(s){let e,t=[],l=new Map,a,i=yt(s[0]);const r=f=>f[10];for(let f=0;f<i.length;f+=1){let u=Di(s,i,f),h=r(u);l.set(h,t[f]=$i(h,u))}return{c(){e=d("div");for(let f=0;f<t.length;f+=1)t[f].c();this.h()},l(f){e=_(f,"DIV",{class:!0});var u=v(e);for(let h=0;h<t.length;h+=1)t[h].l(u);u.forEach(c),this.h()},h(){o(e,"class","flex flex-col -translate-x-1")},m(f,u){O(f,e,u);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);s[7](e),a=!0},p(f,u){u&5&&(i=yt(f[0]),Vt(),t=Co(t,u,r,1,f,i,l,e,Ro,$i,null,Di),St())},i(f){if(!a){for(let u=0;u<i.length;u+=1)K(t[u]);a=!0}},o(f){for(let u=0;u<t.length;u+=1)W(t[u]);a=!1},d(f){f&&c(e);for(let u=0;u<t.length;u+=1)t[u].d();s[7](null)}}}function Mc(s){let e=s[10]+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){O(l,t,a)},p(l,a){a&1&&e!==(e=l[10]+"")&&H(t,e)},d(l){l&&c(t)}}}function Oc(s){let e=s[2].find(l).name+"",t;function l(...a){return s[6](s[10],...a)}return{c(){t=L(e)},l(a){t=U(a,e)},m(a,i){O(a,t,i)},p(a,i){s=a,i&5&&e!==(e=s[2].find(l).name+"")&&H(t,e)},d(a){a&&c(t)}}}function Pc(s){let e,t,l,a,i,r;function f(...p){return s[5](s[10],...p)}t=new Bu({props:{className:"size-4 cursor-move"}});function u(p,m){return m&5&&(i=null),i==null&&(i=!!p[2].find(f)),i?Oc:Mc}let h=u(s,-1),b=h(s);return{c(){e=d("div"),de(t.$$.fragment),l=A(),a=d("div"),b.c(),this.h()},l(p){e=_(p,"DIV",{class:!0});var m=v(e);_e(t.$$.fragment,m),l=D(m),a=_(m,"DIV",{class:!0});var g=v(a);b.l(g),g.forEach(c),m.forEach(c),this.h()},h(){o(a,"class","text-sm flex-1 py-1 rounded-lg"),o(e,"class","flex items-center gap-1")},m(p,m){O(p,e,m),he(t,e,null),n(e,l),n(e,a),b.m(a,null),r=!0},p(p,m){s=p,h===(h=u(s,m))&&b?b.p(s,m):(b.d(1),b=h(s),b&&(b.c(),b.m(a,null)))},i(p){r||(K(t.$$.fragment,p),r=!0)},o(p){W(t.$$.fragment,p),r=!1},d(p){p&&c(e),pe(t),b.d()}}}function $i(s,e){let t,l,a,i,r;return l=new Yt({props:{content:e[10],placement:"top-start",$$slots:{default:[Pc]},$$scope:{ctx:e}}}),{key:s,first:null,c(){t=d("div"),de(l.$$.fragment),a=A(),this.h()},l(f){t=_(f,"DIV",{class:!0,id:!0});var u=v(t);_e(l.$$.fragment,u),a=D(u),u.forEach(c),this.h()},h(){o(t,"class","flex gap-2 w-full justify-between items-center"),o(t,"id",i="model-item-"+e[10]),this.first=t},m(f,u){O(f,t,u),he(l,t,null),n(t,a),r=!0},p(f,u){e=f;const h={};u&1&&(h.content=e[10]),u&8197&&(h.$$scope={dirty:u,ctx:e}),l.$set(h),(!r||u&1&&i!==(i="model-item-"+e[10]))&&o(t,"id",i)},i(f){r||(K(l.$$.fragment,f),r=!0)},o(f){W(l.$$.fragment,f),r=!1},d(f){f&&c(t),pe(l)}}}function Lc(s){let e,t,l,a;const i=[Nc,Sc],r=[];function f(u,h){return u[0].length>0?0:1}return e=f(s),t=r[e]=i[e](s),{c(){t.c(),l=Xt()},l(u){t.l(u),l=Xt()},m(u,h){r[e].m(u,h),O(u,l,h),a=!0},p(u,[h]){let b=e;e=f(u),e===b?r[e].p(u,h):(Vt(),W(r[b],1,1,()=>{r[b]=null}),St(),t=r[e],t?t.p(u,h):(t=r[e]=i[e](u),t.c()),K(t,1),t.m(l.parentNode,l))},i(u){a||(K(t),a=!0)},o(u){W(t),a=!1},d(u){u&&c(l),r[e].d(u)}}}function Uc(s,e,t){let l,a;nl(s,Dl,m=>t(2,l=m));const i=Il("i18n");nl(s,i,m=>t(3,a=m));let{modelIds:r=[]}=e,f=null;const u=()=>{const m=Array.from(f.children).map(g=>g.id.replace("model-item-",""));t(0,r=m)};Hl(()=>{Ru.create(f,{animation:150,onUpdate:async m=>{u()}})});const h=(m,g)=>g.id===m,b=(m,g)=>g.id===m;function p(m){it[m?"unshift":"push"](()=>{f=m,t(1,f)})}return s.$$set=m=>{"modelIds"in m&&t(0,r=m.modelIds)},[r,f,l,a,i,h,b,p]}class Cc extends vl{constructor(e){super(),ml(this,e,Uc,Lc,pl,{modelIds:0})}}function Rc(s){let e,t;return{c(){e=sl("svg"),t=sl("path"),this.h()},l(l){e=al(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=al(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(c),a.forEach(c),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M5 12h14"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",s[1]),o(e,"stroke","currentColor"),o(e,"class",s[0])},m(l,a){O(l,e,a),n(e,t)},p(l,[a]){a&2&&o(e,"stroke-width",l[1]),a&1&&o(e,"class",l[0])},i:vt,o:vt,d(l){l&&c(e)}}}function Bc(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=i=>{"className"in i&&t(0,l=i.className),"strokeWidth"in i&&t(1,a=i.strokeWidth)},[l,a]}class mr extends vl{constructor(e){super(),ml(this,e,Bc,Rc,pl,{className:0,strokeWidth:1})}}function Vi(s,e,t){const l=s.slice();return l[25]=e[t],l[27]=t,l}function Si(s,e,t){const l=s.slice();return l[28]=e[t],l}function Hc(s){let e,t,l;return t=new Is({}),{c(){e=d("div"),de(t.$$.fragment)},l(a){e=_(a,"DIV",{});var i=v(e);_e(t.$$.fragment,i),i.forEach(c)},m(a,i){O(a,e,i),he(t,e,null),l=!0},p:vt,i(a){l||(K(t.$$.fragment,a),l=!0)},o(a){W(t.$$.fragment,a),l=!1},d(a){a&&c(e),pe(t)}}}function jc(s){let e,t,l,a,i,r=s[8].t("Reorder Models")+"",f,u,h,b,p,m,g,E,w,k,I,y=s[8].t("Default Models")+"",T,$,S,N,V,C=s[8].t("Select a model")+"",R,P,Z,B,M,j,G,Y,z,X,q=s[8].t("Save")+"",Q,te,x,F,J,ae;function ue(ie){s[15](ie)}let ne={};s[5]!==void 0&&(ne.modelIds=s[5]),h=new Cc({props:ne}),it.push(()=>ht(h,"modelIds",ue));let $e=yt(s[9]),ge=[];for(let ie=0;ie<$e.length;ie+=1)ge[ie]=Ni(Si(s,$e,ie));const Le=[Kc,Gc],be=[];function He(ie,le){return ie[4].length>0?0:1}B=He(s),M=be[B]=Le[B](s),Y=new Yt({props:{content:s[8].t("This will delete all models including custom models"),$$slots:{default:[Zc]},$$scope:{ctx:s}}});let Ve=s[6]&&Oi();return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),i=d("div"),f=L(r),u=A(),de(h.$$.fragment),p=A(),m=d("hr"),g=A(),E=d("div"),w=d("div"),k=d("div"),I=d("div"),T=L(y),$=A(),S=d("div"),N=d("select"),V=d("option"),R=L(C);for(let ie=0;ie<ge.length;ie+=1)ge[ie].c();Z=A(),M.c(),j=A(),G=d("div"),de(Y.$$.fragment),z=A(),X=d("button"),Q=L(q),te=A(),Ve&&Ve.c(),this.h()},l(ie){e=_(ie,"FORM",{class:!0});var le=v(e);t=_(le,"DIV",{});var Ee=v(t);l=_(Ee,"DIV",{class:!0});var ce=v(l);a=_(ce,"DIV",{class:!0});var ke=v(a);i=_(ke,"DIV",{class:!0});var Ie=v(i);f=U(Ie,r),Ie.forEach(c),ke.forEach(c),u=D(ce),_e(h.$$.fragment,ce),ce.forEach(c),Ee.forEach(c),p=D(le),m=_(le,"HR",{class:!0}),g=D(le),E=_(le,"DIV",{});var ze=v(E);w=_(ze,"DIV",{class:!0});var Qe=v(w);k=_(Qe,"DIV",{class:!0});var ve=v(k);I=_(ve,"DIV",{class:!0});var ye=v(I);T=U(ye,y),ye.forEach(c),ve.forEach(c),$=D(Qe),S=_(Qe,"DIV",{class:!0});var fe=v(S);N=_(fe,"SELECT",{class:!0});var me=v(N);V=_(me,"OPTION",{});var Oe=v(V);R=U(Oe,C),Oe.forEach(c);for(let Re=0;Re<ge.length;Re+=1)ge[Re].l(me);me.forEach(c),fe.forEach(c),Z=D(Qe),M.l(Qe),Qe.forEach(c),ze.forEach(c),j=D(le),G=_(le,"DIV",{class:!0});var Me=v(G);_e(Y.$$.fragment,Me),z=D(Me),X=_(Me,"BUTTON",{class:!0,type:!0});var Ge=v(X);Q=U(Ge,q),te=D(Ge),Ve&&Ve.l(Ge),Ge.forEach(c),Me.forEach(c),le.forEach(c),this.h()},h(){o(i,"class","text-xs text-gray-500"),o(a,"class","mb-1 flex justify-between"),o(l,"class","flex flex-col w-full"),o(m,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),o(I,"class","text-xs text-gray-500"),o(k,"class","mb-1 flex justify-between"),V.__value="",ee(V,V.__value),o(N,"class",P="w-full py-1 text-sm rounded-lg bg-transparent "+(s[2]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),s[2]===void 0&&Nl(()=>s[16].call(N)),o(S,"class","flex items-center -mr-1"),o(w,"class","flex flex-col w-full"),o(X,"class",x="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[6]?" cursor-not-allowed":"")),o(X,"type","submit"),X.disabled=s[6],o(G,"class","flex justify-between pt-3 text-sm font-medium gap-1.5"),o(e,"class","flex flex-col w-full")},m(ie,le){O(ie,e,le),n(e,t),n(t,l),n(l,a),n(a,i),n(i,f),n(l,u),he(h,l,null),n(e,p),n(e,m),n(e,g),n(e,E),n(E,w),n(w,k),n(k,I),n(I,T),n(w,$),n(w,S),n(S,N),n(N,V),n(V,R);for(let Ee=0;Ee<ge.length;Ee+=1)ge[Ee]&&ge[Ee].m(N,null);Jt(N,s[2],!0),n(w,Z),be[B].m(w,null),n(e,j),n(e,G),he(Y,G,null),n(G,z),n(G,X),n(X,Q),n(X,te),Ve&&Ve.m(X,null),F=!0,J||(ae=[se(N,"change",s[16]),se(e,"submit",rs(s[20]))],J=!0)},p(ie,le){(!F||le[0]&256)&&r!==(r=ie[8].t("Reorder Models")+"")&&H(f,r);const Ee={};if(!b&&le[0]&32&&(b=!0,Ee.modelIds=ie[5],_t(()=>b=!1)),h.$set(Ee),(!F||le[0]&256)&&y!==(y=ie[8].t("Default Models")+"")&&H(T,y),(!F||le[0]&256)&&C!==(C=ie[8].t("Select a model")+"")&&H(R,C),le[0]&512){$e=yt(ie[9]);let Ie;for(Ie=0;Ie<$e.length;Ie+=1){const ze=Si(ie,$e,Ie);ge[Ie]?ge[Ie].p(ze,le):(ge[Ie]=Ni(ze),ge[Ie].c(),ge[Ie].m(N,null))}for(;Ie<ge.length;Ie+=1)ge[Ie].d(1);ge.length=$e.length}(!F||le[0]&516&&P!==(P="w-full py-1 text-sm rounded-lg bg-transparent "+(ie[2]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"))&&o(N,"class",P),le[0]&516&&Jt(N,ie[2]);let ce=B;B=He(ie),B===ce?be[B].p(ie,le):(Vt(),W(be[ce],1,1,()=>{be[ce]=null}),St(),M=be[B],M?M.p(ie,le):(M=be[B]=Le[B](ie),M.c()),K(M,1),M.m(w,null));const ke={};le[0]&256&&(ke.content=ie[8].t("This will delete all models including custom models")),le[0]&384|le[1]&1&&(ke.$$scope={dirty:le,ctx:ie}),Y.$set(ke),(!F||le[0]&256)&&q!==(q=ie[8].t("Save")+"")&&H(Q,q),ie[6]?Ve||(Ve=Oi(),Ve.c(),Ve.m(X,null)):Ve&&(Ve.d(1),Ve=null),(!F||le[0]&64&&x!==(x="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(ie[6]?" cursor-not-allowed":"")))&&o(X,"class",x),(!F||le[0]&64)&&(X.disabled=ie[6])},i(ie){F||(K(h.$$.fragment,ie),K(M),K(Y.$$.fragment,ie),F=!0)},o(ie){W(h.$$.fragment,ie),W(M),W(Y.$$.fragment,ie),F=!1},d(ie){ie&&c(e),pe(h),cl(ge,ie),be[B].d(),pe(Y),Ve&&Ve.d(),J=!1,ul(ae)}}}function Ni(s){let e,t=s[28].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=_(i,"OPTION",{class:!0});var r=v(e);l=U(r,t),r.forEach(c),this.h()},h(){e.__value=a=s[28].id,ee(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,r){O(i,e,r),n(e,l)},p(i,r){r[0]&512&&t!==(t=i[28].name+"")&&H(l,t),r[0]&512&&a!==(a=i[28].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&c(e)}}}function Gc(s){let e,t=s[8].t("No models selected")+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-gray-500 text-xs text-center py-2")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&256&&t!==(t=a[8].t("No models selected")+"")&&H(l,t)},i:vt,o:vt,d(a){a&&c(e)}}}function Kc(s){let e,t,l=yt(s[4]),a=[];for(let r=0;r<l.length;r+=1)a[r]=Mi(Vi(s,l,r));const i=r=>W(a[r],1,1,()=>{a[r]=null});return{c(){e=d("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=_(r,"DIV",{class:!0});var f=v(e);for(let u=0;u<a.length;u+=1)a[u].l(f);f.forEach(c),this.h()},h(){o(e,"class","flex flex-col")},m(r,f){O(r,e,f);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);t=!0},p(r,f){if(f[0]&528){l=yt(r[4]);let u;for(u=0;u<l.length;u+=1){const h=Vi(r,l,u);a[u]?(a[u].p(h,f),K(a[u],1)):(a[u]=Mi(h),a[u].c(),K(a[u],1),a[u].m(e,null))}for(Vt(),u=l.length;u<a.length;u+=1)i(u);St()}},i(r){if(!t){for(let f=0;f<l.length;f+=1)K(a[f]);t=!0}},o(r){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)W(a[f]);t=!1},d(r){r&&c(e),cl(a,r)}}}function Mi(s){var w;let e,t,l=((w=s[9].find(g))==null?void 0:w.name)+"",a,i,r,f,u,h,b,p,m;function g(...k){return s[17](s[25],...k)}u=new mr({props:{strokeWidth:"2",className:"size-3.5"}});function E(){return s[18](s[27])}return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("button"),de(u.$$.fragment),h=A(),this.h()},l(k){e=_(k,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var y=v(t);a=U(y,l),y.forEach(c),i=D(I),r=_(I,"DIV",{class:!0});var T=v(r);f=_(T,"BUTTON",{type:!0});var $=v(f);_e(u.$$.fragment,$),$.forEach(c),T.forEach(c),h=D(I),I.forEach(c),this.h()},h(){o(t,"class","text-sm flex-1 py-1 rounded-lg"),o(f,"type","button"),o(r,"class","flex-shrink-0"),o(e,"class","flex gap-2 w-full justify-between items-center")},m(k,I){O(k,e,I),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),he(u,f,null),n(e,h),b=!0,p||(m=se(f,"click",E),p=!0)},p(k,I){var y;s=k,(!b||I[0]&528)&&l!==(l=((y=s[9].find(g))==null?void 0:y.name)+"")&&H(a,l)},i(k){b||(K(u.$$.fragment,k),b=!0)},o(k){W(u.$$.fragment,k),b=!1},d(k){k&&c(e),pe(u),p=!1,m()}}}function Zc(s){let e,t=s[8].t("Reset All Models")+"",l,a,i;return{c(){e=d("button"),l=L(t),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);l=U(f,t),f.forEach(c),this.h()},h(){o(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),o(e,"type","button")},m(r,f){O(r,e,f),n(e,l),a||(i=se(e,"click",s[19]),a=!0)},p(r,f){f[0]&256&&t!==(t=r[8].t("Reset All Models")+"")&&H(l,t)},d(r){r&&c(e),a=!1,i()}}}function Oi(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}
												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Kt(e)!=="svelte-178pk2u"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function qc(s){let e,t,l,a=s[8].t("Settings")+"",i,r,f,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,b,p,m,g,E,w,k;const I=[jc,Hc],y=[];function T($,S){return $[3]?0:1}return m=T(s),g=y[m]=I[m](s),{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("button"),f.innerHTML=u,h=A(),b=d("div"),p=d("div"),g.c(),this.h()},l($){e=_($,"DIV",{});var S=v(e);t=_(S,"DIV",{class:!0});var N=v(t);l=_(N,"DIV",{class:!0});var V=v(l);i=U(V,a),V.forEach(c),r=D(N),f=_(N,"BUTTON",{class:!0,"data-svelte-h":!0}),Kt(f)!=="svelte-745w2y"&&(f.innerHTML=u),N.forEach(c),h=D(S),b=_(S,"DIV",{class:!0});var C=v(b);p=_(C,"DIV",{class:!0});var R=v(p);g.l(R),R.forEach(c),C.forEach(c),S.forEach(c),this.h()},h(){o(l,"class","text-lg font-medium self-center font-primary"),o(f,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),o(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(b,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m($,S){O($,e,S),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),n(e,h),n(e,b),n(b,p),y[m].m(p,null),E=!0,w||(k=se(f,"click",s[14]),w=!0)},p($,S){(!E||S[0]&256)&&a!==(a=$[8].t("Settings")+"")&&H(i,a);let N=m;m=T($),m===N?y[m].p($,S):(Vt(),W(y[N],1,1,()=>{y[N]=null}),St(),g=y[m],g?g.p($,S):(g=y[m]=I[m]($),g.c()),K(g,1),g.m(p,null))},i($){E||(K(g),E=!0)},o($){W(g),E=!1},d($){$&&c(e),y[m].d(),w=!1,k()}}}function Wc(s){let e,t,l,a,i,r;function f(p){s[13](p)}let u={title:s[8].t("Reset All Models"),message:s[8].t("This will delete all models including custom models and cannot be undone."),onConfirm:s[12]};s[7]!==void 0&&(u.show=s[7]),e=new Ja({props:u}),it.push(()=>ht(e,"show",f));function h(p){s[21](p)}let b={size:"sm",$$slots:{default:[qc]},$$scope:{ctx:s}};return s[0]!==void 0&&(b.show=s[0]),a=new Ea({props:b}),it.push(()=>ht(a,"show",h)),{c(){de(e.$$.fragment),l=A(),de(a.$$.fragment)},l(p){_e(e.$$.fragment,p),l=D(p),_e(a.$$.fragment,p)},m(p,m){he(e,p,m),O(p,l,m),he(a,p,m),r=!0},p(p,m){const g={};m[0]&256&&(g.title=p[8].t("Reset All Models")),m[0]&256&&(g.message=p[8].t("This will delete all models including custom models and cannot be undone.")),m[0]&258&&(g.onConfirm=p[12]),!t&&m[0]&128&&(t=!0,g.show=p[7],_t(()=>t=!1)),e.$set(g);const E={};m[0]&1021|m[1]&1&&(E.$$scope={dirty:m,ctx:p}),!i&&m[0]&1&&(i=!0,E.show=p[0],_t(()=>i=!1)),a.$set(E)},i(p){r||(K(e.$$.fragment,p),K(a.$$.fragment,p),r=!0)},o(p){W(e.$$.fragment,p),W(a.$$.fragment,p),r=!1},d(p){p&&c(l),pe(e,p),pe(a,p)}}}function Fc(s,e,t){let l,a;nl(s,Dl,Z=>t(9,a=Z));const i=Il("i18n");nl(s,i,Z=>t(8,l=Z)),gs();let{show:r=!1}=e,{initHandler:f=()=>{}}=e,u=null,h="",b=[],p=[],m=!1,g=!1;const E=()=>{if(h!==""){if(b.includes(h)){t(2,h="");return}t(4,b=[...b,h]),t(2,h="")}},w=async()=>{t(3,u=await pu(localStorage.token)),u!=null&&u.DEFAULT_MODELS?t(4,b=u==null?void 0:u.DEFAULT_MODELS.split(",").filter(j=>j)):t(4,b=[]);const Z=u.MODEL_ORDER_LIST||[],B=a.map(j=>j.id),M=new Set(Z);t(5,p=[...Z.filter(j=>M.has(j)&&B.includes(j)),...B.filter(j=>!M.has(j)).sort((j,G)=>j.localeCompare(G))])},k=async()=>{t(6,m=!0),await vu(localStorage.token,{DEFAULT_MODELS:b.join(","),MODEL_ORDER_LIST:p})?(Ye.success(l.t("Models configuration saved successfully")),f(),t(0,r=!1)):Ye.error(l.t("Failed to save models configuration")),t(6,m=!1)};Hl(async()=>{w()});const I=async()=>{Mu(localStorage.token)&&(Ye.success(l.t("All models deleted successfully")),f())};function y(Z){g=Z,t(7,g)}const T=()=>{t(0,r=!1)};function $(Z){p=Z,t(5,p)}function S(){h=Sl(this),t(2,h)}const N=(Z,B)=>B.id===Z,V=Z=>{t(4,b=b.filter((B,M)=>M!==Z))},C=()=>{t(7,g=!0)},R=()=>{k()};function P(Z){r=Z,t(0,r)}return s.$$set=Z=>{"show"in Z&&t(0,r=Z.show),"initHandler"in Z&&t(1,f=Z.initHandler)},s.$$.update=()=>{s.$$.dirty[0]&1&&r&&w(),s.$$.dirty[0]&4&&h&&E()},[r,f,h,u,b,p,m,g,l,a,i,k,I,y,T,$,S,N,V,C,R,P]}class Yc extends vl{constructor(e){super(),ml(this,e,Fc,Wc,pl,{show:0,initHandler:1},null,[-1,-1])}}function Pi(s,e,t){const l=s.slice();return l[55]=e[t],l}function Li(s,e,t){const l=s.slice();return l[55]=e[t],l}function zc(s){let e,t,l;return t=new Is({}),{c(){e=d("div"),de(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(c),this.h()},h(){o(e,"class","flex justify-center items-center w-full h-full py-3")},m(a,i){O(a,e,i),he(t,e,null),l=!0},p:vt,i(a){l||(K(t.$$.fragment,a),l=!0)},o(a){W(t.$$.fragment,a),l=!1},d(a){a&&c(e),pe(t)}}}function Qc(s){let e,t=s[23].t("Failed to fetch models")+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","flex justify-center items-center w-full h-full text-xs py-3")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("Failed to fetch models")+"")&&H(l,t)},i:vt,o:vt,d(a){a&&c(e)}}}function Jc(s){let e,t,l,a,i,r,f=s[23].t("Pull a model from Ollama.com")+"",u,h,b,p,m,g,E,w,k,I,y,T,$,S=s[23].t("To access the available model names for downloading,")+"",N,V,C,R=s[23].t("click here.")+"",P,Z,B,M=Object.keys(s[22]).length>0,j,G,Y,z=s[23].t("Delete a model")+"",X,q,Q,te,x,F,J,ae,ue,ne='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',$e,ge,Le,be=s[23].t("Create a model")+"",He,Ve,ie,le,Ee,ce,ke,Ie,ze,Qe,ve,ye,fe,me,Oe,Me,Ge,Re,Ze,Ke=s[23].t("Experimental")+"",Dt,re,we,pt=(s[6]?s[23].t("Hide"):s[23].t("Show"))+"",mt,gt,qe,Fe,ct;p=new Yt({props:{content:"Update All Models",placement:"top",$$slots:{default:[Xc]},$$scope:{ctx:s}}});function Rt(oe,Pe){return oe[7]?ed:xc}let At=Rt(s),Te=At(s),We=s[4]&&Ui(s),bt=M&&Ci(s),ut=!s[21]&&ji(s),dt=yt(s[3]),rt=[];for(let oe=0;oe<dt.length;oe+=1)rt[oe]=Gi(Pi(s,dt,oe));let xe=s[12]!==""&&Ki(s),Xe=s[6]&&qi(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),i=d("div"),r=d("div"),u=L(f),h=A(),b=d("div"),de(p.$$.fragment),m=A(),g=d("div"),E=d("div"),w=d("input"),I=A(),y=d("button"),Te.c(),T=A(),$=d("div"),N=L(S),V=A(),C=d("a"),P=L(R),Z=A(),We&&We.c(),B=A(),bt&&bt.c(),j=A(),G=d("div"),Y=d("div"),X=L(z),q=A(),Q=d("div"),te=d("div"),x=d("select"),ut&&ut.c(),F=Xt();for(let oe=0;oe<rt.length;oe+=1)rt[oe].c();ae=A(),ue=d("button"),ue.innerHTML=ne,$e=A(),ge=d("div"),Le=d("div"),He=L(be),Ve=A(),ie=d("div"),le=d("div"),Ee=d("input"),ke=A(),Ie=d("textarea"),ze=A(),Qe=d("div"),ve=d("button"),ye=sl("svg"),fe=sl("path"),me=sl("path"),Oe=A(),xe&&xe.c(),Me=A(),Ge=d("div"),Re=d("div"),Ze=d("div"),Dt=L(Ke),re=A(),we=d("button"),mt=L(pt),gt=A(),Xe&&Xe.c(),this.h()},l(oe){e=_(oe,"DIV",{class:!0});var Pe=v(e);t=_(Pe,"DIV",{});var Tt=v(t);l=_(Tt,"DIV",{class:!0});var Je=v(l);a=_(Je,"DIV",{});var Ot=v(a);i=_(Ot,"DIV",{class:!0});var Et=v(i);r=_(Et,"DIV",{});var ot=v(r);u=U(ot,f),ot.forEach(c),h=D(Et),b=_(Et,"DIV",{});var jt=v(b);_e(p.$$.fragment,jt),jt.forEach(c),Et.forEach(c),m=D(Ot),g=_(Ot,"DIV",{class:!0});var el=v(g);E=_(el,"DIV",{class:!0});var Gt=v(E);w=_(Gt,"INPUT",{class:!0,placeholder:!0}),Gt.forEach(c),I=D(el),y=_(el,"BUTTON",{class:!0});var It=v(y);Te.l(It),It.forEach(c),el.forEach(c),T=D(Ot),$=_(Ot,"DIV",{class:!0});var Lt=v($);N=U(Lt,S),V=D(Lt),C=_(Lt,"A",{class:!0,href:!0,target:!0});var Ct=v(C);P=U(Ct,R),Ct.forEach(c),Lt.forEach(c),Z=D(Ot),We&&We.l(Ot),B=D(Ot),bt&&bt.l(Ot),Ot.forEach(c),j=D(Je),G=_(Je,"DIV",{});var Ue=v(G);Y=_(Ue,"DIV",{class:!0});var Ae=v(Y);X=U(Ae,z),Ae.forEach(c),q=D(Ue),Q=_(Ue,"DIV",{class:!0});var De=v(Q);te=_(De,"DIV",{class:!0});var wt=v(te);x=_(wt,"SELECT",{class:!0,placeholder:!0});var et=v(x);ut&&ut.l(et),F=Xt();for(let tl=0;tl<rt.length;tl+=1)rt[tl].l(et);et.forEach(c),wt.forEach(c),ae=D(De),ue=_(De,"BUTTON",{class:!0,"data-svelte-h":!0}),Kt(ue)!=="svelte-1c45g2d"&&(ue.innerHTML=ne),De.forEach(c),Ue.forEach(c),$e=D(Je),ge=_(Je,"DIV",{});var ft=v(ge);Le=_(ft,"DIV",{class:!0});var Ft=v(Le);He=U(Ft,be),Ft.forEach(c),Ve=D(ft),ie=_(ft,"DIV",{class:!0});var Ut=v(ie);le=_(Ut,"DIV",{class:!0});var Bt=v(le);Ee=_(Bt,"INPUT",{class:!0,placeholder:!0}),ke=D(Bt),Ie=_(Bt,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(Ie).forEach(c),Bt.forEach(c),ze=D(Ut),Qe=_(Ut,"DIV",{class:!0});var kt=v(Qe);ve=_(kt,"BUTTON",{class:!0});var je=v(ve);ye=al(je,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var Be=v(ye);fe=al(Be,"path",{d:!0}),v(fe).forEach(c),me=al(Be,"path",{d:!0}),v(me).forEach(c),Be.forEach(c),je.forEach(c),kt.forEach(c),Ut.forEach(c),Oe=D(ft),xe&&xe.l(ft),ft.forEach(c),Me=D(Je),Ge=_(Je,"DIV",{class:!0});var tt=v(Ge);Re=_(tt,"DIV",{class:!0});var st=v(Re);Ze=_(st,"DIV",{class:!0});var Nt=v(Ze);Dt=U(Nt,Ke),Nt.forEach(c),re=D(st),we=_(st,"BUTTON",{class:!0,type:!0});var rl=v(we);mt=U(rl,pt),rl.forEach(c),st.forEach(c),tt.forEach(c),gt=D(Je),Xe&&Xe.l(Je),Je.forEach(c),Tt.forEach(c),Pe.forEach(c),this.h()},h(){o(i,"class","mb-2 text-sm font-medium flex items-center gap-1.5"),o(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(w,"placeholder",k=s[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})),o(E,"class","flex-1 mr-2"),o(y,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),y.disabled=s[7],o(g,"class","flex w-full"),o(C,"class","text-gray-500 dark:text-gray-300 font-medium underline"),o(C,"href","https://ollama.com/library"),o(C,"target","_blank"),o($,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(Y,"class","mb-2 text-sm font-medium"),o(x,"class","w-full py-2 px-4 text-sm outline-none bg-transparent"),o(x,"placeholder",J=s[23].t("Select a model")),s[21]===void 0&&Nl(()=>s[38].call(x)),o(te,"class","flex-1 mr-2 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850"),o(ue,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(Q,"class","flex w-full"),o(Le,"class","mb-2 text-sm font-medium"),o(Ee,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Ee,"placeholder",ce=s[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})),Ee.disabled=s[9],o(Ie,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none scrollbar-hidden"),o(Ie,"rows","6"),o(Ie,"placeholder",'e.g. {"model": "my-modelfile", "from": "ollama:7b"})'),Ie.disabled=s[9],o(le,"class","flex-1 mr-2 flex flex-col gap-2"),o(fe,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(me,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(ye,"xmlns","http://www.w3.org/2000/svg"),o(ye,"viewBox","0 0 16 16"),o(ye,"fill","currentColor"),o(ye,"class","size-4"),o(ve,"class","px-2.5 py-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed"),ve.disabled=s[9],o(Qe,"class","flex self-start"),o(ie,"class","flex w-full"),o(Ze,"class","text-sm font-medium"),o(we,"class","text-xs font-medium text-gray-500"),o(we,"type","button"),o(Re,"class","flex justify-between items-center text-xs"),o(Ge,"class","pt-1"),o(l,"class","space-y-2"),o(e,"class","flex flex-col w-full")},m(oe,Pe){O(oe,e,Pe),n(e,t),n(t,l),n(l,a),n(a,i),n(i,r),n(r,u),n(i,h),n(i,b),he(p,b,null),n(a,m),n(a,g),n(g,E),n(E,w),ee(w,s[8]),n(g,I),n(g,y),Te.m(y,null),n(a,T),n(a,$),n($,N),n($,V),n($,C),n(C,P),n(a,Z),We&&We.m(a,null),n(a,B),bt&&bt.m(a,null),n(l,j),n(l,G),n(G,Y),n(Y,X),n(G,q),n(G,Q),n(Q,te),n(te,x),ut&&ut.m(x,null),n(x,F);for(let Tt=0;Tt<rt.length;Tt+=1)rt[Tt]&&rt[Tt].m(x,null);Jt(x,s[21],!0),n(Q,ae),n(Q,ue),n(l,$e),n(l,ge),n(ge,Le),n(Le,He),n(ge,Ve),n(ge,ie),n(ie,le),n(le,Ee),ee(Ee,s[10]),n(le,ke),n(le,Ie),ee(Ie,s[11]),n(ie,ze),n(ie,Qe),n(Qe,ve),n(ve,ye),n(ye,fe),n(ye,me),n(ge,Oe),xe&&xe.m(ge,null),n(l,Me),n(l,Ge),n(Ge,Re),n(Re,Ze),n(Ze,Dt),n(Re,re),n(Re,we),n(we,mt),n(l,gt),Xe&&Xe.m(l,null),qe=!0,Fe||(ct=[se(w,"input",s[35]),se(y,"click",s[36]),se(x,"change",s[38]),se(ue,"click",s[39]),se(Ee,"input",s[40]),se(Ie,"input",s[41]),se(ve,"click",s[42]),se(we,"click",s[43])],Fe=!0)},p(oe,Pe){(!qe||Pe[0]&8388608)&&f!==(f=oe[23].t("Pull a model from Ollama.com")+"")&&H(u,f);const Tt={};if(Pe[1]&536870912&&(Tt.$$scope={dirty:Pe,ctx:oe}),p.$set(Tt),(!qe||Pe[0]&8388608&&k!==(k=oe[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})))&&o(w,"placeholder",k),Pe[0]&256&&w.value!==oe[8]&&ee(w,oe[8]),At!==(At=Rt(oe))&&(Te.d(1),Te=At(oe),Te&&(Te.c(),Te.m(y,null))),(!qe||Pe[0]&128)&&(y.disabled=oe[7]),(!qe||Pe[0]&8388608)&&S!==(S=oe[23].t("To access the available model names for downloading,")+"")&&H(N,S),(!qe||Pe[0]&8388608)&&R!==(R=oe[23].t("click here.")+"")&&H(P,R),oe[4]?We?We.p(oe,Pe):(We=Ui(oe),We.c(),We.m(a,B)):We&&(We.d(1),We=null),Pe[0]&4194304&&(M=Object.keys(oe[22]).length>0),M?bt?(bt.p(oe,Pe),Pe[0]&4194304&&K(bt,1)):(bt=Ci(oe),bt.c(),K(bt,1),bt.m(a,null)):bt&&(Vt(),W(bt,1,1,()=>{bt=null}),St()),(!qe||Pe[0]&8388608)&&z!==(z=oe[23].t("Delete a model")+"")&&H(X,z),oe[21]?ut&&(ut.d(1),ut=null):ut?ut.p(oe,Pe):(ut=ji(oe),ut.c(),ut.m(x,F)),Pe[0]&8){dt=yt(oe[3]);let Je;for(Je=0;Je<dt.length;Je+=1){const Ot=Pi(oe,dt,Je);rt[Je]?rt[Je].p(Ot,Pe):(rt[Je]=Gi(Ot),rt[Je].c(),rt[Je].m(x,null))}for(;Je<rt.length;Je+=1)rt[Je].d(1);rt.length=dt.length}(!qe||Pe[0]&8388608&&J!==(J=oe[23].t("Select a model")))&&o(x,"placeholder",J),Pe[0]&2097160&&Jt(x,oe[21]),(!qe||Pe[0]&8388608)&&be!==(be=oe[23].t("Create a model")+"")&&H(He,be),(!qe||Pe[0]&8388608&&ce!==(ce=oe[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})))&&o(Ee,"placeholder",ce),(!qe||Pe[0]&512)&&(Ee.disabled=oe[9]),Pe[0]&1024&&Ee.value!==oe[10]&&ee(Ee,oe[10]),(!qe||Pe[0]&512)&&(Ie.disabled=oe[9]),Pe[0]&2048&&ee(Ie,oe[11]),(!qe||Pe[0]&512)&&(ve.disabled=oe[9]),oe[12]!==""?xe?xe.p(oe,Pe):(xe=Ki(oe),xe.c(),xe.m(ge,null)):xe&&(xe.d(1),xe=null),(!qe||Pe[0]&8388608)&&Ke!==(Ke=oe[23].t("Experimental")+"")&&H(Dt,Ke),(!qe||Pe[0]&8388672)&&pt!==(pt=(oe[6]?oe[23].t("Hide"):oe[23].t("Show"))+"")&&H(mt,pt),oe[6]?Xe?Xe.p(oe,Pe):(Xe=qi(oe),Xe.c(),Xe.m(l,null)):Xe&&(Xe.d(1),Xe=null)},i(oe){qe||(K(p.$$.fragment,oe),K(bt),qe=!0)},o(oe){W(p.$$.fragment,oe),W(bt),qe=!1},d(oe){oe&&c(e),pe(p),Te.d(),We&&We.d(),bt&&bt.d(),ut&&ut.d(),cl(rt,oe),xe&&xe.d(),Xe&&Xe.d(),Fe=!1,ul(ct)}}}function Xc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=_(i,"BUTTON",{class:!0,"data-svelte-h":!0}),Kt(e)!=="svelte-91van"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex gap-2 items-center bg-transparent rounded-lg transition")},m(i,r){O(i,e,r),l||(a=se(e,"click",s[34]),l=!0)},p:vt,d(i){i&&c(e),l=!1,a()}}}function xc(s){let e,t,l;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),this.h()},l(a){e=al(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=al(i,"path",{d:!0}),v(t).forEach(c),l=al(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){O(a,e,i),n(e,t),n(e,l)},d(a){a&&c(e)}}}function ed(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Kt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function Ui(s){let e,t,l,a,i=s[5]?`(${s[5]}%)`:"",r;return{c(){e=d("div"),t=L('Updating "'),l=L(s[4]),a=L('" '),r=L(i),this.h()},l(f){e=_(f,"DIV",{class:!0});var u=v(e);t=U(u,'Updating "'),l=U(u,s[4]),a=U(u,'" '),r=U(u,i),u.forEach(c),this.h()},h(){o(e,"class","text-xs")},m(f,u){O(f,e,u),n(e,t),n(e,l),n(e,a),n(e,r)},p(f,u){u[0]&16&&H(l,f[4]),u[0]&32&&i!==(i=f[5]?`(${f[5]}%)`:"")&&H(r,i)},d(f){f&&c(e)}}}function Ci(s){let e,t,l=yt(Object.keys(s[22])),a=[];for(let r=0;r<l.length;r+=1)a[r]=Hi(Li(s,l,r));const i=r=>W(a[r],1,1,()=>{a[r]=null});return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=Xt()},l(r){for(let f=0;f<a.length;f+=1)a[f].l(r);e=Xt()},m(r,f){for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(r,f);O(r,e,f),t=!0},p(r,f){if(f[0]&549453824){l=yt(Object.keys(r[22]));let u;for(u=0;u<l.length;u+=1){const h=Li(r,l,u);a[u]?(a[u].p(h,f),K(a[u],1)):(a[u]=Hi(h),a[u].c(),K(a[u],1),a[u].m(e.parentNode,e))}for(Vt(),u=l.length;u<a.length;u+=1)i(u);St()}},i(r){if(!t){for(let f=0;f<l.length;f+=1)K(a[f]);t=!0}},o(r){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)W(a[f]);t=!1},d(r){r&&c(e),cl(a,r)}}}function Ri(s){let e,t,l=s[55]+"",a,i,r,f,u,h,b=(s[22][s[55]].pullProgress??0)+"",p,m,g,E,w,k,I;E=new Yt({props:{content:s[23].t("Cancel"),$$slots:{default:[td]},$$scope:{ctx:s}}});let y="digest"in s[22][s[55]]&&Bi(s);return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("div"),h=d("div"),p=L(b),m=L("%"),g=A(),de(E.$$.fragment),w=A(),y&&y.c(),k=A(),this.h()},l(T){e=_(T,"DIV",{class:!0});var $=v(e);t=_($,"DIV",{class:!0});var S=v(t);a=U(S,l),S.forEach(c),i=D($),r=_($,"DIV",{class:!0});var N=v(r);f=_(N,"DIV",{class:!0});var V=v(f);u=_(V,"DIV",{class:!0});var C=v(u);h=_(C,"DIV",{class:!0,style:!0});var R=v(h);p=U(R,b),m=U(R,"%"),R.forEach(c),C.forEach(c),g=D(V),_e(E.$$.fragment,V),V.forEach(c),w=D(N),y&&y.l(N),N.forEach(c),k=D($),$.forEach(c),this.h()},h(){o(t,"class","font-medium mb-1"),o(h,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),_s(h,"width",Math.max(15,s[22][s[55]].pullProgress??0)+"%"),o(u,"class","flex-1"),o(f,"class","flex flex-row justify-between space-x-4 pr-2"),o(r,"class",""),o(e,"class","flex flex-col")},m(T,$){O(T,e,$),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),n(u,h),n(h,p),n(h,m),n(f,g),he(E,f,null),n(r,w),y&&y.m(r,null),n(e,k),I=!0},p(T,$){(!I||$[0]&4194304)&&l!==(l=T[55]+"")&&H(a,l),(!I||$[0]&4194304)&&b!==(b=(T[22][T[55]].pullProgress??0)+"")&&H(p,b),(!I||$[0]&4194304)&&_s(h,"width",Math.max(15,T[22][T[55]].pullProgress??0)+"%");const S={};$[0]&8388608&&(S.content=T[23].t("Cancel")),$[0]&4194304|$[1]&536870912&&(S.$$scope={dirty:$,ctx:T}),E.$set(S),"digest"in T[22][T[55]]?y?y.p(T,$):(y=Bi(T),y.c(),y.m(r,null)):y&&(y.d(1),y=null)},i(T){I||(K(E.$$.fragment,T),I=!0)},o(T){W(E.$$.fragment,T),I=!1},d(T){T&&c(e),pe(E),y&&y.d()}}}function td(s){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,a;function i(){return s[37](s[55])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=_(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Kt(e)!=="svelte-aeotdp"&&(e.innerHTML=t),this.h()},h(){o(e,"class","text-gray-800 dark:text-gray-100")},m(r,f){O(r,e,f),l||(a=se(e,"click",i),l=!0)},p(r,f){s=r},d(r){r&&c(e),l=!1,a()}}}function Bi(s){let e,t=s[22][s[55]].digest+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0,style:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","mt-1 text-xs dark:text-gray-500"),_s(e,"font-size","0.5rem")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&4194304&&t!==(t=a[22][a[55]].digest+"")&&H(l,t)},d(a){a&&c(e)}}}function Hi(s){let e,t,l="pullProgress"in s[22][s[55]]&&Ri(s);return{c(){l&&l.c(),e=Xt()},l(a){l&&l.l(a),e=Xt()},m(a,i){l&&l.m(a,i),O(a,e,i),t=!0},p(a,i){"pullProgress"in a[22][a[55]]?l?(l.p(a,i),i[0]&4194304&&K(l,1)):(l=Ri(a),l.c(),K(l,1),l.m(e.parentNode,e)):l&&(Vt(),W(l,1,1,()=>{l=null}),St())},i(a){t||(K(l),t=!0)},o(a){W(l),t=!1},d(a){a&&c(e),l&&l.d(a)}}}function ji(s){let e,t=s[23].t("Select a model")+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){e.__value="",ee(e,e.__value),e.disabled=!0,e.selected=!0},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("Select a model")+"")&&H(l,t)},d(a){a&&c(e)}}}function Gi(s){let e,t=s[55].name+" ("+(s[55].size/1073741824).toFixed(1)+" GB)",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=_(i,"OPTION",{class:!0});var r=v(e);l=U(r,t),r.forEach(c),this.h()},h(){e.__value=a=s[55].id,ee(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,r){O(i,e,r),n(e,l)},p(i,r){r[0]&8&&t!==(t=i[55].name+" ("+(i[55].size/1024**3).toFixed(1)+" GB)")&&H(l,t),r[0]&8&&a!==(a=i[55].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&c(e)}}}function Ki(s){let e,t,l,a,i,r,f,u,h=(s[13]??0)+"",b,p,m,g=s[12]&&Zi(s);return{c(){e=d("div"),t=d("div"),l=L(createModelTag),a=A(),i=d("div"),r=d("div"),f=d("div"),u=d("div"),b=L(h),p=L("%"),m=A(),g&&g.c(),this.h()},l(E){e=_(E,"DIV",{class:!0});var w=v(e);t=_(w,"DIV",{class:!0});var k=v(t);l=U(k,createModelTag),k.forEach(c),a=D(w),i=_(w,"DIV",{class:!0});var I=v(i);r=_(I,"DIV",{class:!0});var y=v(r);f=_(y,"DIV",{class:!0});var T=v(f);u=_(T,"DIV",{class:!0,style:!0});var $=v(u);b=U($,h),p=U($,"%"),$.forEach(c),T.forEach(c),y.forEach(c),m=D(I),g&&g.l(I),I.forEach(c),w.forEach(c),this.h()},h(){o(t,"class","font-medium mb-1"),o(u,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),_s(u,"width",Math.max(15,s[13]??0)+"%"),o(f,"class","flex-1"),o(r,"class","flex flex-row justify-between space-x-4 pr-2"),o(i,"class",""),o(e,"class","flex flex-col mt-1")},m(E,w){O(E,e,w),n(e,t),n(t,l),n(e,a),n(e,i),n(i,r),n(r,f),n(f,u),n(u,b),n(u,p),n(i,m),g&&g.m(i,null)},p(E,w){w[0]&8192&&h!==(h=(E[13]??0)+"")&&H(b,h),w[0]&8192&&_s(u,"width",Math.max(15,E[13]??0)+"%"),E[12]?g?g.p(E,w):(g=Zi(E),g.c(),g.m(i,null)):g&&(g.d(1),g=null)},d(E){E&&c(e),g&&g.d()}}}function Zi(s){let e,t;return{c(){e=d("div"),t=L(s[12]),this.h()},l(l){e=_(l,"DIV",{class:!0,style:!0});var a=v(e);t=U(a,s[12]),a.forEach(c),this.h()},h(){o(e,"class","mt-1 text-xs dark:text-gray-500"),_s(e,"font-size","0.5rem")},m(l,a){O(l,e,a),n(e,t)},p(l,a){a[0]&4096&&H(t,l[12])},d(l){l&&c(e)}}}function qi(s){let e,t,l,a=s[23].t("Upload a GGUF model")+"",i,r,f,u,h,b,p,m,g,E,w=s[23].t("To access the GGUF models available for downloading,")+"",k,I,y,T=s[23].t("click here.")+"",$,S,N,V;function C(q,Q){return q[14]==="file"?sd:ld}let R=C(s),P=R(s);function Z(q,Q){return q[14]==="file"?rd:ad}let B=Z(s),M=B(s),j=(s[14]==="file"&&s[15]&&s[15].length>0||s[14]==="url"&&s[16]!=="")&&Wi(s),G=(s[14]==="file"&&s[15]&&s[15].length>0||s[14]==="url"&&s[16]!=="")&&Fi(s);function Y(q,Q){if(q[20])return cd;if(q[19]!==null)return fd}let z=Y(s),X=z&&z(s);return{c(){e=d("form"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("button"),P.c(),u=A(),h=d("div"),b=d("div"),M.c(),p=A(),j&&j.c(),m=A(),G&&G.c(),g=A(),E=d("div"),k=L(w),I=A(),y=d("a"),$=L(T),S=A(),X&&X.c(),this.h()},l(q){e=_(q,"FORM",{});var Q=v(e);t=_(Q,"DIV",{class:!0});var te=v(t);l=_(te,"DIV",{class:!0});var x=v(l);i=U(x,a),x.forEach(c),r=D(te),f=_(te,"BUTTON",{class:!0,type:!0});var F=v(f);P.l(F),F.forEach(c),te.forEach(c),u=D(Q),h=_(Q,"DIV",{class:!0});var J=v(h);b=_(J,"DIV",{class:!0});var ae=v(b);M.l(ae),ae.forEach(c),p=D(J),j&&j.l(J),J.forEach(c),m=D(Q),G&&G.l(Q),g=D(Q),E=_(Q,"DIV",{class:!0});var ue=v(E);k=U(ue,w),I=D(ue),y=_(ue,"A",{class:!0,href:!0,target:!0});var ne=v(y);$=U(ne,T),ne.forEach(c),ue.forEach(c),S=D(Q),X&&X.l(Q),Q.forEach(c),this.h()},h(){o(l,"class","text-sm font-medium"),o(f,"class","p-1 px-3 text-xs flex rounded transition"),o(f,"type","button"),o(t,"class","mb-2 flex w-full justify-between"),o(b,"class","flex flex-col w-full"),o(h,"class","flex w-full mb-1.5"),o(y,"class","text-gray-500 dark:text-gray-300 font-medium underline"),o(y,"href","https://huggingface.co/models?search=gguf"),o(y,"target","_blank"),o(E,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(q,Q){O(q,e,Q),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),P.m(f,null),n(e,u),n(e,h),n(h,b),M.m(b,null),n(h,p),j&&j.m(h,null),n(e,m),G&&G.m(e,null),n(e,g),n(e,E),n(E,k),n(E,I),n(E,y),n(y,$),n(e,S),X&&X.m(e,null),N||(V=[se(f,"click",s[44]),se(e,"submit",rs(s[51]))],N=!0)},p(q,Q){Q[0]&8388608&&a!==(a=q[23].t("Upload a GGUF model")+"")&&H(i,a),R===(R=C(q))&&P?P.p(q,Q):(P.d(1),P=R(q),P&&(P.c(),P.m(f,null))),B===(B=Z(q))&&M?M.p(q,Q):(M.d(1),M=B(q),M&&(M.c(),M.m(b,null))),q[14]==="file"&&q[15]&&q[15].length>0||q[14]==="url"&&q[16]!==""?j?j.p(q,Q):(j=Wi(q),j.c(),j.m(h,null)):j&&(j.d(1),j=null),q[14]==="file"&&q[15]&&q[15].length>0||q[14]==="url"&&q[16]!==""?G?G.p(q,Q):(G=Fi(q),G.c(),G.m(e,g)):G&&(G.d(1),G=null),Q[0]&8388608&&w!==(w=q[23].t("To access the GGUF models available for downloading,")+"")&&H(k,w),Q[0]&8388608&&T!==(T=q[23].t("click here.")+"")&&H($,T),z===(z=Y(q))&&X?X.p(q,Q):(X&&X.d(1),X=z&&z(q),X&&(X.c(),X.m(e,null)))},d(q){q&&c(e),P.d(),M.d(),j&&j.d(),G&&G.d(),X&&X.d(),N=!1,ul(V)}}}function ld(s){let e,t=s[23].t("URL Mode")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("URL Mode")+"")&&H(l,t)},d(a){a&&c(e)}}}function sd(s){let e,t=s[23].t("File Mode")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("File Mode")+"")&&H(l,t)},d(a){a&&c(e)}}}function ad(s){let e,t,l,a,i,r,f;return{c(){e=d("div"),t=d("input"),this.h()},l(u){e=_(u,"DIV",{class:!0});var h=v(e);t=_(h,"INPUT",{class:!0,type:!0,placeholder:!0}),h.forEach(c),this.h()},h(){o(t,"class",l="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none "+(s[16]!==""?"mr-2":"")),o(t,"type","url"),t.required=!0,o(t,"placeholder",a=s[23].t("Type Hugging Face Resolve (Download) URL")),o(e,"class",i="flex-1 "+(s[16]!==""?"mr-2":""))},m(u,h){O(u,e,h),n(e,t),ee(t,s[16]),r||(f=se(t,"input",s[49]),r=!0)},p(u,h){h[0]&65536&&l!==(l="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none "+(u[16]!==""?"mr-2":""))&&o(t,"class",l),h[0]&8388608&&a!==(a=u[23].t("Type Hugging Face Resolve (Download) URL"))&&o(t,"placeholder",a),h[0]&65536&&t.value!==u[16]&&ee(t,u[16]),h[0]&65536&&i!==(i="flex-1 "+(u[16]!==""?"mr-2":""))&&o(e,"class",i)},d(u){u&&c(e),r=!1,f()}}}function rd(s){let e,t,l,a,i,r,f;function u(p,m){return p[15]&&p[15].length>0?id:nd}let h=u(s),b=h(s);return{c(){e=d("div"),t=d("input"),l=A(),a=d("button"),b.c(),this.h()},l(p){e=_(p,"DIV",{class:!0});var m=v(e);t=_(m,"INPUT",{id:!0,type:!0,accept:!0}),l=D(m),a=_(m,"BUTTON",{type:!0,class:!0});var g=v(a);b.l(g),g.forEach(c),m.forEach(c),this.h()},h(){o(t,"id","model-upload-input"),o(t,"type","file"),o(t,"accept",".gguf,.safetensors"),t.required=!0,t.hidden=!0,o(a,"type","button"),o(a,"class","w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850"),o(e,"class",i="flex-1 "+(s[15]&&s[15].length>0?"mr-2":""))},m(p,m){O(p,e,m),n(e,t),s[45](t),n(e,l),n(e,a),b.m(a,null),r||(f=[se(t,"change",s[46]),se(t,"change",s[47]),se(a,"click",s[48])],r=!0)},p(p,m){h===(h=u(p))&&b?b.p(p,m):(b.d(1),b=h(p),b&&(b.c(),b.m(a,null))),m[0]&32768&&i!==(i="flex-1 "+(p[15]&&p[15].length>0?"mr-2":""))&&o(e,"class",i)},d(p){p&&c(e),s[45](null),b.d(),r=!1,ul(f)}}}function nd(s){let e=s[23].t("Click here to select")+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&8388608&&e!==(e=l[23].t("Click here to select")+"")&&H(t,e)},d(l){l&&c(t)}}}function id(s){let e=s[15][0].name+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&32768&&e!==(e=l[15][0].name+"")&&H(t,e)},d(l){l&&c(t)}}}function Wi(s){let e;function t(i,r){return i[7]?ud:od}let l=t(s),a=l(s);return{c(){e=d("button"),a.c(),this.h()},l(i){e=_(i,"BUTTON",{class:!0,type:!0});var r=v(e);a.l(r),r.forEach(c),this.h()},h(){o(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition"),o(e,"type","submit"),e.disabled=s[7]},m(i,r){O(i,e,r),a.m(e,null)},p(i,r){l!==(l=t(i))&&(a.d(1),a=l(i),a&&(a.c(),a.m(e,null))),r[0]&128&&(e.disabled=i[7])},d(i){i&&c(e),a.d()}}}function od(s){let e,t,l;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),this.h()},l(a){e=al(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=al(i,"path",{d:!0}),v(t).forEach(c),l=al(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){O(a,e,i),n(e,t),n(e,l)},d(a){a&&c(e)}}}function ud(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
														transform-origin: center;
														animation: spinner_AtaB 0.75s infinite linear;
													}

													@keyframes spinner_AtaB {
														100% {
															transform: rotate(360deg);
														}
													}
												</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Kt(e)!=="svelte-j1a4yh"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function Fi(s){let e,t,l,a=s[23].t("Modelfile Content")+"",i,r,f,u,h;return{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("textarea"),this.h()},l(b){e=_(b,"DIV",{});var p=v(e);t=_(p,"DIV",{});var m=v(t);l=_(m,"DIV",{class:!0});var g=v(l);i=U(g,a),g.forEach(c),r=D(m),f=_(m,"TEXTAREA",{class:!0,rows:!0}),v(f).forEach(c),m.forEach(c),p.forEach(c),this.h()},h(){o(l,"class","my-2.5 text-sm font-medium"),o(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none"),o(f,"rows","6")},m(b,p){O(b,e,p),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),ee(f,s[17]),u||(h=se(f,"input",s[50]),u=!0)},p(b,p){p[0]&8388608&&a!==(a=b[23].t("Modelfile Content")+"")&&H(i,a),p[0]&131072&&ee(f,b[17])},d(b){b&&c(e),u=!1,h()}}}function fd(s){let e,t,l=s[23].t("Upload Progress")+"",a,i,r,f,u=(s[19]??0)+"",h,b,p,m,g;return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),h=L(u),b=L("%"),p=A(),m=d("div"),g=L(s[18]),this.h()},l(E){e=_(E,"DIV",{class:!0});var w=v(e);t=_(w,"DIV",{class:!0});var k=v(t);a=U(k,l),k.forEach(c),i=D(w),r=_(w,"DIV",{class:!0});var I=v(r);f=_(I,"DIV",{class:!0,style:!0});var y=v(f);h=U(y,u),b=U(y,"%"),y.forEach(c),I.forEach(c),p=D(w),m=_(w,"DIV",{class:!0,style:!0});var T=v(m);g=U(T,s[18]),T.forEach(c),w.forEach(c),this.h()},h(){o(t,"class","mb-2 text-xs"),o(f,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),_s(f,"width",Math.max(15,s[19]??0)+"%"),o(r,"class","w-full rounded-full dark:bg-gray-800"),o(m,"class","mt-1 text-xs dark:text-gray-500"),_s(m,"font-size","0.5rem"),o(e,"class","mt-2")},m(E,w){O(E,e,w),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,h),n(f,b),n(e,p),n(e,m),n(m,g)},p(E,w){w[0]&8388608&&l!==(l=E[23].t("Upload Progress")+"")&&H(a,l),w[0]&524288&&u!==(u=(E[19]??0)+"")&&H(h,u),w[0]&524288&&_s(f,"width",Math.max(15,E[19]??0)+"%"),w[0]&262144&&H(g,E[18])},d(E){E&&c(e)}}}function cd(s){let e,t,l=s[23].t("Upload Progress")+"",a,i,r,f,u,h,b,p;return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=L(s[20]),h=A(),b=d("div"),p=L(s[18]),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);a=U(E,l),E.forEach(c),i=D(g),r=_(g,"DIV",{class:!0});var w=v(r);f=_(w,"DIV",{class:!0,style:!0});var k=v(f);u=U(k,s[20]),k.forEach(c),w.forEach(c),h=D(g),b=_(g,"DIV",{class:!0,style:!0});var I=v(b);p=U(I,s[18]),I.forEach(c),g.forEach(c),this.h()},h(){o(t,"class","mb-2 text-xs"),o(f,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),_s(f,"width","100%"),o(r,"class","w-full rounded-full dark:bg-gray-800"),o(b,"class","mt-1 text-xs dark:text-gray-500"),_s(b,"font-size","0.5rem"),o(e,"class","mt-2")},m(m,g){O(m,e,g),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),n(e,h),n(e,b),n(b,p)},p(m,g){g[0]&8388608&&l!==(l=m[23].t("Upload Progress")+"")&&H(a,l),g[0]&1048576&&H(u,m[20]),g[0]&262144&&H(p,m[18])},d(m){m&&c(e)}}}function dd(s){let e,t,l,a,i,r,f;function u(g){s[32](g)}let h={};s[1]!==void 0&&(h.show=s[1]),e=new Ja({props:h}),it.push(()=>ht(e,"show",u)),e.$on("confirm",s[33]);const b=[Jc,Qc,zc],p=[];function m(g,E){return g[2]?g[3]===null?1:2:0}return a=m(s),i=p[a]=b[a](s),{c(){de(e.$$.fragment),l=A(),i.c(),r=Xt()},l(g){_e(e.$$.fragment,g),l=D(g),i.l(g),r=Xt()},m(g,E){he(e,g,E),O(g,l,E),p[a].m(g,E),O(g,r,E),f=!0},p(g,E){const w={};!t&&E[0]&2&&(t=!0,w.show=g[1],_t(()=>t=!1)),e.$set(w);let k=a;a=m(g),a===k?p[a].p(g,E):(Vt(),W(p[k],1,1,()=>{p[k]=null}),St(),i=p[a],i?i.p(g,E):(i=p[a]=b[a](g),i.c()),K(i,1),i.m(r.parentNode,r))},i(g){f||(K(e.$$.fragment,g),K(i),f=!0)},o(g){W(e.$$.fragment,g),W(i),f=!1},d(g){g&&(c(l),c(r)),pe(e,g),p[a].d(g)}}}const _d=3;function hd(s,e,t){let l,a;nl(s,aa,ve=>t(22,l=ve));const i=Il("i18n");nl(s,i,ve=>t(23,a=ve));let r,f=!1,u=!0,{urlIdx:h=null}=e,b=[],p=null,m=null,g=!1,E=!1,w="",k=!1,I="",y="",T="",$=null,S="",N=null,V="file",C=null,R="",P=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,Z="",B=null,M="",j="";const G=async()=>{for(const ve of b){console.log(ve),t(4,p=ve.id);const[ye,fe]=await mn(localStorage.token,ve.id,h).catch(me=>(Ye.error(`${me}`),null));if(ye){const me=ye.body.pipeThrough(new TextDecoderStream).pipeThrough(ma(`
`)).getReader();for(;;)try{const{value:Oe,done:Me}=await me.read();if(Me)break;let Ge=Oe.split(`
`);for(const Re of Ge)if(Re!==""){let Ze=JSON.parse(Re);if(console.log(Ze),Ze.error)throw Ze.error;if(Ze.detail)throw Ze.detail;Ze.status&&(Ze.digest?(t(5,m=0),Ze.completed?t(5,m=Math.round(Ze.completed/Ze.total*1e3)/10):t(5,m=100)):Ye.success(Ze.status))}}catch(Oe){console.log(Oe)}}}t(4,p=null),t(5,m=null)},Y=async()=>{const ve=w.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(l),l[ve]){Ye.error(a.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:ve}));return}if(Object.keys(l).length===_d){Ye.error(a.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[ye,fe]=await mn(localStorage.token,ve,h).catch(me=>(Ye.error(`${me}`),null));if(ye){const me=ye.body.pipeThrough(new TextDecoderStream).pipeThrough(ma(`
`)).getReader();for(aa.set({...l,[ve]:{...l[ve],abortController:fe,reader:me,done:!1}});;)try{const{value:Oe,done:Me}=await me.read();if(Me)break;let Ge=Oe.split(`
`);for(const Re of Ge)if(Re!==""){let Ze=JSON.parse(Re);if(console.log(Ze),Ze.error)throw Ze.error;if(Ze.detail)throw Ze.detail;if(Ze.status)if(Ze.digest){let Ke=0;Ze.completed?Ke=Math.round(Ze.completed/Ze.total*1e3)/10:Ke=100,aa.set({...l,[ve]:{...l[ve],pullProgress:Ke,digest:Ze.digest}})}else Ye.success(Ze.status),aa.set({...l,[ve]:{...l[ve],done:Ze.status==="success"}})}}catch(Oe){console.log(Oe),typeof Oe!="string"&&(Oe=Oe.message),Ye.error(`${Oe}`)}console.log(l[ve]),l[ve].done?(Ye.success(a.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:ve})),Dl.set(await Bl(localStorage.token))):Ye.error(a.t("Download canceled")),delete l[ve],aa.set({...l})}t(8,w=""),t(7,E=!1)},z=async()=>{t(7,E=!0);let ve=!1,ye=null,fe="";if(V==="file"){const me=C?C[0]:null;me&&(t(20,M="Uploading..."),ye=await ju(localStorage.token,me,h).catch(Oe=>(Ye.error(`${Oe}`),null)))}else t(19,B=0),ye=await Gu(localStorage.token,R,h).catch(me=>(Ye.error(`${me}`),null));if(ye&&ye.ok){const me=ye.body.pipeThrough(new TextDecoderStream).pipeThrough(ma(`
`)).getReader();for(;;){const{value:Oe,done:Me}=await me.read();if(Me)break;try{let Ge=Oe.split(`
`);for(const Re of Ge)if(Re!==""){let Ze=JSON.parse(Re.replace(/^data: /,""));if(Ze.progress&&(M&&t(20,M=""),t(19,B=Ze.progress)),Ze.error)throw Ze.error;Ze.done&&(t(18,Z=Ze.blob),fe=Ze.name,ve=!0)}}catch(Ge){console.log(Ge)}}}else{const me=await(ye==null?void 0:ye.json());Ye.error((me==null?void 0:me.detail)??me)}if(ve){const me=await bn(localStorage.token,`${fe}:latest`,`FROM @${Z}
${P}`);if(me&&me.ok){const Oe=me.body.pipeThrough(new TextDecoderStream).pipeThrough(ma(`
`)).getReader();for(;;){const{value:Me,done:Ge}=await Oe.read();if(Ge)break;try{let Re=Me.split(`
`);for(const Ze of Re)if(Ze!==""){console.log(Ze);let Ke=JSON.parse(Ze);if(console.log(Ke),Ke.error)throw Ke.error;if(Ke.detail)throw Ke.detail;Ke.status&&(!Ke.digest&&!Ke.status.includes("writing")&&!Ke.status.includes("sha256")?Ye.success(Ke.status):Ke.digest&&(S=Ke.digest,Ke.completed?N=Math.round(Ke.completed/Ke.total*1e3)/10:N=100))}}catch(Re){console.log(Re),Ye.error(`${Re}`)}}}}t(16,R=""),r&&t(0,r.value="",r),t(15,C=null),t(7,E=!1),t(19,B=null),Dl.set(await Bl(localStorage.token))},X=async()=>{await gn(localStorage.token,j,h).catch(ye=>{Ye.error(`${ye}`)})&&Ye.success(a.t("Deleted {{deleteModelTag}}",{deleteModelTag:j})),t(21,j=""),Dl.set(await Bl(localStorage.token))},q=async ve=>{const{reader:ye,abortController:fe}=l[ve];fe&&fe.abort(),ye&&(await ye.cancel(),delete l[ve],aa.set({...l}),await gn(localStorage.token,ve),Ye.success(`${ve} download has been canceled`))},Q=async()=>{t(9,k=!0);let ve={};try{ve=JSON.parse(y)}catch(fe){Ye.error(`${fe}`),t(9,k=!1);return}const ye=await bn(localStorage.token,{model:I,...ve},h).catch(fe=>(Ye.error(`${fe}`),null));if(ye&&ye.ok){const fe=ye.body.pipeThrough(new TextDecoderStream).pipeThrough(ma(`
`)).getReader();for(;;){const{value:me,done:Oe}=await fe.read();if(Oe)break;try{let Me=me.split(`
`);for(const Ge of Me)if(Ge!==""){console.log(Ge);let Re=JSON.parse(Ge);if(console.log(Re),Re.error)throw Re.error;if(Re.detail)throw Re.detail;Re.status&&(!Re.digest&&!Re.status.includes("writing")&&!Re.status.includes("sha256")?Ye.success(Re.status):Re.digest&&(t(12,T=Re.digest),Re.completed?t(13,$=Math.round(Re.completed/Re.total*1e3)/10):t(13,$=100)))}}catch(Me){console.log(Me),Ye.error(`${Me}`)}}}Dl.set(await Bl(localStorage.token)),t(9,k=!1),t(10,I=""),t(11,y=""),t(12,T=""),t(13,$=null)},te=async()=>{t(2,u=!0),t(3,b=await Hu(localStorage.token,h).catch(ve=>(Ye.error(`${ve}`),null))),b&&t(2,u=!1)};function x(ve){f=ve,t(1,f)}const F=()=>{X()},J=()=>{G()};function ae(){w=this.value,t(8,w)}const ue=()=>{Y()},ne=ve=>{q(ve)};function $e(){j=Sl(this),t(21,j),t(3,b)}const ge=()=>{t(1,f=!0)};function Le(){I=this.value,t(10,I)}function be(){y=this.value,t(11,y)}const He=()=>{Q()},Ve=()=>{t(6,g=!g)},ie=()=>{V==="file"?t(14,V="url"):t(14,V="file")};function le(ve){it[ve?"unshift":"push"](()=>{r=ve,t(0,r)})}function Ee(){C=this.files,t(15,C)}const ce=()=>{console.log(C)},ke=()=>{r.click()};function Ie(){R=this.value,t(16,R)}function ze(){P=this.value,t(17,P)}const Qe=()=>{z()};return s.$$set=ve=>{"urlIdx"in ve&&t(31,h=ve.urlIdx)},s.$$.update=()=>{s.$$.dirty[1]&1&&h!==null&&te()},[r,f,u,b,p,m,g,E,w,k,I,y,T,$,V,C,R,P,Z,B,M,j,l,a,i,G,Y,z,X,q,Q,h,x,F,J,ae,ue,ne,$e,ge,Le,be,He,Ve,ie,le,Ee,ce,ke,Ie,ze,Qe]}class Ko extends vl{constructor(e){super(),ml(this,e,hd,dd,pl,{urlIdx:31},null,[-1,-1])}}function Yi(s,e,t){const l=s.slice();return l[5]=e[t],l[7]=t,l}function zi(s){let e,t,l,a,i,r,f,u,h=yt(s[0].OLLAMA_BASE_URLS),b=[];for(let p=0;p<h.length;p+=1)b[p]=Qi(Yi(s,h,p));return i=new Ko({props:{urlIdx:s[1]}}),{c(){e=d("div"),t=d("select");for(let p=0;p<b.length;p+=1)b[p].c();a=A(),de(i.$$.fragment),this.h()},l(p){e=_(p,"DIV",{class:!0});var m=v(e);t=_(m,"SELECT",{class:!0,placeholder:!0});var g=v(t);for(let E=0;E<b.length;E+=1)b[E].l(g);g.forEach(c),m.forEach(c),a=D(p),_e(i.$$.fragment,p),this.h()},h(){o(t,"class","w-full py-2 px-4 text-sm outline-none bg-transparent"),o(t,"placeholder",l=s[2].t("Select an Ollama instance")),s[1]===void 0&&Nl(()=>s[4].call(t)),o(e,"class","flex-1 mb-2.5 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850")},m(p,m){O(p,e,m),n(e,t);for(let g=0;g<b.length;g+=1)b[g]&&b[g].m(t,null);Jt(t,s[1],!0),O(p,a,m),he(i,p,m),r=!0,f||(u=se(t,"change",s[4]),f=!0)},p(p,m){if(m&1){h=yt(p[0].OLLAMA_BASE_URLS);let E;for(E=0;E<h.length;E+=1){const w=Yi(p,h,E);b[E]?b[E].p(w,m):(b[E]=Qi(w),b[E].c(),b[E].m(t,null))}for(;E<b.length;E+=1)b[E].d(1);b.length=h.length}(!r||m&4&&l!==(l=p[2].t("Select an Ollama instance")))&&o(t,"placeholder",l),m&2&&Jt(t,p[1]);const g={};m&2&&(g.urlIdx=p[1]),i.$set(g)},i(p){r||(K(i.$$.fragment,p),r=!0)},o(p){W(i.$$.fragment,p),r=!1},d(p){p&&(c(e),c(a)),cl(b,p),pe(i,p),f=!1,u()}}}function Qi(s){let e,t=s[5]+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){e.__value=s[7],ee(e,e.__value)},m(a,i){O(a,e,i),n(e,l)},p(a,i){i&1&&t!==(t=a[5]+"")&&H(l,t)},d(a){a&&c(e)}}}function pd(s){let e,t,l=s[0]&&zi(s);return{c(){l&&l.c(),e=Xt()},l(a){l&&l.l(a),e=Xt()},m(a,i){l&&l.m(a,i),O(a,e,i),t=!0},p(a,[i]){a[0]?l?(l.p(a,i),i&1&&K(l,1)):(l=zi(a),l.c(),K(l,1),l.m(e.parentNode,e)):l&&(Vt(),W(l,1,1,()=>{l=null}),St())},i(a){t||(K(l),t=!0)},o(a){W(l),t=!1},d(a){a&&c(e),l&&l.d(a)}}}function vd(s,e,t){let l;const a=Il("i18n");nl(s,a,u=>t(2,l=u));let{ollamaConfig:i=null}=e,r=0;function f(){r=Sl(this),t(1,r)}return s.$$set=u=>{"ollamaConfig"in u&&t(0,i=u.ollamaConfig)},[i,r,l,a,f]}class md extends vl{constructor(e){super(),ml(this,e,vd,pd,pl,{ollamaConfig:0})}}function gd(s){let e,t,l;return t=new Is({}),{c(){e=d("div"),de(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(c),this.h()},h(){o(e,"class","py-5")},m(a,i){O(a,e,i),he(t,e,null),l=!0},p:vt,i(a){l||(K(t.$$.fragment,a),l=!0)},o(a){W(t.$$.fragment,a),l=!1},d(a){a&&c(e),pe(t)}}}function bd(s){let e,t,l,a=s[3].t("Ollama")+"",i,r,f,u,h,b,p,m=s[1]==="ollama"&&Ji(s);return{c(){e=d("div"),t=d("div"),l=d("button"),i=L(a),f=A(),u=d("div"),m&&m.c(),this.h()},l(g){e=_(g,"DIV",{class:!0});var E=v(e);t=_(E,"DIV",{class:!0});var w=v(t);l=_(w,"BUTTON",{class:!0});var k=v(l);i=U(k,a),k.forEach(c),w.forEach(c),f=D(E),u=_(E,"DIV",{class:!0});var I=v(u);m&&m.l(I),I.forEach(c),E.forEach(c),this.h()},h(){o(l,"class",r="min-w-fit rounded-full p-1.5 "+(s[1]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),o(t,"class","flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent dark:text-gray-200"),o(u,"class","px-1.5 py-1"),o(e,"class","flex w-full flex-col")},m(g,E){O(g,e,E),n(e,t),n(t,l),n(l,i),n(e,f),n(e,u),m&&m.m(u,null),h=!0,b||(p=se(l,"click",s[6]),b=!0)},p(g,E){(!h||E&8)&&a!==(a=g[3].t("Ollama")+"")&&H(i,a),(!h||E&2&&r!==(r="min-w-fit rounded-full p-1.5 "+(g[1]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"))&&o(l,"class",r),g[1]==="ollama"?m?(m.p(g,E),E&2&&K(m,1)):(m=Ji(g),m.c(),K(m,1),m.m(u,null)):m&&(Vt(),W(m,1,1,()=>{m=null}),St())},i(g){h||(K(m),h=!0)},o(g){W(m),h=!1},d(g){g&&c(e),m&&m.d(),b=!1,p()}}}function Ed(s){let e,t,l=s[3].t("No inference engine with management support found")+"",a;return{c(){e=d("div"),t=d("div"),a=L(l),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{});var f=v(t);a=U(f,l),f.forEach(c),r.forEach(c),this.h()},h(){o(e,"class","py-5 text-gray-400 text-xs")},m(i,r){O(i,e,r),n(e,t),n(t,a)},p(i,r){r&8&&l!==(l=i[3].t("No inference engine with management support found")+"")&&H(a,l)},i:vt,o:vt,d(i){i&&c(e)}}}function Ji(s){let e,t;return e=new md({props:{ollamaConfig:s[2]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p(l,a){const i={};a&4&&(i.ollamaConfig=l[2]),e.$set(i)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function wd(s){let e,t,l,a=s[3].t("Manage Models")+"",i,r,f,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,b,p,m,g,E,w,k;const I=[Ed,bd,gd],y=[];function T($,S){return $[1]===""?0:$[1]!==null?1:2}return m=T(s),g=y[m]=I[m](s),{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("button"),f.innerHTML=u,h=A(),b=d("div"),p=d("div"),g.c(),this.h()},l($){e=_($,"DIV",{});var S=v(e);t=_(S,"DIV",{class:!0});var N=v(t);l=_(N,"DIV",{class:!0});var V=v(l);i=U(V,a),V.forEach(c),r=D(N),f=_(N,"BUTTON",{class:!0,"data-svelte-h":!0}),Kt(f)!=="svelte-745w2y"&&(f.innerHTML=u),N.forEach(c),h=D(S),b=_(S,"DIV",{class:!0});var C=v(b);p=_(C,"DIV",{class:!0});var R=v(p);g.l(R),R.forEach(c),C.forEach(c),S.forEach(c),this.h()},h(){o(l,"class","text-lg font-medium self-center font-primary"),o(f,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4"),o(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(b,"class","flex flex-col md:flex-row w-full px-3 pb-4 md:space-x-4 dark:text-gray-200")},m($,S){O($,e,S),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),n(e,h),n(e,b),n(b,p),y[m].m(p,null),E=!0,w||(k=se(f,"click",s[5]),w=!0)},p($,S){(!E||S&8)&&a!==(a=$[3].t("Manage Models")+"")&&H(i,a);let N=m;m=T($),m===N?y[m].p($,S):(Vt(),W(y[N],1,1,()=>{y[N]=null}),St(),g=y[m],g?g.p($,S):(g=y[m]=I[m]($),g.c()),K(g,1),g.m(p,null))},i($){E||(K(g),E=!0)},o($){W(g),E=!1},d($){$&&c(e),y[m].d(),w=!1,k()}}}function kd(s){let e,t,l;function a(r){s[7](r)}let i={size:"sm",$$slots:{default:[wd]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Ea({props:i}),it.push(()=>ht(e,"show",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,[f]){const u={};f&1039&&(u.$$scope={dirty:f,ctx:r}),!t&&f&1&&(t=!0,u.show=r[0],_t(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){W(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function Id(s,e,t){let l,a;nl(s,ia,m=>t(8,l=m));const i=Il("i18n");nl(s,i,m=>t(3,a=m)),gs();let{show:r=!1}=e,f=null,u=null;Hl(async()=>{if(l.role==="admin"){if(await Promise.all([(async()=>{t(2,u=await Ho(localStorage.token))})()]),u){t(1,f="ollama");return}t(1,f="")}});const h=()=>{t(0,r=!1)},b=()=>{t(1,f="ollama")};function p(m){r=m,t(0,r)}return s.$$set=m=>{"show"in m&&t(0,r=m.show)},[r,f,u,a,i,h,b,p]}class yd extends vl{constructor(e){super(),ml(this,e,Id,kd,pl,{show:0})}}function Xi(s,e,t){const l=s.slice();return l[35]=e[t],l[36]=e,l[37]=t,l}function Td(s){let e,t,l;return t=new Is({}),{c(){e=d("div"),de(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(c),this.h()},h(){o(e,"class","h-full w-full flex justify-center items-center")},m(a,i){O(a,e,i),he(t,e,null),l=!0},p:vt,i(a){l||(K(t.$$.fragment,a),l=!0)},o(a){W(t.$$.fragment,a),l=!1},d(a){a&&c(e),pe(t)}}}function Ad(s){let e,t,l,a;const i=[$d,Dd],r=[];function f(u,h){return u[5]===null?0:1}return e=f(s),t=r[e]=i[e](s),{c(){t.c(),l=Xt()},l(u){t.l(u),l=Xt()},m(u,h){r[e].m(u,h),O(u,l,h),a=!0},p(u,h){let b=e;e=f(u),e===b?r[e].p(u,h):(Vt(),W(r[b],1,1,()=>{r[b]=null}),St(),t=r[e],t?t.p(u,h):(t=r[e]=i[e](u),t.c()),K(t,1),t.m(l.parentNode,l))},i(u){a||(K(t),a=!0)},o(u){W(t),a=!1},d(u){u&&c(l),r[e].d(u)}}}function Dd(s){let e,t;return e=new Cu({props:{edit:!0,model:s[0].find(s[29]),preset:!1,onSubmit:s[30],onBack:s[31]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p(l,a){const i={};a[0]&33&&(i.model=l[0].find(l[29])),a[0]&32&&(i.onSubmit=l[30]),a[0]&32&&(i.onBack=l[31]),e.$set(i)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function $d(s){var x;let e,t,l,a=s[8].t("Models")+"",i,r,f,u,h,b=s[4].length+"",p,m,g,E,w,k,I,y,T,$,S,N,V,C,R,P,Z,B,M,j,G,Y,z;E=new Yt({props:{content:s[8].t("Manage Models"),$$slots:{default:[Vd]},$$scope:{ctx:s}}}),k=new Yt({props:{content:s[8].t("Settings"),$$slots:{default:[Sd]},$$scope:{ctx:s}}}),S=new Uu({props:{className:"size-3.5"}});const X=[Md,Nd],q=[];function Q(F,J){return F[0].length>0?0:1}Z=Q(s),B=q[Z]=X[Z](s);let te=((x=s[9])==null?void 0:x.role)==="admin"&&eo(s);return{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("div"),u=A(),h=d("span"),p=L(b),m=A(),g=d("div"),de(E.$$.fragment),w=A(),de(k.$$.fragment),I=A(),y=d("div"),T=d("div"),$=d("div"),de(S.$$.fragment),N=A(),V=d("input"),R=A(),P=d("div"),B.c(),M=A(),te&&te.c(),j=Xt(),this.h()},l(F){e=_(F,"DIV",{class:!0});var J=v(e);t=_(J,"DIV",{class:!0});var ae=v(t);l=_(ae,"DIV",{class:!0});var ue=v(l);i=U(ue,a),r=D(ue),f=_(ue,"DIV",{class:!0}),v(f).forEach(c),u=D(ue),h=_(ue,"SPAN",{class:!0});var ne=v(h);p=U(ne,b),ne.forEach(c),ue.forEach(c),m=D(ae),g=_(ae,"DIV",{class:!0});var $e=v(g);_e(E.$$.fragment,$e),w=D($e),_e(k.$$.fragment,$e),$e.forEach(c),ae.forEach(c),I=D(J),y=_(J,"DIV",{class:!0});var ge=v(y);T=_(ge,"DIV",{class:!0});var Le=v(T);$=_(Le,"DIV",{class:!0});var be=v($);_e(S.$$.fragment,be),be.forEach(c),N=D(Le),V=_(Le,"INPUT",{class:!0,placeholder:!0}),Le.forEach(c),ge.forEach(c),J.forEach(c),R=D(F),P=_(F,"DIV",{class:!0,id:!0});var He=v(P);B.l(He),He.forEach(c),M=D(F),te&&te.l(F),j=Xt(),this.h()},h(){o(f,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),o(h,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),o(l,"class","flex items-center md:self-center text-xl font-medium px-0.5"),o(g,"class","flex items-center gap-1.5"),o(t,"class","flex justify-between items-center"),o($,"class","self-center ml-1 mr-3"),o(V,"class","w-full text-sm py-1 rounded-r-xl outline-none bg-transparent"),o(V,"placeholder",C=s[8].t("Search Models")),o(T,"class","flex flex-1 items-center"),o(y,"class","flex flex-1 items-center w-full space-x-2"),o(e,"class","flex flex-col gap-1 mt-1.5 mb-2"),o(P,"class","my-2 mb-5"),o(P,"id","model-list")},m(F,J){O(F,e,J),n(e,t),n(t,l),n(l,i),n(l,r),n(l,f),n(l,u),n(l,h),n(h,p),n(t,m),n(t,g),he(E,g,null),n(g,w),he(k,g,null),n(e,I),n(e,y),n(y,T),n(T,$),he(S,$,null),n(T,N),n(T,V),ee(V,s[1]),O(F,R,J),O(F,P,J),q[Z].m(P,null),O(F,M,J),te&&te.m(F,J),O(F,j,J),G=!0,Y||(z=se(V,"input",s[19]),Y=!0)},p(F,J){var $e;(!G||J[0]&256)&&a!==(a=F[8].t("Models")+"")&&H(i,a),(!G||J[0]&16)&&b!==(b=F[4].length+"")&&H(p,b);const ae={};J[0]&256&&(ae.content=F[8].t("Manage Models")),J[0]&128|J[1]&128&&(ae.$$scope={dirty:J,ctx:F}),E.$set(ae);const ue={};J[0]&256&&(ue.content=F[8].t("Settings")),J[0]&64|J[1]&128&&(ue.$$scope={dirty:J,ctx:F}),k.$set(ue),(!G||J[0]&256&&C!==(C=F[8].t("Search Models")))&&o(V,"placeholder",C),J[0]&2&&V.value!==F[1]&&ee(V,F[1]);let ne=Z;Z=Q(F),Z===ne?q[Z].p(F,J):(Vt(),W(q[ne],1,1,()=>{q[ne]=null}),St(),B=q[Z],B?B.p(F,J):(B=q[Z]=X[Z](F),B.c()),K(B,1),B.m(P,null)),(($e=F[9])==null?void 0:$e.role)==="admin"?te?te.p(F,J):(te=eo(F),te.c(),te.m(j.parentNode,j)):te&&(te.d(1),te=null)},i(F){G||(K(E.$$.fragment,F),K(k.$$.fragment,F),K(S.$$.fragment,F),K(B),G=!0)},o(F){W(E.$$.fragment,F),W(k.$$.fragment,F),W(S.$$.fragment,F),W(B),G=!1},d(F){F&&(c(e),c(R),c(P),c(M),c(j)),pe(E),pe(k),pe(S),q[Z].d(),te&&te.d(F),Y=!1,z()}}}function Vd(s){let e,t,l,a,i;return t=new Bo({}),{c(){e=d("button"),de(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);_e(t.$$.fragment,f),f.forEach(c),this.h()},h(){o(e,"class","p-1 rounded-full flex gap-1 items-center"),o(e,"type","button")},m(r,f){O(r,e,f),he(t,e,null),l=!0,a||(i=se(e,"click",s[17]),a=!0)},p:vt,i(r){l||(K(t.$$.fragment,r),l=!0)},o(r){W(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t),a=!1,i()}}}function Sd(s){let e,t,l,a,i;return t=new xa({}),{c(){e=d("button"),de(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);_e(t.$$.fragment,f),f.forEach(c),this.h()},h(){o(e,"class","p-1 rounded-full flex gap-1 items-center"),o(e,"type","button")},m(r,f){O(r,e,f),he(t,e,null),l=!0,a||(i=se(e,"click",s[18]),a=!0)},p:vt,i(r){l||(K(t.$$.fragment,r),l=!0)},o(r){W(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t),a=!1,i()}}}function Nd(s){let e,t,l=s[8].t("No models found")+"",a;return{c(){e=d("div"),t=d("div"),a=L(l),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{class:!0});var f=v(t);a=U(f,l),f.forEach(c),r.forEach(c),this.h()},h(){o(t,"class","text-gray-500 dark:text-gray-400 text-xs"),o(e,"class","flex flex-col items-center justify-center w-full h-20")},m(i,r){O(i,e,r),n(e,t),n(t,a)},p(i,r){r[0]&256&&l!==(l=i[8].t("No models found")+"")&&H(a,l)},i:vt,o:vt,d(i){i&&c(e)}}}function Md(s){let e=[],t=new Map,l,a,i=yt(s[4]);const r=f=>f[35].id;for(let f=0;f<i.length;f+=1){let u=Xi(s,i,f),h=r(u);t.set(h,e[f]=xi(h,u))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();l=Xt()},l(f){for(let u=0;u<e.length;u+=1)e[u].l(f);l=Xt()},m(f,u){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(f,u);O(f,l,u),a=!0},p(f,u){u[0]&16688&&(i=yt(f[4]),Vt(),e=Co(e,u,r,1,f,i,t,l.parentNode,Ro,xi,l,Xi),St())},i(f){if(!a){for(let u=0;u<i.length;u+=1)K(e[u]);a=!0}},o(f){for(let u=0;u<e.length;u+=1)W(e[u]);a=!1},d(f){f&&c(l);for(let u=0;u<e.length;u+=1)e[u].d(f)}}}function Od(s){let e,t=s[35].name+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","font-semibold line-clamp-1")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&16&&t!==(t=a[35].name+"")&&H(l,t)},d(a){a&&c(e)}}}function Pd(s){let e,t,l;function a(f){s[22](f,s[35])}function i(){return s[23](s[35])}let r={};return s[35].is_active!==void 0&&(r.state=s[35].is_active),e=new wl({props:r}),it.push(()=>ht(e,"state",a)),e.$on("change",i),{c(){de(e.$$.fragment)},l(f){_e(e.$$.fragment,f)},m(f,u){he(e,f,u),l=!0},p(f,u){s=f;const h={};!t&&u[0]&16&&(t=!0,h.state=s[35].is_active,_t(()=>t=!1)),e.$set(h)},i(f){l||(K(e.$$.fragment,f),l=!0)},o(f){W(e.$$.fragment,f),l=!1},d(f){pe(e,f)}}}function xi(s,e){var Y,z,X,q,Q,te,x,F,J,ae,ue,ne,$e,ge,Le,be,He,Ve,ie;let t,l,a,i,r,f,u,h,b,p,m,g,E,w=((z=(Y=e[35])==null?void 0:Y.meta)!=null&&z.description?(q=(X=e[35])==null?void 0:X.meta)==null?void 0:q.description:(te=(Q=e[35])==null?void 0:Q.ollama)!=null&&te.digest?`${e[35].id} (${(F=(x=e[35])==null?void 0:x.ollama)==null?void 0:F.digest})`:e[35].id)+"",k,I,y,T,$,S='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg>',N,V,C,R,P,Z,B,M;p=new Yt({props:{content:pn.parse((ae=(J=e[35])==null?void 0:J.meta)!=null&&ae.description?(ne=(ue=e[35])==null?void 0:ue.meta)==null?void 0:ne.description:(ge=($e=e[35])==null?void 0:$e.ollama)!=null&&ge.digest?`${(be=(Le=e[35])==null?void 0:Le.ollama)==null?void 0:be.digest} **(${(Ve=(He=e[35])==null?void 0:He.ollama)==null?void 0:Ve.modified_at})**`:e[35].id),className:" w-fit",placement:"top-start",$$slots:{default:[Od]},$$scope:{ctx:e}}});function j(){return e[20](e[35])}function G(){return e[21](e[35])}return C=new Yt({props:{content:((ie=e[35])==null?void 0:ie.is_active)??!0?e[8].t("Enabled"):e[8].t("Disabled"),$$slots:{default:[Pd]},$$scope:{ctx:e}}}),{key:s,first:null,c(){t=d("div"),l=d("button"),a=d("div"),i=d("div"),r=d("img"),h=A(),b=d("div"),de(p.$$.fragment),m=A(),g=d("div"),E=d("span"),k=L(w),y=A(),T=d("div"),$=d("button"),$.innerHTML=S,N=A(),V=d("div"),de(C.$$.fragment),R=A(),this.h()},l(le){t=_(le,"DIV",{class:!0,id:!0});var Ee=v(t);l=_(Ee,"BUTTON",{class:!0,type:!0});var ce=v(l);a=_(ce,"DIV",{class:!0});var ke=v(a);i=_(ke,"DIV",{class:!0});var Ie=v(i);r=_(Ie,"IMG",{src:!0,alt:!0,class:!0}),Ie.forEach(c),ke.forEach(c),h=D(ce),b=_(ce,"DIV",{class:!0});var ze=v(b);_e(p.$$.fragment,ze),m=D(ze),g=_(ze,"DIV",{class:!0});var Qe=v(g);E=_(Qe,"SPAN",{class:!0});var ve=v(E);k=U(ve,w),ve.forEach(c),Qe.forEach(c),ze.forEach(c),ce.forEach(c),y=D(Ee),T=_(Ee,"DIV",{class:!0});var ye=v(T);$=_(ye,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Kt($)!=="svelte-1q2s9zz"&&($.innerHTML=S),N=D(ye),V=_(ye,"DIV",{class:!0});var fe=v(V);_e(C.$$.fragment,fe),fe.forEach(c),ye.forEach(c),R=D(Ee),Ee.forEach(c),this.h()},h(){var le,Ee,ce,ke;na(r.src,f=((Ee=(le=e[35])==null?void 0:le.meta)==null?void 0:Ee.profile_image_url)??"/static/favicon.png")||o(r,"src",f),o(r,"alt","modelfile profile"),o(r,"class","rounded-full w-full h-auto object-cover"),o(i,"class",u="rounded-full object-cover "+(((ce=e[35])==null?void 0:ce.is_active)??!0?"":"opacity-50 dark:opacity-50")),o(a,"class","self-center w-8"),o(E,"class","line-clamp-1"),o(g,"class","text-xs overflow-hidden text-ellipsis line-clamp-1 text-gray-500"),o(b,"class",I="flex-1 self-center "+(((ke=e[35])==null?void 0:ke.is_active)??!0?"":"text-gray-500")),o(l,"class","flex flex-1 text-left space-x-3.5 cursor-pointer w-full"),o(l,"type","button"),o($,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),o($,"type","button"),o(V,"class","ml-1"),o(T,"class","flex flex-row gap-0.5 items-center self-center"),o(t,"class","flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-lg transition"),o(t,"id",P="model-item-"+e[35].id),this.first=t},m(le,Ee){O(le,t,Ee),n(t,l),n(l,a),n(a,i),n(i,r),n(l,h),n(l,b),he(p,b,null),n(b,m),n(b,g),n(g,E),n(E,k),n(t,y),n(t,T),n(T,$),n(T,N),n(T,V),he(C,V,null),n(t,R),Z=!0,B||(M=[se(l,"click",j),se($,"click",G)],B=!0)},p(le,Ee){var Ie,ze,Qe,ve,ye,fe,me,Oe,Me,Ge,Re,Ze,Ke,Dt,re,we,pt,mt,gt,qe,Fe,ct,Rt;e=le,(!Z||Ee[0]&16&&!na(r.src,f=((ze=(Ie=e[35])==null?void 0:Ie.meta)==null?void 0:ze.profile_image_url)??"/static/favicon.png"))&&o(r,"src",f),(!Z||Ee[0]&16&&u!==(u="rounded-full object-cover "+(((Qe=e[35])==null?void 0:Qe.is_active)??!0?"":"opacity-50 dark:opacity-50")))&&o(i,"class",u);const ce={};Ee[0]&16&&(ce.content=pn.parse((ye=(ve=e[35])==null?void 0:ve.meta)!=null&&ye.description?(me=(fe=e[35])==null?void 0:fe.meta)==null?void 0:me.description:(Me=(Oe=e[35])==null?void 0:Oe.ollama)!=null&&Me.digest?`${(Re=(Ge=e[35])==null?void 0:Ge.ollama)==null?void 0:Re.digest} **(${(Ke=(Ze=e[35])==null?void 0:Ze.ollama)==null?void 0:Ke.modified_at})**`:e[35].id)),Ee[0]&16|Ee[1]&128&&(ce.$$scope={dirty:Ee,ctx:e}),p.$set(ce),(!Z||Ee[0]&16)&&w!==(w=((re=(Dt=e[35])==null?void 0:Dt.meta)!=null&&re.description?(pt=(we=e[35])==null?void 0:we.meta)==null?void 0:pt.description:(gt=(mt=e[35])==null?void 0:mt.ollama)!=null&&gt.digest?`${e[35].id} (${(Fe=(qe=e[35])==null?void 0:qe.ollama)==null?void 0:Fe.digest})`:e[35].id)+"")&&H(k,w),(!Z||Ee[0]&16&&I!==(I="flex-1 self-center "+(((ct=e[35])==null?void 0:ct.is_active)??!0?"":"text-gray-500")))&&o(b,"class",I);const ke={};Ee[0]&272&&(ke.content=((Rt=e[35])==null?void 0:Rt.is_active)??!0?e[8].t("Enabled"):e[8].t("Disabled")),Ee[0]&16|Ee[1]&128&&(ke.$$scope={dirty:Ee,ctx:e}),C.$set(ke),(!Z||Ee[0]&16&&P!==(P="model-item-"+e[35].id))&&o(t,"id",P)},i(le){Z||(K(p.$$.fragment,le),K(C.$$.fragment,le),Z=!0)},o(le){W(p.$$.fragment,le),W(C.$$.fragment,le),Z=!1},d(le){le&&c(t),pe(p),pe(C),B=!1,ul(M)}}}function eo(s){let e,t,l,a,i,r,f=s[8].t("Import Presets")+"",u,h,b,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',m,g,E,w=s[8].t("Export Presets")+"",k,I,y,T='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',$,S;return{c(){e=d("div"),t=d("div"),l=d("input"),a=A(),i=d("button"),r=d("div"),u=L(f),h=A(),b=d("div"),b.innerHTML=p,m=A(),g=d("button"),E=d("div"),k=L(w),I=A(),y=d("div"),y.innerHTML=T,this.h()},l(N){e=_(N,"DIV",{class:!0});var V=v(e);t=_(V,"DIV",{class:!0});var C=v(t);l=_(C,"INPUT",{id:!0,type:!0,accept:!0}),a=D(C),i=_(C,"BUTTON",{class:!0});var R=v(i);r=_(R,"DIV",{class:!0});var P=v(r);u=U(P,f),P.forEach(c),h=D(R),b=_(R,"DIV",{class:!0,"data-svelte-h":!0}),Kt(b)!=="svelte-1ikvh1y"&&(b.innerHTML=p),R.forEach(c),m=D(C),g=_(C,"BUTTON",{class:!0});var Z=v(g);E=_(Z,"DIV",{class:!0});var B=v(E);k=U(B,w),B.forEach(c),I=D(Z),y=_(Z,"DIV",{class:!0,"data-svelte-h":!0}),Kt(y)!=="svelte-1v8dg5r"&&(y.innerHTML=T),Z.forEach(c),C.forEach(c),V.forEach(c),this.h()},h(){o(l,"id","models-import-input"),o(l,"type","file"),o(l,"accept",".json"),l.hidden=!0,o(r,"class","self-center mr-2 font-medium line-clamp-1"),o(b,"class","self-center"),o(i,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),o(E,"class","self-center mr-2 font-medium line-clamp-1"),o(y,"class","self-center"),o(g,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),o(t,"class","flex space-x-1"),o(e,"class","flex justify-end w-full mb-3")},m(N,V){O(N,e,V),n(e,t),n(t,l),s[24](l),n(t,a),n(t,i),n(i,r),n(r,u),n(i,h),n(i,b),n(t,m),n(t,g),n(g,E),n(E,k),n(g,I),n(g,y),$||(S=[se(l,"change",s[25]),se(l,"change",s[26]),se(i,"click",s[27]),se(g,"click",s[28])],$=!0)},p(N,V){V[0]&256&&f!==(f=N[8].t("Import Presets")+"")&&H(u,f),V[0]&256&&w!==(w=N[8].t("Export Presets")+"")&&H(k,w)},d(N){N&&c(e),s[24](null),$=!1,ul(S)}}}function Ld(s){let e,t,l,a,i,r,f,u,h,b;function p(y){s[15](y)}let m={initHandler:s[12]};s[6]!==void 0&&(m.show=s[6]),e=new Yc({props:m}),it.push(()=>ht(e,"show",p));function g(y){s[16](y)}let E={};s[7]!==void 0&&(E.show=s[7]),a=new yd({props:E}),it.push(()=>ht(a,"show",g));const w=[Ad,Td],k=[];function I(y,T){return y[0]!==null?0:1}return f=I(s),u=k[f]=w[f](s),{c(){de(e.$$.fragment),l=A(),de(a.$$.fragment),r=A(),u.c(),h=Xt()},l(y){_e(e.$$.fragment,y),l=D(y),_e(a.$$.fragment,y),r=D(y),u.l(y),h=Xt()},m(y,T){he(e,y,T),O(y,l,T),he(a,y,T),O(y,r,T),k[f].m(y,T),O(y,h,T),b=!0},p(y,T){const $={};!t&&T[0]&64&&(t=!0,$.show=y[6],_t(()=>t=!1)),e.$set($);const S={};!i&&T[0]&128&&(i=!0,S.show=y[7],_t(()=>i=!1)),a.$set(S);let N=f;f=I(y),f===N?k[f].p(y,T):(Vt(),W(k[N],1,1,()=>{k[N]=null}),St(),u=k[f],u?u.p(y,T):(u=k[f]=w[f](y),u.c()),K(u,1),u.m(h.parentNode,h))},i(y){b||(K(e.$$.fragment,y),K(a.$$.fragment,y),K(u),b=!0)},o(y){W(e.$$.fragment,y),W(a.$$.fragment,y),W(u),b=!1},d(y){y&&(c(l),c(r),c(h)),pe(e,y),pe(a,y),k[f].d(y)}}}function Ud(s,e,t){let l,a;nl(s,ia,x=>t(9,a=x));const{saveAs:i}=Uo,r=Il("i18n");nl(s,r,x=>t(8,l=x));let f,u,h=null,b=null,p=null,m=[],g=null,E=!1,w=!1,k="";const I=async x=>{let F=new Blob([JSON.stringify(x)],{type:"application/json"});i(F,`models-export-${Date.now()}.json`)},y=async()=>{b=await Ou(localStorage.token),p=await Bl(localStorage.token,!0),t(0,h=p.map(x=>{const F=b.find(J=>J.id===x.id);return F?{...x,...F}:{...x,id:x.id,name:x.name,is_active:!0}}))},T=async x=>{x.base_model_id=null,b.find(F=>F.id===x.id)?await Pu(localStorage.token,x.id,x).catch(J=>null)&&Ye.success(l.t("Model updated successfully")):await vn(localStorage.token,x).catch(J=>null)&&Ye.success(l.t("Model updated successfully")),Dl.set(await Bl(localStorage.token)),await y()},$=async x=>{Object.keys(x).includes("base_model_id")?await Lu(localStorage.token,x.id):await vn(localStorage.token,{id:x.id,name:x.name,base_model_id:null,meta:{},params:{},access_control:{},is_active:x.is_active}).catch(F=>null),Dl.set(await Bl(localStorage.token))};Hl(async()=>{y()});function S(x){E=x,t(6,E)}function N(x){w=x,t(7,w)}const V=()=>{t(7,w=!0)},C=()=>{t(6,E=!0)};function R(){k=this.value,t(1,k)}const P=x=>{t(5,g=x.id)},Z=x=>{t(5,g=x.id)};function B(x,F){s.$$.not_equal(F.is_active,x)&&(F.is_active=x,t(4,m),t(0,h),t(1,k))}const M=async x=>{$(x)};function j(x){it[x?"unshift":"push"](()=>{u=x,t(3,u)})}function G(){f=this.files,t(2,f)}const Y=()=>{console.log(f);let x=new FileReader;x.onload=async F=>{let J=JSON.parse(F.target.result);console.log(J);for(const ae of J)Object.keys(ae).includes("base_model_id")?ae.base_model_id===null&&T(ae):((ae==null?void 0:ae.info)??!1)&&ae.info.base_model_id===null&&T(ae.info);await Dl.set(await Bl(localStorage.token)),y()},x.readAsText(f[0])},z=()=>{u.click()},X=async()=>{I(h)},q=x=>x.id===g,Q=x=>{console.log(x),T(x),t(5,g=null)},te=()=>{t(5,g=null)};return s.$$.update=()=>{s.$$.dirty[0]&3&&h&&t(4,m=h.filter(x=>k===""||x.name.toLowerCase().includes(k.toLowerCase())).sort((x,F)=>x.name.localeCompare(F.name)))},[h,k,f,u,m,g,E,w,l,a,r,I,y,T,$,S,N,V,C,R,P,Z,B,M,j,G,Y,z,X,q,Q,te]}class Cd extends vl{constructor(e){super(),ml(this,e,Ud,Ld,pl,{},null,[-1,-1])}}function Rd(s){let e,t;return{c(){e=sl("svg"),t=sl("path"),this.h()},l(l){e=al(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=al(a,"path",{d:!0}),v(t).forEach(c),a.forEach(c),this.h()},h(){o(t,"d","M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class",s[0])},m(l,a){O(l,e,a),n(e,t)},p(l,[a]){a&1&&o(e,"class",l[0])},i:vt,o:vt,d(l){l&&c(e)}}}function Bd(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=i=>{"className"in i&&t(0,l=i.className),"strokeWidth"in i&&t(1,a=i.strokeWidth)},[l,a]}class Hd extends vl{constructor(e){super(),ml(this,e,Bd,Rd,pl,{className:0,strokeWidth:1})}}function to(s,e,t){const l=s.slice();return l[11]=e[t],l[34]=t,l}function jd(s){let e=s[10].t("Add Connection")+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&1024&&e!==(e=l[10].t("Add Connection")+"")&&H(t,e)},d(l){l&&c(t)}}}function Gd(s){let e=s[10].t("Edit Connection")+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&1024&&e!==(e=l[10].t("Edit Connection")+"")&&H(t,e)},d(l){l&&c(t)}}}function Kd(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=_(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Kt(e)!=="svelte-kma1qx"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),o(e,"type","button")},m(i,r){O(i,e,r),l||(a=se(e,"click",s[20]),l=!0)},p:vt,d(i){i&&c(e),l=!1,a()}}}function Zd(s){let e,t,l;function a(r){s[21](r)}let i={};return s[7]!==void 0&&(i.state=s[7]),e=new wl({props:i}),it.push(()=>ht(e,"state",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};!t&&f[0]&128&&(t=!0,u.state=r[7],_t(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){W(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function qd(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){o(e,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),o(e,"type","text"),o(e,"placeholder",t=s[10].t("Prefix ID")),o(e,"autocomplete","off")},m(i,r){O(i,e,r),ee(e,s[6]),l||(a=se(e,"input",s[23]),l=!0)},p(i,r){r[0]&1024&&t!==(t=i[10].t("Prefix ID"))&&o(e,"placeholder",t),r[0]&64&&e.value!==i[6]&&ee(e,i[6])},d(i){i&&c(e),l=!1,a()}}}function Wd(s){let e;function t(i,r){return i[3]?zd:Yd}let l=t(s),a=l(s);return{c(){e=d("div"),a.c(),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);a.l(r),r.forEach(c),this.h()},h(){o(e,"class","text-gray-500 text-xs text-center py-2 px-10")},m(i,r){O(i,e,r),a.m(e,null)},p(i,r){l===(l=t(i))&&a?a.p(i,r):(a.d(1),a=l(i),a&&(a.c(),a.m(e,null)))},i:vt,o:vt,d(i){i&&c(e),a.d()}}}function Fd(s){let e,t,l=yt(s[8]),a=[];for(let r=0;r<l.length;r+=1)a[r]=lo(to(s,l,r));const i=r=>W(a[r],1,1,()=>{a[r]=null});return{c(){e=d("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=_(r,"DIV",{class:!0});var f=v(e);for(let u=0;u<a.length;u+=1)a[u].l(f);f.forEach(c),this.h()},h(){o(e,"class","flex flex-col")},m(r,f){O(r,e,f);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);t=!0},p(r,f){if(f[0]&256){l=yt(r[8]);let u;for(u=0;u<l.length;u+=1){const h=to(r,l,u);a[u]?(a[u].p(h,f),K(a[u],1)):(a[u]=lo(h),a[u].c(),K(a[u],1),a[u].m(e,null))}for(Vt(),u=l.length;u<a.length;u+=1)i(u);St()}},i(r){if(!t){for(let f=0;f<l.length;f+=1)K(a[f]);t=!0}},o(r){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)W(a[f]);t=!1},d(r){r&&c(e),cl(a,r)}}}function Yd(s){let e=s[10].t('Leave empty to include all models from "{{URL}}/models" endpoint',{URL:s[4]})+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&1040&&e!==(e=l[10].t('Leave empty to include all models from "{{URL}}/models" endpoint',{URL:l[4]})+"")&&H(t,e)},d(l){l&&c(t)}}}function zd(s){let e=s[10].t('Leave empty to include all models from "{{URL}}/api/tags" endpoint',{URL:s[4]})+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&1040&&e!==(e=l[10].t('Leave empty to include all models from "{{URL}}/api/tags" endpoint',{URL:l[4]})+"")&&H(t,e)},d(l){l&&c(t)}}}function lo(s){let e,t,l=s[11]+"",a,i,r,f,u,h,b,p,m;u=new mr({props:{strokeWidth:"2",className:"size-3.5"}});function g(){return s[24](s[34])}return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("button"),de(u.$$.fragment),h=A(),this.h()},l(E){e=_(E,"DIV",{class:!0});var w=v(e);t=_(w,"DIV",{class:!0});var k=v(t);a=U(k,l),k.forEach(c),i=D(w),r=_(w,"DIV",{class:!0});var I=v(r);f=_(I,"BUTTON",{type:!0});var y=v(f);_e(u.$$.fragment,y),y.forEach(c),I.forEach(c),h=D(w),w.forEach(c),this.h()},h(){o(t,"class","text-sm flex-1 py-1 rounded-lg"),o(f,"type","button"),o(r,"class","flex-shrink-0"),o(e,"class","flex gap-2 w-full justify-between items-center")},m(E,w){O(E,e,w),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),he(u,f,null),n(e,h),b=!0,p||(m=se(f,"click",g),p=!0)},p(E,w){s=E,(!b||w[0]&256)&&l!==(l=s[11]+"")&&H(a,l)},i(E){b||(K(u.$$.fragment,E),b=!0)},o(E){W(u.$$.fragment,E),b=!1},d(E){E&&c(e),pe(u),p=!1,m()}}}function so(s){let e,t=s[10].t("Delete")+"",l,a,i;return{c(){e=d("button"),l=L(t),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);l=U(f,t),f.forEach(c),this.h()},h(){o(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),o(e,"type","button")},m(r,f){O(r,e,f),n(e,l),a||(i=se(e,"click",s[27]),a=!0)},p(r,f){f[0]&1024&&t!==(t=r[10].t("Delete")+"")&&H(l,t)},d(r){r&&c(e),a=!1,i()}}}function ao(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Kt(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function Qd(s){let e,t,l,a,i,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',f,u,h,b,p,m,g,E,w=s[10].t("URL")+"",k,I,y,T,$,S,N,V,C,R,P,Z,B,M,j=s[10].t("Key")+"",G,Y,z,X,q,Q,te,x,F=s[10].t("Prefix ID")+"",J,ae,ue,ne,$e,ge,Le,be,He,Ve,ie=s[10].t("Model IDs")+"",le,Ee,ce,ke,Ie,ze,Qe,ve,ye,fe,me,Oe,Me,Ge,Re,Ze,Ke,Dt,re,we=s[10].t("Save")+"",pt,mt,gt,qe,Fe,ct;function Rt(oe,Pe){return oe[2]?Gd:jd}let At=Rt(s),Te=At(s);N=new Yt({props:{content:"Verify Connection",className:"self-end -mb-1",$$slots:{default:[Kd]},$$scope:{ctx:s}}}),R=new Yt({props:{content:s[7]?s[10].t("Enabled"):s[10].t("Disabled"),$$slots:{default:[Zd]},$$scope:{ctx:s}}});function We(oe){s[22](oe)}let bt={className:"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none",placeholder:s[10].t("API Key"),required:!s[3]};s[5]!==void 0&&(bt.value=s[5]),X=new $l({props:bt}),it.push(()=>ht(X,"value",We)),ne=new Yt({props:{content:s[10].t("Prefix ID is used to avoid conflicts with other connections by adding a prefix to the model IDs - leave empty to disable"),$$slots:{default:[qd]},$$scope:{ctx:s}}});const ut=[Fd,Wd],dt=[];function rt(oe,Pe){return oe[8].length>0?0:1}ce=rt(s),ke=dt[ce]=ut[ce](s),Re=new wa({props:{className:"size-3.5",strokeWidth:"2"}});let xe=s[2]&&so(s),Xe=s[9]&&ao();return{c(){e=d("div"),t=d("div"),l=d("div"),Te.c(),a=A(),i=d("button"),i.innerHTML=r,f=A(),u=d("div"),h=d("div"),b=d("form"),p=d("div"),m=d("div"),g=d("div"),E=d("div"),k=L(w),I=A(),y=d("div"),T=d("input"),S=A(),de(N.$$.fragment),V=A(),C=d("div"),de(R.$$.fragment),P=A(),Z=d("div"),B=d("div"),M=d("div"),G=L(j),Y=A(),z=d("div"),de(X.$$.fragment),Q=A(),te=d("div"),x=d("div"),J=L(F),ae=A(),ue=d("div"),de(ne.$$.fragment),$e=A(),ge=d("hr"),Le=A(),be=d("div"),He=d("div"),Ve=d("div"),le=L(ie),Ee=A(),ke.c(),Ie=A(),ze=d("hr"),Qe=A(),ve=d("div"),ye=d("input"),Oe=A(),Me=d("div"),Ge=d("button"),de(Re.$$.fragment),Ze=A(),Ke=d("div"),xe&&xe.c(),Dt=A(),re=d("button"),pt=L(we),mt=A(),Xe&&Xe.c(),this.h()},l(oe){e=_(oe,"DIV",{});var Pe=v(e);t=_(Pe,"DIV",{class:!0});var Tt=v(t);l=_(Tt,"DIV",{class:!0});var Je=v(l);Te.l(Je),Je.forEach(c),a=D(Tt),i=_(Tt,"BUTTON",{class:!0,"data-svelte-h":!0}),Kt(i)!=="svelte-745w2y"&&(i.innerHTML=r),Tt.forEach(c),f=D(Pe),u=_(Pe,"DIV",{class:!0});var Ot=v(u);h=_(Ot,"DIV",{class:!0});var Et=v(h);b=_(Et,"FORM",{class:!0});var ot=v(b);p=_(ot,"DIV",{class:!0});var jt=v(p);m=_(jt,"DIV",{class:!0});var el=v(m);g=_(el,"DIV",{class:!0});var Gt=v(g);E=_(Gt,"DIV",{class:!0});var It=v(E);k=U(It,w),It.forEach(c),I=D(Gt),y=_(Gt,"DIV",{class:!0});var Lt=v(y);T=_(Lt,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Lt.forEach(c),Gt.forEach(c),S=D(el),_e(N.$$.fragment,el),V=D(el),C=_(el,"DIV",{class:!0});var Ct=v(C);_e(R.$$.fragment,Ct),Ct.forEach(c),el.forEach(c),P=D(jt),Z=_(jt,"DIV",{class:!0});var Ue=v(Z);B=_(Ue,"DIV",{class:!0});var Ae=v(B);M=_(Ae,"DIV",{class:!0});var De=v(M);G=U(De,j),De.forEach(c),Y=D(Ae),z=_(Ae,"DIV",{class:!0});var wt=v(z);_e(X.$$.fragment,wt),wt.forEach(c),Ae.forEach(c),Q=D(Ue),te=_(Ue,"DIV",{class:!0});var et=v(te);x=_(et,"DIV",{class:!0});var ft=v(x);J=U(ft,F),ft.forEach(c),ae=D(et),ue=_(et,"DIV",{class:!0});var Ft=v(ue);_e(ne.$$.fragment,Ft),Ft.forEach(c),et.forEach(c),Ue.forEach(c),$e=D(jt),ge=_(jt,"HR",{class:!0}),Le=D(jt),be=_(jt,"DIV",{class:!0});var Ut=v(be);He=_(Ut,"DIV",{class:!0});var Bt=v(He);Ve=_(Bt,"DIV",{class:!0});var kt=v(Ve);le=U(kt,ie),kt.forEach(c),Bt.forEach(c),Ee=D(Ut),ke.l(Ut),Ut.forEach(c),Ie=D(jt),ze=_(jt,"HR",{class:!0}),Qe=D(jt),ve=_(jt,"DIV",{class:!0});var je=v(ve);ye=_(je,"INPUT",{class:!0,placeholder:!0}),Oe=D(je),Me=_(je,"DIV",{});var Be=v(Me);Ge=_(Be,"BUTTON",{type:!0});var tt=v(Ge);_e(Re.$$.fragment,tt),tt.forEach(c),Be.forEach(c),je.forEach(c),jt.forEach(c),Ze=D(ot),Ke=_(ot,"DIV",{class:!0});var st=v(Ke);xe&&xe.l(st),Dt=D(st),re=_(st,"BUTTON",{class:!0,type:!0});var Nt=v(re);pt=U(Nt,we),mt=D(Nt),Xe&&Xe.l(Nt),Nt.forEach(c),st.forEach(c),ot.forEach(c),Et.forEach(c),Ot.forEach(c),Pe.forEach(c),this.h()},h(){o(l,"class","text-lg font-medium self-center font-primary"),o(i,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),o(E,"class","mb-0.5 text-xs text-gray-500"),o(T,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),o(T,"type","text"),o(T,"placeholder",$=s[10].t("API Base URL")),o(T,"autocomplete","off"),T.required=!0,o(y,"class","flex-1"),o(g,"class","flex flex-col w-full"),o(C,"class","flex flex-col flex-shrink-0 self-end"),o(m,"class","flex gap-2"),o(M,"class","mb-0.5 text-xs text-gray-500"),o(z,"class","flex-1"),o(B,"class","flex flex-col w-full"),o(x,"class","mb-1 text-xs text-gray-500"),o(ue,"class","flex-1"),o(te,"class","flex flex-col w-full"),o(Z,"class","flex gap-2 mt-2"),o(ge,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),o(Ve,"class","text-xs text-gray-500"),o(He,"class","mb-1 flex justify-between"),o(be,"class","flex flex-col w-full"),o(ze,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),o(ye,"class",fe="w-full py-1 text-sm rounded-lg bg-transparent "+(s[11]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),o(ye,"placeholder",me=s[10].t("Add a model ID")),o(Ge,"type","button"),o(ve,"class","flex items-center"),o(p,"class","px-1"),o(re,"class",gt="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[9]?" cursor-not-allowed":"")),o(re,"type","submit"),re.disabled=s[9],o(Ke,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),o(b,"class","flex flex-col w-full"),o(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(u,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(oe,Pe){O(oe,e,Pe),n(e,t),n(t,l),Te.m(l,null),n(t,a),n(t,i),n(e,f),n(e,u),n(u,h),n(h,b),n(b,p),n(p,m),n(m,g),n(g,E),n(E,k),n(g,I),n(g,y),n(y,T),ee(T,s[4]),n(m,S),he(N,m,null),n(m,V),n(m,C),he(R,C,null),n(p,P),n(p,Z),n(Z,B),n(B,M),n(M,G),n(B,Y),n(B,z),he(X,z,null),n(Z,Q),n(Z,te),n(te,x),n(x,J),n(te,ae),n(te,ue),he(ne,ue,null),n(p,$e),n(p,ge),n(p,Le),n(p,be),n(be,He),n(He,Ve),n(Ve,le),n(be,Ee),dt[ce].m(be,null),n(p,Ie),n(p,ze),n(p,Qe),n(p,ve),n(ve,ye),ee(ye,s[11]),n(ve,Oe),n(ve,Me),n(Me,Ge),he(Re,Ge,null),n(b,Ze),n(b,Ke),xe&&xe.m(Ke,null),n(Ke,Dt),n(Ke,re),n(re,pt),n(re,mt),Xe&&Xe.m(re,null),qe=!0,Fe||(ct=[se(i,"click",s[18]),se(T,"input",s[19]),se(ye,"input",s[25]),se(Ge,"click",s[26]),se(b,"submit",s[28])],Fe=!0)},p(oe,Pe){At===(At=Rt(oe))&&Te?Te.p(oe,Pe):(Te.d(1),Te=At(oe),Te&&(Te.c(),Te.m(l,null))),(!qe||Pe[0]&1024)&&w!==(w=oe[10].t("URL")+"")&&H(k,w),(!qe||Pe[0]&1024&&$!==($=oe[10].t("API Base URL")))&&o(T,"placeholder",$),Pe[0]&16&&T.value!==oe[4]&&ee(T,oe[4]);const Tt={};Pe[1]&16&&(Tt.$$scope={dirty:Pe,ctx:oe}),N.$set(Tt);const Je={};Pe[0]&1152&&(Je.content=oe[7]?oe[10].t("Enabled"):oe[10].t("Disabled")),Pe[0]&128|Pe[1]&16&&(Je.$$scope={dirty:Pe,ctx:oe}),R.$set(Je),(!qe||Pe[0]&1024)&&j!==(j=oe[10].t("Key")+"")&&H(G,j);const Ot={};Pe[0]&1024&&(Ot.placeholder=oe[10].t("API Key")),Pe[0]&8&&(Ot.required=!oe[3]),!q&&Pe[0]&32&&(q=!0,Ot.value=oe[5],_t(()=>q=!1)),X.$set(Ot),(!qe||Pe[0]&1024)&&F!==(F=oe[10].t("Prefix ID")+"")&&H(J,F);const Et={};Pe[0]&1024&&(Et.content=oe[10].t("Prefix ID is used to avoid conflicts with other connections by adding a prefix to the model IDs - leave empty to disable")),Pe[0]&1088|Pe[1]&16&&(Et.$$scope={dirty:Pe,ctx:oe}),ne.$set(Et),(!qe||Pe[0]&1024)&&ie!==(ie=oe[10].t("Model IDs")+"")&&H(le,ie);let ot=ce;ce=rt(oe),ce===ot?dt[ce].p(oe,Pe):(Vt(),W(dt[ot],1,1,()=>{dt[ot]=null}),St(),ke=dt[ce],ke?ke.p(oe,Pe):(ke=dt[ce]=ut[ce](oe),ke.c()),K(ke,1),ke.m(be,null)),(!qe||Pe[0]&2048&&fe!==(fe="w-full py-1 text-sm rounded-lg bg-transparent "+(oe[11]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"))&&o(ye,"class",fe),(!qe||Pe[0]&1024&&me!==(me=oe[10].t("Add a model ID")))&&o(ye,"placeholder",me),Pe[0]&2048&&ye.value!==oe[11]&&ee(ye,oe[11]),oe[2]?xe?xe.p(oe,Pe):(xe=so(oe),xe.c(),xe.m(Ke,Dt)):xe&&(xe.d(1),xe=null),(!qe||Pe[0]&1024)&&we!==(we=oe[10].t("Save")+"")&&H(pt,we),oe[9]?Xe||(Xe=ao(),Xe.c(),Xe.m(re,null)):Xe&&(Xe.d(1),Xe=null),(!qe||Pe[0]&512&&gt!==(gt="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(oe[9]?" cursor-not-allowed":"")))&&o(re,"class",gt),(!qe||Pe[0]&512)&&(re.disabled=oe[9])},i(oe){qe||(K(N.$$.fragment,oe),K(R.$$.fragment,oe),K(X.$$.fragment,oe),K(ne.$$.fragment,oe),K(ke),K(Re.$$.fragment,oe),qe=!0)},o(oe){W(N.$$.fragment,oe),W(R.$$.fragment,oe),W(X.$$.fragment,oe),W(ne.$$.fragment,oe),W(ke),W(Re.$$.fragment,oe),qe=!1},d(oe){oe&&c(e),Te.d(),pe(N),pe(R),pe(X),pe(ne),dt[ce].d(),pe(Re),xe&&xe.d(),Xe&&Xe.d(),Fe=!1,ul(ct)}}}function Jd(s){let e,t,l;function a(r){s[29](r)}let i={size:"sm",$$slots:{default:[Qd]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Ea({props:i}),it.push(()=>ht(e,"show",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};f[0]&4095|f[1]&16&&(u.$$scope={dirty:f,ctx:r}),!t&&f[0]&1&&(t=!0,u.show=r[0],_t(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){W(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function Xd(s,e,t){let l;const a=Il("i18n");nl(s,a,Q=>t(10,l=Q));let{onSubmit:i=()=>{}}=e,{onDelete:r=()=>{}}=e,{show:f=!1}=e,{edit:u=!1}=e,{ollama:h=!1}=e,{connection:b=null}=e,p="",m="",g="",E=!0,w="",k=[],I=!1;const y=async()=>{await Ku(localStorage.token,p,m).catch(te=>{Ye.error(`${te}`)})&&Ye.success(l.t("Server connection verified"))},T=async()=>{await qu(localStorage.token,p,m).catch(te=>{Ye.error(`${te}`)})&&Ye.success(l.t("Server connection verified"))},$=()=>{h?y():T()},S=()=>{w&&(t(8,k=[...k,w]),t(11,w=""))},N=async()=>{if(t(9,I=!0),!h&&(!p||!m)){t(9,I=!1),Ye.error("URL and Key are required");return}await i({url:p,key:m,config:{enable:E,prefix_id:g,model_ids:k}}),t(9,I=!1),t(0,f=!1),t(4,p=""),t(5,m=""),t(6,g=""),t(8,k=[])},V=()=>{var Q,te,x;b&&(t(4,p=b.url),t(5,m=b.key),t(7,E=((Q=b.config)==null?void 0:Q.enable)??!0),t(6,g=((te=b.config)==null?void 0:te.prefix_id)??""),t(8,k=((x=b.config)==null?void 0:x.model_ids)??[]))};Hl(()=>{V()});const C=()=>{t(0,f=!1)};function R(){p=this.value,t(4,p)}const P=()=>{$()};function Z(Q){E=Q,t(7,E)}function B(Q){m=Q,t(5,m)}function M(){g=this.value,t(6,g)}const j=Q=>{t(8,k=k.filter((te,x)=>x!==Q))};function G(){w=this.value,t(11,w)}const Y=()=>{S()},z=()=>{r(),t(0,f=!1)},X=Q=>{Q.preventDefault(),N()};function q(Q){f=Q,t(0,f)}return s.$$set=Q=>{"onSubmit"in Q&&t(16,i=Q.onSubmit),"onDelete"in Q&&t(1,r=Q.onDelete),"show"in Q&&t(0,f=Q.show),"edit"in Q&&t(2,u=Q.edit),"ollama"in Q&&t(3,h=Q.ollama),"connection"in Q&&t(17,b=Q.connection)},s.$$.update=()=>{s.$$.dirty[0]&1&&f&&V()},[f,r,u,h,p,m,g,E,k,I,l,w,a,$,S,N,i,b,C,R,P,Z,B,M,j,G,Y,z,X,q]}class Xa extends vl{constructor(e){super(),ml(this,e,Xd,Jd,pl,{onSubmit:16,onDelete:1,show:0,edit:2,ollama:3,connection:17},null,[-1,-1])}}function ro(s){let e;return{c(){e=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),v(e).forEach(c),this.h()},h(){o(e,"class","absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10")},m(t,l){O(t,e,l)},d(t){t&&c(e)}}}function no(s){let e,t,l;return t=new Yt({props:{content:"Pipelines",$$slots:{default:[xd]},$$scope:{ctx:s}}}),{c(){e=d("div"),de(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(c),this.h()},h(){o(e,"class","absolute top-0.5 right-2.5")},m(a,i){O(a,e,i),he(t,e,null),l=!0},i(a){l||(K(t.$$.fragment,a),l=!0)},o(a){W(t.$$.fragment,a),l=!1},d(a){a&&c(e),pe(t)}}}function xd(s){let e,t,l,a;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),a=sl("path"),this.h()},l(i){e=al(i,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=al(r,"path",{d:!0}),v(t).forEach(c),l=al(r,"path",{d:!0}),v(l).forEach(c),a=al(r,"path",{d:!0}),v(a).forEach(c),r.forEach(c),this.h()},h(){o(t,"d","M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"),o(l,"d","m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"),o(a,"d","m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class","size-4")},m(i,r){O(i,e,r),n(e,t),n(e,l),n(e,a)},p:vt,d(i){i&&c(e)}}}function e1(s){var y;let e,t,l,a,i,r,f,u,h,b,p,m,g,E=!(((y=s[2])==null?void 0:y.enable)??!0)&&ro(),w=s[5]&&no(s);function k(T){s[12](T)}let I={inputClassName:" outline-none bg-transparent w-full",placeholder:s[7].t("API Key")};return s[1]!==void 0&&(I.value=s[1]),h=new $l({props:I}),it.push(()=>ht(h,"value",k)),{c(){E&&E.c(),e=A(),t=d("div"),l=d("div"),a=d("input"),f=A(),w&&w.c(),u=A(),de(h.$$.fragment),this.h()},l(T){E&&E.l(T),e=D(T),t=_(T,"DIV",{class:!0});var $=v(t);l=_($,"DIV",{class:!0});var S=v(l);a=_(S,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),f=D(S),w&&w.l(S),S.forEach(c),u=D($),_e(h.$$.fragment,$),$.forEach(c),this.h()},h(){o(a,"class",i="outline-none w-full bg-transparent "+(s[5]?"pr-8":"")),o(a,"placeholder",r=s[7].t("API Base URL")),o(a,"autocomplete","off"),o(l,"class","flex-1 relative"),o(t,"class","flex w-full")},m(T,$){E&&E.m(T,$),O(T,e,$),O(T,t,$),n(t,l),n(l,a),ee(a,s[0]),n(l,f),w&&w.m(l,null),n(t,u),he(h,t,null),p=!0,m||(g=se(a,"input",s[11]),m=!0)},p(T,$){var N;((N=T[2])==null?void 0:N.enable)??!0?E&&(E.d(1),E=null):E||(E=ro(),E.c(),E.m(e.parentNode,e)),(!p||$&32&&i!==(i="outline-none w-full bg-transparent "+(T[5]?"pr-8":"")))&&o(a,"class",i),(!p||$&128&&r!==(r=T[7].t("API Base URL")))&&o(a,"placeholder",r),$&1&&a.value!==T[0]&&ee(a,T[0]),T[5]?w?$&32&&K(w,1):(w=no(T),w.c(),K(w,1),w.m(l,null)):w&&(Vt(),W(w,1,1,()=>{w=null}),St());const S={};$&128&&(S.placeholder=T[7].t("API Key")),!b&&$&2&&(b=!0,S.value=T[1],_t(()=>b=!1)),h.$set(S)},i(T){p||(K(w),K(h.$$.fragment,T),p=!0)},o(T){W(w),W(h.$$.fragment,T),p=!1},d(T){T&&(c(e),c(t)),E&&E.d(T),w&&w.d(),pe(h),m=!1,g()}}}function t1(s){let e,t,l,a,i;return t=new xa({}),{c(){e=d("button"),de(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);_e(t.$$.fragment,f),f.forEach(c),this.h()},h(){o(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),o(e,"type","button")},m(r,f){O(r,e,f),he(t,e,null),l=!0,a||(i=se(e,"click",s[13]),a=!0)},p:vt,i(r){l||(K(t.$$.fragment,r),l=!0)},o(r){W(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t),a=!1,i()}}}function l1(s){let e,t,l,a,i,r,f,u,h;function b(m){s[10](m)}let p={edit:!0,connection:{url:s[0],key:s[1],config:s[2]},onDelete:s[3],onSubmit:s[9]};return s[6]!==void 0&&(p.show=s[6]),e=new Xa({props:p}),it.push(()=>ht(e,"show",b)),i=new Yt({props:{className:"w-full relative",content:s[7].t('WebUI will make requests to "{{url}}/chat/completions"',{url:s[0]}),placement:"top-start",$$slots:{default:[e1]},$$scope:{ctx:s}}}),u=new Yt({props:{content:s[7].t("Configure"),className:"self-start",$$slots:{default:[t1]},$$scope:{ctx:s}}}),{c(){de(e.$$.fragment),l=A(),a=d("div"),de(i.$$.fragment),r=A(),f=d("div"),de(u.$$.fragment),this.h()},l(m){_e(e.$$.fragment,m),l=D(m),a=_(m,"DIV",{class:!0});var g=v(a);_e(i.$$.fragment,g),r=D(g),f=_(g,"DIV",{class:!0});var E=v(f);_e(u.$$.fragment,E),E.forEach(c),g.forEach(c),this.h()},h(){o(f,"class","flex gap-1"),o(a,"class","flex w-full gap-2 items-center")},m(m,g){he(e,m,g),O(m,l,g),O(m,a,g),he(i,a,null),n(a,r),n(a,f),he(u,f,null),h=!0},p(m,[g]){const E={};g&7&&(E.connection={url:m[0],key:m[1],config:m[2]}),g&8&&(E.onDelete=m[3]),g&23&&(E.onSubmit=m[9]),!t&&g&64&&(t=!0,E.show=m[6],_t(()=>t=!1)),e.$set(E);const w={};g&129&&(w.content=m[7].t('WebUI will make requests to "{{url}}/chat/completions"',{url:m[0]})),g&16551&&(w.$$scope={dirty:g,ctx:m}),i.$set(w);const k={};g&128&&(k.content=m[7].t("Configure")),g&16448&&(k.$$scope={dirty:g,ctx:m}),u.$set(k)},i(m){h||(K(e.$$.fragment,m),K(i.$$.fragment,m),K(u.$$.fragment,m),h=!0)},o(m){W(e.$$.fragment,m),W(i.$$.fragment,m),W(u.$$.fragment,m),h=!1},d(m){m&&(c(l),c(a)),pe(e,m),pe(i),pe(u)}}}function s1(s,e,t){let l;const a=Il("i18n");nl(s,a,I=>t(7,l=I));let{onDelete:i=()=>{}}=e,{onSubmit:r=()=>{}}=e,{pipeline:f=!1}=e,{url:u=""}=e,{key:h=""}=e,{config:b={}}=e,p=!1;const m=I=>{t(0,u=I.url),t(1,h=I.key),t(2,b=I.config),r(I)};function g(I){p=I,t(6,p)}function E(){u=this.value,t(0,u)}function w(I){h=I,t(1,h)}const k=()=>{t(6,p=!0)};return s.$$set=I=>{"onDelete"in I&&t(3,i=I.onDelete),"onSubmit"in I&&t(4,r=I.onSubmit),"pipeline"in I&&t(5,f=I.pipeline),"url"in I&&t(0,u=I.url),"key"in I&&t(1,h=I.key),"config"in I&&t(2,b=I.config)},[u,h,b,i,r,f,p,l,a,m,g,E,w,k]}class a1 extends vl{constructor(e){super(),ml(this,e,s1,l1,pl,{onDelete:3,onSubmit:4,pipeline:5,url:0,key:1,config:2})}}function r1(s){let e,t,l,a,i=s[2].t("Manage Ollama")+"",r,f,u,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,p,m,g,E,w;return m=new Ko({props:{urlIdx:s[1]}}),{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),r=L(i),f=A(),u=d("button"),u.innerHTML=h,b=A(),p=d("div"),de(m.$$.fragment),this.h()},l(k){e=_(k,"DIV",{});var I=v(e);t=_(I,"DIV",{class:!0});var y=v(t);l=_(y,"DIV",{class:!0});var T=v(l);a=_(T,"DIV",{class:!0});var $=v(a);r=U($,i),$.forEach(c),T.forEach(c),f=D(y),u=_(y,"BUTTON",{class:!0,"data-svelte-h":!0}),Kt(u)!=="svelte-745w2y"&&(u.innerHTML=h),y.forEach(c),b=D(I),p=_(I,"DIV",{class:!0});var S=v(p);_e(m.$$.fragment,S),S.forEach(c),I.forEach(c),this.h()},h(){o(a,"class","flex-shrink-0"),o(l,"class","flex w-full justify-between items-center text-lg font-medium self-center font-primary"),o(u,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),o(p,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(k,I){O(k,e,I),n(e,t),n(t,l),n(l,a),n(a,r),n(t,f),n(t,u),n(e,b),n(e,p),he(m,p,null),g=!0,E||(w=se(u,"click",s[4]),E=!0)},p(k,I){(!g||I&4)&&i!==(i=k[2].t("Manage Ollama")+"")&&H(r,i);const y={};I&2&&(y.urlIdx=k[1]),m.$set(y)},i(k){g||(K(m.$$.fragment,k),g=!0)},o(k){W(m.$$.fragment,k),g=!1},d(k){k&&c(e),pe(m),E=!1,w()}}}function n1(s){let e,t,l;function a(r){s[5](r)}let i={size:"sm",$$slots:{default:[r1]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Ea({props:i}),it.push(()=>ht(e,"show",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,[f]){const u={};f&71&&(u.$$scope={dirty:f,ctx:r}),!t&&f&1&&(t=!0,u.show=r[0],_t(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){W(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function i1(s,e,t){let l;const a=Il("i18n");nl(s,a,h=>t(2,l=h));let{show:i=!1}=e,{urlIdx:r=null}=e;const f=()=>{t(0,i=!1)};function u(h){i=h,t(0,i)}return s.$$set=h=>{"show"in h&&t(0,i=h.show),"urlIdx"in h&&t(1,r=h.urlIdx)},[i,r,l,a,f,u]}class o1 extends vl{constructor(e){super(),ml(this,e,i1,n1,pl,{show:0,urlIdx:1})}}function io(s){let e;return{c(){e=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),v(e).forEach(c),this.h()},h(){o(e,"class","absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10")},m(t,l){O(t,e,l)},d(t){t&&c(e)}}}function u1(s){var f;let e,t,l,a,i,r=!(((f=s[1])==null?void 0:f.enable)??!0)&&io();return{c(){r&&r.c(),e=A(),t=d("input"),this.h()},l(u){r&&r.l(u),e=D(u),t=_(u,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(t,"class","w-full text-sm bg-transparent outline-none"),o(t,"placeholder",l=s[7].t("Enter URL (e.g. http://localhost:11434)"))},m(u,h){r&&r.m(u,h),O(u,e,h),O(u,t,h),ee(t,s[0]),a||(i=se(t,"input",s[12]),a=!0)},p(u,h){var b;((b=u[1])==null?void 0:b.enable)??!0?r&&(r.d(1),r=null):r||(r=io(),r.c(),r.m(e.parentNode,e)),h&128&&l!==(l=u[7].t("Enter URL (e.g. http://localhost:11434)"))&&o(t,"placeholder",l),h&1&&t.value!==u[0]&&ee(t,u[0])},d(u){u&&(c(e),c(t)),r&&r.d(u),a=!1,i()}}}function f1(s){let e,t,l,a,i;return t=new Bo({}),{c(){e=d("button"),de(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);_e(t.$$.fragment,f),f.forEach(c),this.h()},h(){o(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),o(e,"type","button")},m(r,f){O(r,e,f),he(t,e,null),l=!0,a||(i=se(e,"click",s[13]),a=!0)},p:vt,i(r){l||(K(t.$$.fragment,r),l=!0)},o(r){W(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t),a=!1,i()}}}function c1(s){let e,t,l,a,i;return t=new xa({}),{c(){e=d("button"),de(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);_e(t.$$.fragment,f),f.forEach(c),this.h()},h(){o(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),o(e,"type","button")},m(r,f){O(r,e,f),he(t,e,null),l=!0,a||(i=se(e,"click",s[14]),a=!0)},p:vt,i(r){l||(K(t.$$.fragment,r),l=!0)},o(r){W(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t),a=!1,i()}}}function d1(s){var T;let e,t,l,a,i,r,f,u,h,b,p,m,g,E;function w($){s[10]($)}let k={ollama:!0,edit:!0,connection:{url:s[0],key:((T=s[1])==null?void 0:T.key)??"",config:s[1]},onDelete:s[2],onSubmit:s[9]};s[6]!==void 0&&(k.show=s[6]),e=new Xa({props:k}),it.push(()=>ht(e,"show",w));function I($){s[11]($)}let y={urlIdx:s[4]};return s[5]!==void 0&&(y.show=s[5]),a=new o1({props:y}),it.push(()=>ht(a,"show",I)),u=new Yt({props:{className:"w-full relative",content:s[7].t('WebUI will make requests to "{{url}}/api/chat"',{url:s[0]}),placement:"top-start",$$slots:{default:[u1]},$$scope:{ctx:s}}}),p=new Yt({props:{content:s[7].t("Manage"),className:"self-start",$$slots:{default:[f1]},$$scope:{ctx:s}}}),g=new Yt({props:{content:s[7].t("Configure"),className:"self-start",$$slots:{default:[c1]},$$scope:{ctx:s}}}),{c(){de(e.$$.fragment),l=A(),de(a.$$.fragment),r=A(),f=d("div"),de(u.$$.fragment),h=A(),b=d("div"),de(p.$$.fragment),m=A(),de(g.$$.fragment),this.h()},l($){_e(e.$$.fragment,$),l=D($),_e(a.$$.fragment,$),r=D($),f=_($,"DIV",{class:!0});var S=v(f);_e(u.$$.fragment,S),h=D(S),b=_(S,"DIV",{class:!0});var N=v(b);_e(p.$$.fragment,N),m=D(N),_e(g.$$.fragment,N),N.forEach(c),S.forEach(c),this.h()},h(){o(b,"class","flex gap-1"),o(f,"class","flex gap-1.5")},m($,S){he(e,$,S),O($,l,S),he(a,$,S),O($,r,S),O($,f,S),he(u,f,null),n(f,h),n(f,b),he(p,b,null),n(b,m),he(g,b,null),E=!0},p($,[S]){var Z;const N={};S&3&&(N.connection={url:$[0],key:((Z=$[1])==null?void 0:Z.key)??"",config:$[1]}),S&4&&(N.onDelete=$[2]),S&11&&(N.onSubmit=$[9]),!t&&S&64&&(t=!0,N.show=$[6],_t(()=>t=!1)),e.$set(N);const V={};S&16&&(V.urlIdx=$[4]),!i&&S&32&&(i=!0,V.show=$[5],_t(()=>i=!1)),a.$set(V);const C={};S&129&&(C.content=$[7].t('WebUI will make requests to "{{url}}/api/chat"',{url:$[0]})),S&32899&&(C.$$scope={dirty:S,ctx:$}),u.$set(C);const R={};S&128&&(R.content=$[7].t("Manage")),S&32800&&(R.$$scope={dirty:S,ctx:$}),p.$set(R);const P={};S&128&&(P.content=$[7].t("Configure")),S&32832&&(P.$$scope={dirty:S,ctx:$}),g.$set(P)},i($){E||(K(e.$$.fragment,$),K(a.$$.fragment,$),K(u.$$.fragment,$),K(p.$$.fragment,$),K(g.$$.fragment,$),E=!0)},o($){W(e.$$.fragment,$),W(a.$$.fragment,$),W(u.$$.fragment,$),W(p.$$.fragment,$),W(g.$$.fragment,$),E=!1},d($){$&&(c(l),c(r),c(f)),pe(e,$),pe(a,$),pe(u),pe(p),pe(g)}}}function _1(s,e,t){let l;const a=Il("i18n");nl(s,a,y=>t(7,l=y));let{onDelete:i=()=>{}}=e,{onSubmit:r=()=>{}}=e,{url:f=""}=e,{idx:u=0}=e,{config:h={}}=e,b=!1,p=!1;const m=y=>{t(0,f=y.url),t(1,h={...y.config,key:y.key}),r(y)};function g(y){p=y,t(6,p)}function E(y){b=y,t(5,b)}function w(){f=this.value,t(0,f)}const k=()=>{t(5,b=!0)},I=()=>{t(6,p=!0)};return s.$$set=y=>{"onDelete"in y&&t(2,i=y.onDelete),"onSubmit"in y&&t(3,r=y.onSubmit),"url"in y&&t(0,f=y.url),"idx"in y&&t(4,u=y.idx),"config"in y&&t(1,h=y.config)},[f,h,i,r,u,b,p,l,a,m,g,E,w,k,I]}class h1 extends vl{constructor(e){super(),ml(this,e,_1,d1,pl,{onDelete:2,onSubmit:3,url:0,idx:4,config:1})}}function oo(s,e,t){const l=s.slice();return l[37]=e[t],l[38]=e,l[39]=t,l}function uo(s,e,t){const l=s.slice();return l[37]=e[t],l[40]=e,l[39]=t,l}function p1(s){let e,t,l,a;return l=new Is({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),de(l.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{class:!0});var f=v(t);_e(l.$$.fragment,f),f.forEach(c),r.forEach(c),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex h-full justify-center")},m(i,r){O(i,e,r),n(e,t),he(l,t,null),a=!0},p:vt,i(i){a||(K(l.$$.fragment,i),a=!0)},o(i){W(l.$$.fragment,i),a=!1},d(i){i&&c(e),pe(l)}}}function v1(s){let e,t,l,a,i=s[10].t("OpenAI API")+"",r,f,u,h,b,p,m,g,E,w,k,I,y,T=s[10].t("Ollama API")+"",$,S,N,V,C,R,P;function Z(z){s[19](z)}let B={};s[5]!==void 0&&(B.state=s[5]),b=new wl({props:B}),it.push(()=>ht(b,"state",Z)),b.$on("change",s[20]);let M=s[5]&&fo(s);function j(z){s[27](z)}let G={};s[6]!==void 0&&(G.state=s[6]),V=new wl({props:G}),it.push(()=>ht(V,"state",j)),V.$on("change",s[28]);let Y=s[6]&&_o(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),r=L(i),f=A(),u=d("div"),h=d("div"),de(b.$$.fragment),m=A(),M&&M.c(),g=A(),E=d("hr"),w=A(),k=d("div"),I=d("div"),y=d("div"),$=L(T),S=A(),N=d("div"),de(V.$$.fragment),R=A(),Y&&Y.c(),this.h()},l(z){e=_(z,"DIV",{class:!0});var X=v(e);t=_(X,"DIV",{class:!0});var q=v(t);l=_(q,"DIV",{class:!0});var Q=v(l);a=_(Q,"DIV",{class:!0});var te=v(a);r=U(te,i),te.forEach(c),f=D(Q),u=_(Q,"DIV",{class:!0});var x=v(u);h=_(x,"DIV",{class:!0});var F=v(h);_e(b.$$.fragment,F),F.forEach(c),x.forEach(c),Q.forEach(c),m=D(q),M&&M.l(q),q.forEach(c),X.forEach(c),g=D(z),E=_(z,"HR",{class:!0}),w=D(z),k=_(z,"DIV",{class:!0});var J=v(k);I=_(J,"DIV",{class:!0});var ae=v(I);y=_(ae,"DIV",{class:!0});var ue=v(y);$=U(ue,T),ue.forEach(c),S=D(ae),N=_(ae,"DIV",{class:!0});var ne=v(N);_e(V.$$.fragment,ne),ne.forEach(c),ae.forEach(c),R=D(J),Y&&Y.l(J),J.forEach(c),this.h()},h(){o(a,"class","font-medium"),o(h,"class",""),o(u,"class","flex items-center"),o(l,"class","flex justify-between items-center text-sm"),o(t,"class","mt-2 space-y-2 pr-1.5"),o(e,"class","my-2"),o(E,"class","border-gray-50 dark:border-gray-850"),o(y,"class","font-medium"),o(N,"class","mt-1"),o(I,"class","flex justify-between items-center text-sm mb-2"),o(k,"class","pr-1.5 my-2")},m(z,X){O(z,e,X),n(e,t),n(t,l),n(l,a),n(a,r),n(l,f),n(l,u),n(u,h),he(b,h,null),n(t,m),M&&M.m(t,null),O(z,g,X),O(z,E,X),O(z,w,X),O(z,k,X),n(k,I),n(I,y),n(y,$),n(I,S),n(I,N),he(V,N,null),n(k,R),Y&&Y.m(k,null),P=!0},p(z,X){(!P||X[0]&1024)&&i!==(i=z[10].t("OpenAI API")+"")&&H(r,i);const q={};!p&&X[0]&32&&(p=!0,q.state=z[5],_t(()=>p=!1)),b.$set(q),z[5]?M?(M.p(z,X),X[0]&32&&K(M,1)):(M=fo(z),M.c(),K(M,1),M.m(t,null)):M&&(Vt(),W(M,1,1,()=>{M=null}),St()),(!P||X[0]&1024)&&T!==(T=z[10].t("Ollama API")+"")&&H($,T);const Q={};!C&&X[0]&64&&(C=!0,Q.state=z[6],_t(()=>C=!1)),V.$set(Q),z[6]?Y?(Y.p(z,X),X[0]&64&&K(Y,1)):(Y=_o(z),Y.c(),K(Y,1),Y.m(k,null)):Y&&(Vt(),W(Y,1,1,()=>{Y=null}),St())},i(z){P||(K(b.$$.fragment,z),K(M),K(V.$$.fragment,z),K(Y),P=!0)},o(z){W(b.$$.fragment,z),W(M),W(V.$$.fragment,z),W(Y),P=!1},d(z){z&&(c(e),c(g),c(E),c(w),c(k)),pe(b),M&&M.d(),pe(V),Y&&Y.d()}}}function fo(s){let e,t,l,a,i,r=s[10].t("Manage OpenAI API Connections")+"",f,u,h,b,p,m;h=new Yt({props:{content:s[10].t("Add Connection"),$$slots:{default:[m1]},$$scope:{ctx:s}}});let g=yt(s[3]),E=[];for(let k=0;k<g.length;k+=1)E[k]=co(uo(s,g,k));const w=k=>W(E[k],1,1,()=>{E[k]=null});return{c(){e=d("hr"),t=A(),l=d("div"),a=d("div"),i=d("div"),f=L(r),u=A(),de(h.$$.fragment),b=A(),p=d("div");for(let k=0;k<E.length;k+=1)E[k].c();this.h()},l(k){e=_(k,"HR",{class:!0}),t=D(k),l=_(k,"DIV",{class:!0});var I=v(l);a=_(I,"DIV",{class:!0});var y=v(a);i=_(y,"DIV",{class:!0});var T=v(i);f=U(T,r),T.forEach(c),u=D(y),_e(h.$$.fragment,y),y.forEach(c),b=D(I),p=_(I,"DIV",{class:!0});var $=v(p);for(let S=0;S<E.length;S+=1)E[S].l($);$.forEach(c),I.forEach(c),this.h()},h(){o(e,"class","border-gray-50 dark:border-gray-850"),o(i,"class","font-medium"),o(a,"class","flex justify-between items-center"),o(p,"class","flex flex-col gap-1.5 mt-1.5"),o(l,"class","")},m(k,I){O(k,e,I),O(k,t,I),O(k,l,I),n(l,a),n(a,i),n(i,f),n(a,u),he(h,a,null),n(l,b),n(l,p);for(let y=0;y<E.length;y+=1)E[y]&&E[y].m(p,null);m=!0},p(k,I){(!m||I[0]&1024)&&r!==(r=k[10].t("Manage OpenAI API Connections")+"")&&H(f,r);const y={};if(I[0]&1024&&(y.content=k[10].t("Add Connection")),I[0]&256|I[1]&1024&&(y.$$scope={dirty:I,ctx:k}),h.$set(y),I[0]&8348){g=yt(k[3]);let T;for(T=0;T<g.length;T+=1){const $=uo(k,g,T);E[T]?(E[T].p($,I),K(E[T],1)):(E[T]=co($),E[T].c(),K(E[T],1),E[T].m(p,null))}for(Vt(),T=g.length;T<E.length;T+=1)w(T);St()}},i(k){if(!m){K(h.$$.fragment,k);for(let I=0;I<g.length;I+=1)K(E[I]);m=!0}},o(k){W(h.$$.fragment,k),E=E.filter(Boolean);for(let I=0;I<E.length;I+=1)W(E[I]);m=!1},d(k){k&&(c(e),c(t),c(l)),pe(h),cl(E,k)}}}function m1(s){let e,t,l,a,i;return t=new wa({}),{c(){e=d("button"),de(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);_e(t.$$.fragment,f),f.forEach(c),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(r,f){O(r,e,f),he(t,e,null),l=!0,a||(i=se(e,"click",s[21]),a=!0)},p:vt,i(r){l||(K(t.$$.fragment,r),l=!0)},o(r){W(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t),a=!1,i()}}}function co(s){let e,t,l,a,i;function r(){return s[23](s[39])}function f(p){s[24](p,s[37],s[40],s[39])}function u(p){s[25](p,s[39])}function h(p){s[26](p,s[39])}let b={pipeline:!!s[7][s[37]],onSubmit:s[22],onDelete:r};return s[37]!==void 0&&(b.url=s[37]),s[2][s[39]]!==void 0&&(b.key=s[2][s[39]]),s[4][s[39]]!==void 0&&(b.config=s[4][s[39]]),e=new a1({props:b}),it.push(()=>ht(e,"url",f)),it.push(()=>ht(e,"key",u)),it.push(()=>ht(e,"config",h)),{c(){de(e.$$.fragment)},l(p){_e(e.$$.fragment,p)},m(p,m){he(e,p,m),i=!0},p(p,m){s=p;const g={};m[0]&136&&(g.pipeline=!!s[7][s[37]]),m[0]&28&&(g.onDelete=r),!t&&m[0]&8&&(t=!0,g.url=s[37],_t(()=>t=!1)),!l&&m[0]&4&&(l=!0,g.key=s[2][s[39]],_t(()=>l=!1)),!a&&m[0]&16&&(a=!0,g.config=s[4][s[39]],_t(()=>a=!1)),e.$set(g)},i(p){i||(K(e.$$.fragment,p),i=!0)},o(p){W(e.$$.fragment,p),i=!1},d(p){pe(e,p)}}}function _o(s){let e,t,l,a,i,r=s[10].t("Manage Ollama API Connections")+"",f,u,h,b,p,m,g,E,w=s[10].t("Trouble accessing Ollama?")+"",k,I,y,T=s[10].t("Click here for help.")+"",$,S;h=new Yt({props:{content:s[10].t("Add Connection"),$$slots:{default:[g1]},$$scope:{ctx:s}}});let N=yt(s[0]),V=[];for(let R=0;R<N.length;R+=1)V[R]=ho(oo(s,N,R));const C=R=>W(V[R],1,1,()=>{V[R]=null});return{c(){e=d("hr"),t=A(),l=d("div"),a=d("div"),i=d("div"),f=L(r),u=A(),de(h.$$.fragment),b=A(),p=d("div"),m=d("div");for(let R=0;R<V.length;R+=1)V[R].c();g=A(),E=d("div"),k=L(w),I=A(),y=d("a"),$=L(T),this.h()},l(R){e=_(R,"HR",{class:!0}),t=D(R),l=_(R,"DIV",{class:!0});var P=v(l);a=_(P,"DIV",{class:!0});var Z=v(a);i=_(Z,"DIV",{class:!0});var B=v(i);f=U(B,r),B.forEach(c),u=D(Z),_e(h.$$.fragment,Z),Z.forEach(c),b=D(P),p=_(P,"DIV",{class:!0});var M=v(p);m=_(M,"DIV",{class:!0});var j=v(m);for(let z=0;z<V.length;z+=1)V[z].l(j);j.forEach(c),M.forEach(c),g=D(P),E=_(P,"DIV",{class:!0});var G=v(E);k=U(G,w),I=D(G),y=_(G,"A",{class:!0,href:!0,target:!0});var Y=v(y);$=U(Y,T),Y.forEach(c),G.forEach(c),P.forEach(c),this.h()},h(){o(e,"class","border-gray-50 dark:border-gray-850 my-2"),o(i,"class","font-medium"),o(a,"class","flex justify-between items-center"),o(m,"class","flex-1 flex flex-col gap-1.5 mt-1.5"),o(p,"class","flex w-full gap-1.5"),o(y,"class","text-gray-300 font-medium underline"),o(y,"href","https://github.com/open-webui/open-webui#troubleshooting"),o(y,"target","_blank"),o(E,"class","mt-1 text-xs text-gray-400 dark:text-gray-500"),o(l,"class","")},m(R,P){O(R,e,P),O(R,t,P),O(R,l,P),n(l,a),n(a,i),n(i,f),n(a,u),he(h,a,null),n(l,b),n(l,p),n(p,m);for(let Z=0;Z<V.length;Z+=1)V[Z]&&V[Z].m(m,null);n(l,g),n(l,E),n(E,k),n(E,I),n(E,y),n(y,$),S=!0},p(R,P){(!S||P[0]&1024)&&r!==(r=R[10].t("Manage Ollama API Connections")+"")&&H(f,r);const Z={};if(P[0]&1024&&(Z.content=R[10].t("Add Connection")),P[0]&512|P[1]&1024&&(Z.$$scope={dirty:P,ctx:R}),h.$set(Z),P[0]&16387){N=yt(R[0]);let B;for(B=0;B<N.length;B+=1){const M=oo(R,N,B);V[B]?(V[B].p(M,P),K(V[B],1)):(V[B]=ho(M),V[B].c(),K(V[B],1),V[B].m(m,null))}for(Vt(),B=N.length;B<V.length;B+=1)C(B);St()}(!S||P[0]&1024)&&w!==(w=R[10].t("Trouble accessing Ollama?")+"")&&H(k,w),(!S||P[0]&1024)&&T!==(T=R[10].t("Click here for help.")+"")&&H($,T)},i(R){if(!S){K(h.$$.fragment,R);for(let P=0;P<N.length;P+=1)K(V[P]);S=!0}},o(R){W(h.$$.fragment,R),V=V.filter(Boolean);for(let P=0;P<V.length;P+=1)W(V[P]);S=!1},d(R){R&&(c(e),c(t),c(l)),pe(h),cl(V,R)}}}function g1(s){let e,t,l,a,i;return t=new wa({}),{c(){e=d("button"),de(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);_e(t.$$.fragment,f),f.forEach(c),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(r,f){O(r,e,f),he(t,e,null),l=!0,a||(i=se(e,"click",s[29]),a=!0)},p:vt,i(r){l||(K(t.$$.fragment,r),l=!0)},o(r){W(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t),a=!1,i()}}}function ho(s){let e,t,l,a;function i(){return s[31](s[39])}function r(h){s[32](h,s[37],s[38],s[39])}function f(h){s[33](h,s[39])}let u={idx:s[39],onSubmit:s[30],onDelete:i};return s[37]!==void 0&&(u.url=s[37]),s[1][s[39]]!==void 0&&(u.config=s[1][s[39]]),e=new h1({props:u}),it.push(()=>ht(e,"url",r)),it.push(()=>ht(e,"config",f)),{c(){de(e.$$.fragment)},l(h){_e(e.$$.fragment,h)},m(h,b){he(e,h,b),a=!0},p(h,b){s=h;const p={};b[0]&3&&(p.onDelete=i),!t&&b[0]&1&&(t=!0,p.url=s[37],_t(()=>t=!1)),!l&&b[0]&2&&(l=!0,p.config=s[1][s[39]],_t(()=>l=!1)),e.$set(p)},i(h){a||(K(e.$$.fragment,h),a=!0)},o(h){W(e.$$.fragment,h),a=!1},d(h){pe(e,h)}}}function b1(s){let e,t,l,a,i,r,f,u,h,b,p,m,g,E=s[10].t("Save")+"",w,k,I,y;function T(P){s[17](P)}let $={onSubmit:s[15]};s[8]!==void 0&&($.show=s[8]),e=new Xa({props:$}),it.push(()=>ht(e,"show",T));function S(P){s[18](P)}let N={ollama:!0,onSubmit:s[16]};s[9]!==void 0&&(N.show=s[9]),a=new Xa({props:N}),it.push(()=>ht(a,"show",S));const V=[v1,p1],C=[];function R(P,Z){return P[5]!==null&&P[6]!==null?0:1}return h=R(s),b=C[h]=V[h](s),{c(){de(e.$$.fragment),l=A(),de(a.$$.fragment),r=A(),f=d("form"),u=d("div"),b.c(),p=A(),m=d("div"),g=d("button"),w=L(E),this.h()},l(P){_e(e.$$.fragment,P),l=D(P),_e(a.$$.fragment,P),r=D(P),f=_(P,"FORM",{class:!0});var Z=v(f);u=_(Z,"DIV",{class:!0});var B=v(u);b.l(B),B.forEach(c),p=D(Z),m=_(Z,"DIV",{class:!0});var M=v(m);g=_(M,"BUTTON",{class:!0,type:!0});var j=v(g);w=U(j,E),j.forEach(c),M.forEach(c),Z.forEach(c),this.h()},h(){o(u,"class","overflow-y-scroll scrollbar-hidden h-full"),o(g,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(g,"type","submit"),o(m,"class","flex justify-end pt-3 text-sm font-medium"),o(f,"class","flex flex-col h-full justify-between text-sm")},m(P,Z){he(e,P,Z),O(P,l,Z),he(a,P,Z),O(P,r,Z),O(P,f,Z),n(f,u),C[h].m(u,null),n(f,p),n(f,m),n(m,g),n(g,w),k=!0,I||(y=se(f,"submit",rs(s[34])),I=!0)},p(P,Z){const B={};!t&&Z[0]&256&&(t=!0,B.show=P[8],_t(()=>t=!1)),e.$set(B);const M={};!i&&Z[0]&512&&(i=!0,M.show=P[9],_t(()=>i=!1)),a.$set(M);let j=h;h=R(P),h===j?C[h].p(P,Z):(Vt(),W(C[j],1,1,()=>{C[j]=null}),St(),b=C[h],b?b.p(P,Z):(b=C[h]=V[h](P),b.c()),K(b,1),b.m(u,null)),(!k||Z[0]&1024)&&E!==(E=P[10].t("Save")+"")&&H(w,E)},i(P){k||(K(e.$$.fragment,P),K(a.$$.fragment,P),K(b),k=!0)},o(P){W(e.$$.fragment,P),W(a.$$.fragment,P),W(b),k=!1},d(P){P&&(c(l),c(r),c(f)),pe(e,P),pe(a,P),C[h].d(),I=!1,y()}}}function E1(s,e,t){let l,a;nl(s,ia,J=>t(35,l=J));const i=gs(),r=Il("i18n");nl(s,r,J=>t(10,a=J));const f=async()=>await Bl(localStorage.token);let u=[""],h={},b=[""],p=[""],m={},g=null,E=null,w={},k=!1,I=!1;const y=async()=>{if(g!==null){if(t(3,p=p.map(ae=>ae.replace(/\/$/,""))),b.length!==p.length&&(b.length>p.length&&t(2,b=b.slice(0,p.length)),b.length<p.length)){const ae=p.length-b.length;for(let ue=0;ue<ae;ue++)b.push("")}await Yu(localStorage.token,{ENABLE_OPENAI_API:g,OPENAI_API_BASE_URLS:p,OPENAI_API_KEYS:b,OPENAI_API_CONFIGS:m}).catch(ae=>{Ye.error(`${ae}`)})&&(Ye.success(a.t("OpenAI API settings updated")),await Dl.set(await f()))}},T=async()=>{E!==null&&(t(0,u=u.map(ae=>ae.replace(/\/$/,""))),await Zu(localStorage.token,{ENABLE_OLLAMA_API:E,OLLAMA_BASE_URLS:u,OLLAMA_API_CONFIGS:h}).catch(ae=>{Ye.error(`${ae}`)})&&(Ye.success(a.t("Ollama API settings updated")),await Dl.set(await f())))},$=async J=>{t(3,p=[...p,J.url]),t(2,b=[...b,J.key]),t(4,m[p.length]=J.config,m),await y()},S=async J=>{t(0,u=[...u,J.url]),t(1,h[u.length]=J.config,h),await T()};Hl(async()=>{if(l.role==="admin"){let J={},ae={};if(await Promise.all([(async()=>{J=await Ho(localStorage.token)})(),(async()=>{ae=await Wu(localStorage.token)})()]),t(5,g=ae.ENABLE_OPENAI_API),t(6,E=J.ENABLE_OLLAMA_API),t(3,p=ae.OPENAI_API_BASE_URLS),t(2,b=ae.OPENAI_API_KEYS),t(4,m=ae.OPENAI_API_CONFIGS),t(0,u=J.OLLAMA_BASE_URLS),t(1,h=J.OLLAMA_API_CONFIGS),g){for(const[ue,ne]of p.entries())m[ue]||t(4,m[ue]=m[ne]||{},m);p.forEach(async(ue,ne)=>{var ge;if(t(4,m[ne]=m[ne]||{},m),!(((ge=m[ne])==null?void 0:ge.enable)??!0))return;(await Fu(localStorage.token,ne)).pipelines&&t(7,w[ue]=!0,w)})}if(E)for(const[ue,ne]of u.entries())h[ue]||t(1,h[ue]=h[ne]||{},h)}});function N(J){k=J,t(8,k)}function V(J){I=J,t(9,I)}function C(J){g=J,t(5,g)}const R=async()=>{y()},P=()=>{t(8,k=!0)},Z=()=>{y()},B=J=>{t(3,p=p.filter((ae,ue)=>J!==ue)),t(2,b=b.filter((ae,ue)=>J!==ue)),delete m[J]};function M(J,ae,ue,ne){ue[ne]=J,t(3,p)}function j(J,ae){s.$$.not_equal(b[ae],J)&&(b[ae]=J,t(2,b))}function G(J,ae){s.$$.not_equal(m[ae],J)&&(m[ae]=J,t(4,m))}function Y(J){E=J,t(6,E)}const z=async()=>{T()},X=()=>{t(9,I=!0)},q=()=>{T()},Q=J=>{t(0,u=u.filter((ae,ue)=>J!==ue)),delete h[J]};function te(J,ae,ue,ne){ue[ne]=J,t(0,u)}function x(J,ae){s.$$.not_equal(h[ae],J)&&(h[ae]=J,t(1,h))}return[u,h,b,p,m,g,E,w,k,I,a,i,r,y,T,$,S,N,V,C,R,P,Z,B,M,j,G,Y,z,X,q,Q,te,x,()=>{y(),T(),i("save")}]}class w1 extends vl{constructor(e){super(),ml(this,e,E1,b1,pl,{},null,[-1,-1])}}function k1(s){let e,t,l,a,i,r,f,u,h;function b(m){s[38](m)}let p={placeholder:s[23].t("API Key"),required:!1};return s[21]!==void 0&&(p.value=s[21]),i=new $l({props:p}),it.push(()=>ht(i,"value",b)),{c(){e=d("div"),t=d("input"),a=A(),de(i.$$.fragment),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"INPUT",{class:!0,placeholder:!0}),a=D(g),_e(i.$$.fragment,g),g.forEach(c),this.h()},h(){o(t,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-none"),o(t,"placeholder",l=s[23].t("API Base URL")),t.required=!0,o(e,"class","my-0.5 flex gap-2 pr-2")},m(m,g){O(m,e,g),n(e,t),ee(t,s[20]),n(e,a),he(i,e,null),f=!0,u||(h=se(t,"input",s[37]),u=!0)},p(m,g){(!f||g[0]&8388608&&l!==(l=m[23].t("API Base URL")))&&o(t,"placeholder",l),g[0]&1048576&&t.value!==m[20]&&ee(t,m[20]);const E={};g[0]&8388608&&(E.placeholder=m[23].t("API Key")),!r&&g[0]&2097152&&(r=!0,E.value=m[21],_t(()=>r=!1)),i.$set(E)},i(m){f||(K(i.$$.fragment,m),f=!0)},o(m){W(i.$$.fragment,m),f=!1},d(m){m&&c(e),pe(i),u=!1,h()}}}function I1(s){let e,t,l,a,i,r,f,u,h;function b(m){s[36](m)}let p={placeholder:s[23].t("API Key")};return s[19]!==void 0&&(p.value=s[19]),i=new $l({props:p}),it.push(()=>ht(i,"value",b)),{c(){e=d("div"),t=d("input"),a=A(),de(i.$$.fragment),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"INPUT",{class:!0,placeholder:!0}),a=D(g),_e(i.$$.fragment,g),g.forEach(c),this.h()},h(){o(t,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-none"),o(t,"placeholder",l=s[23].t("API Base URL")),t.required=!0,o(e,"class","my-0.5 flex gap-2 pr-2")},m(m,g){O(m,e,g),n(e,t),ee(t,s[18]),n(e,a),he(i,e,null),f=!0,u||(h=se(t,"input",s[35]),u=!0)},p(m,g){(!f||g[0]&8388608&&l!==(l=m[23].t("API Base URL")))&&o(t,"placeholder",l),g[0]&262144&&t.value!==m[18]&&ee(t,m[18]);const E={};g[0]&8388608&&(E.placeholder=m[23].t("API Key")),!r&&g[0]&524288&&(r=!0,E.value=m[19],_t(()=>r=!1)),i.$set(E)},i(m){f||(K(i.$$.fragment,m),f=!0)},o(m){W(i.$$.fragment,m),f=!1},d(m){m&&c(e),pe(i),u=!1,h()}}}function po(s){let e,t,l=s[23].t("Embedding Batch Size")+"",a,i,r,f,u,h,b,p,m;return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("input"),u=A(),h=d("div"),b=d("input"),this.h()},l(g){e=_(g,"DIV",{class:!0});var E=v(e);t=_(E,"DIV",{class:!0});var w=v(t);a=U(w,l),w.forEach(c),i=D(E),r=_(E,"DIV",{class:!0});var k=v(r);f=_(k,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,class:!0}),k.forEach(c),u=D(E),h=_(E,"DIV",{class:!0});var I=v(h);b=_(I,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),I.forEach(c),E.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium"),o(f,"id","steps-range"),o(f,"type","range"),o(f,"min","1"),o(f,"max","2048"),o(f,"step","1"),o(f,"class","w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"),o(r,"class","flex-1"),o(b,"type","number"),o(b,"class","bg-transparent text-center w-14"),o(b,"min","-2"),o(b,"max","16000"),o(b,"step","1"),o(h,"class",""),o(e,"class","flex mt-0.5 space-x-2")},m(g,E){O(g,e,E),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),ee(f,s[6]),n(e,u),n(e,h),n(h,b),ee(b,s[6]),p||(m=[se(f,"change",s[39]),se(f,"input",s[39]),se(b,"input",s[40])],p=!0)},p(g,E){E[0]&8388608&&l!==(l=g[23].t("Embedding Batch Size")+"")&&H(a,l),E[0]&64&&ee(f,g[6]),E[0]&64&&Rl(b.value)!==g[6]&&ee(b,g[6])},d(g){g&&c(e),p=!1,ul(m)}}}function y1(s){let e,t=s[23].t("Off")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("Off")+"")&&H(l,t)},d(a){a&&c(e)}}}function T1(s){let e,t=s[23].t("On")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("On")+"")&&H(l,t)},d(a){a&&c(e)}}}function A1(s){let e,t,l,a,i,r,f,u=s[4]===""&&vo(s);return{c(){e=d("div"),t=d("div"),l=d("input"),i=A(),u&&u.c(),this.h()},l(h){e=_(h,"DIV",{class:!0});var b=v(e);t=_(b,"DIV",{class:!0});var p=v(t);l=_(p,"INPUT",{class:!0,placeholder:!0}),p.forEach(c),i=D(b),u&&u.l(b),b.forEach(c),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[23].t("Set embedding model (e.g. {{model}})",{model:s[5].slice(-40)})),o(t,"class","flex-1 mr-2"),o(e,"class","flex w-full")},m(h,b){O(h,e,b),n(e,t),n(t,l),ee(l,s[5]),n(e,i),u&&u.m(e,null),r||(f=se(l,"input",s[43]),r=!0)},p(h,b){b[0]&8388640&&a!==(a=h[23].t("Set embedding model (e.g. {{model}})",{model:h[5].slice(-40)}))&&o(l,"placeholder",a),b[0]&32&&l.value!==h[5]&&ee(l,h[5]),h[4]===""?u?u.p(h,b):(u=vo(h),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(h){h&&c(e),u&&u.d(),r=!1,f()}}}function D1(s){let e,t,l,a,i,r;return{c(){e=d("div"),t=d("div"),l=d("input"),this.h()},l(f){e=_(f,"DIV",{class:!0});var u=v(e);t=_(u,"DIV",{class:!0});var h=v(t);l=_(h,"INPUT",{class:!0,placeholder:!0}),h.forEach(c),u.forEach(c),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[23].t("Set embedding model")),l.required=!0,o(t,"class","flex-1 mr-2"),o(e,"class","flex w-full")},m(f,u){O(f,e,u),n(e,t),n(t,l),ee(l,s[5]),i||(r=se(l,"input",s[42]),i=!0)},p(f,u){u[0]&8388608&&a!==(a=f[23].t("Set embedding model"))&&o(l,"placeholder",a),u[0]&32&&l.value!==f[5]&&ee(l,f[5])},d(f){f&&c(e),i=!1,r()}}}function vo(s){let e,t,l;function a(f,u){return f[0]?V1:$1}let i=a(s),r=i(s);return{c(){e=d("button"),r.c(),this.h()},l(f){e=_(f,"BUTTON",{class:!0});var u=v(e);r.l(u),u.forEach(c),this.h()},h(){o(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),e.disabled=s[0]},m(f,u){O(f,e,u),r.m(e,null),t||(l=se(e,"click",s[44]),t=!0)},p(f,u){i!==(i=a(f))&&(r.d(1),r=i(f),r&&(r.c(),r.m(e,null))),u[0]&1&&(e.disabled=f[0])},d(f){f&&c(e),r.d(),t=!1,l()}}}function $1(s){let e,t,l;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),this.h()},l(a){e=al(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=al(i,"path",{d:!0}),v(t).forEach(c),l=al(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){O(a,e,i),n(e,t),n(e,l)},d(a){a&&c(e)}}}function V1(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Kt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function mo(s){let e,t,l=s[23].t("Reranking Model")+"",a,i,r,f,u,h,b,p,m,g;function E(I,y){return I[1]?N1:S1}let w=E(s),k=w(s);return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("input"),b=A(),p=d("button"),k.c(),this.h()},l(I){e=_(I,"DIV",{class:!0});var y=v(e);t=_(y,"DIV",{class:!0});var T=v(t);a=U(T,l),T.forEach(c),i=D(y),r=_(y,"DIV",{class:!0});var $=v(r);f=_($,"DIV",{class:!0});var S=v(f);u=_(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(c),b=D($),p=_($,"BUTTON",{class:!0});var N=v(p);k.l(N),N.forEach(c),$.forEach(c),y.forEach(c),this.h()},h(){o(t,"class","mb-2 text-sm font-medium"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(u,"placeholder",h=s[23].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),o(f,"class","flex-1 mr-2"),o(p,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),p.disabled=s[1],o(r,"class","flex w-full"),o(e,"class","")},m(I,y){O(I,e,y),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),ee(u,s[7]),n(r,b),n(r,p),k.m(p,null),m||(g=[se(u,"input",s[45]),se(p,"click",s[46])],m=!0)},p(I,y){y[0]&8388608&&l!==(l=I[23].t("Reranking Model")+"")&&H(a,l),y[0]&8388608&&h!==(h=I[23].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&o(u,"placeholder",h),y[0]&128&&u.value!==I[7]&&ee(u,I[7]),w!==(w=E(I))&&(k.d(1),k=w(I),k&&(k.c(),k.m(p,null))),y[0]&2&&(p.disabled=I[1])},d(I){I&&c(e),k.d(),m=!1,ul(g)}}}function S1(s){let e,t,l;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),this.h()},l(a){e=al(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=al(i,"path",{d:!0}),v(t).forEach(c),l=al(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){O(a,e,i),n(e,t),n(e,l)},d(a){a&&c(e)}}}function N1(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Kt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function go(s){let e,t,l,a,i,r;return{c(){e=d("div"),t=d("div"),l=d("input"),this.h()},l(f){e=_(f,"DIV",{class:!0});var u=v(e);t=_(u,"DIV",{class:!0});var h=v(t);l=_(h,"INPUT",{class:!0,placeholder:!0}),h.forEach(c),u.forEach(c),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[23].t("Enter Tika Server URL")),o(t,"class","flex-1 mr-2"),o(e,"class","flex w-full mt-1")},m(f,u){O(f,e,u),n(e,t),n(t,l),ee(l,s[11]),i||(r=se(l,"input",s[49]),i=!0)},p(f,u){u[0]&8388608&&a!==(a=f[23].t("Enter Tika Server URL"))&&o(l,"placeholder",a),u[0]&2048&&l.value!==f[11]&&ee(l,f[11])},d(f){f&&c(e),i=!1,r()}}}function bo(s){let e,t,l=s[23].t("Minimum Score")+"",a,i,r,f,u,h,b,p;return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("input"),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);a=U(E,l),E.forEach(c),i=D(g),r=_(g,"DIV",{class:!0});var w=v(r);f=_(w,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),w.forEach(c),g.forEach(c),this.h()},h(){o(t,"class","text-xs font-medium w-full"),o(f,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(f,"type","number"),o(f,"step","0.01"),o(f,"placeholder",u=s[23].t("Enter Score")),o(f,"autocomplete","off"),o(f,"min","0.0"),o(f,"title",h=s[23].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),o(r,"class","w-full"),o(e,"class","flex flex-col w-full gap-1")},m(m,g){O(m,e,g),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),ee(f,s[22].r),b||(p=se(f,"input",s[52]),b=!0)},p(m,g){g[0]&8388608&&l!==(l=m[23].t("Minimum Score")+"")&&H(a,l),g[0]&8388608&&u!==(u=m[23].t("Enter Score"))&&o(f,"placeholder",u),g[0]&8388608&&h!==(h=m[23].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&o(f,"title",h),g[0]&4194304&&Rl(f.value)!==m[22].r&&ee(f,m[22].r)},d(m){m&&c(e),b=!1,p()}}}function Eo(s){let e,t=s[23].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&H(l,t)},d(a){a&&c(e)}}}function M1(s){let e,t,l;function a(r){s[53](r)}let i={placeholder:s[23].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[22].template!==void 0&&(i.value=s[22].template),e=new ba({props:i}),it.push(()=>ht(e,"value",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};f[0]&8388608&&(u.placeholder=r[23].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&f[0]&4194304&&(t=!0,u.value=r[22].template,_t(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){W(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function O1(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"type","number"),o(e,"placeholder",t=s[23].t("Leave empty for unlimited")),o(e,"autocomplete","off"),o(e,"min","0")},m(i,r){O(i,e,r),ee(e,s[8]),l||(a=se(e,"input",s[58]),l=!0)},p(i,r){r[0]&8388608&&t!==(t=i[23].t("Leave empty for unlimited"))&&o(e,"placeholder",t),r[0]&256&&Rl(e.value)!==i[8]&&ee(e,i[8])},d(i){i&&c(e),l=!1,a()}}}function P1(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"type","number"),o(e,"placeholder",t=s[23].t("Leave empty for unlimited")),o(e,"autocomplete","off"),o(e,"min","0")},m(i,r){O(i,e,r),ee(e,s[9]),l||(a=se(e,"input",s[59]),l=!0)},p(i,r){r[0]&8388608&&t!==(t=i[23].t("Leave empty for unlimited"))&&o(e,"placeholder",t),r[0]&512&&Rl(e.value)!==i[9]&&ee(e,i[9])},d(i){i&&c(e),l=!1,a()}}}function L1(s){let e,t,l,a,i,r,f,u,h,b,p=s[23].t("General Settings")+"",m,g,E,w,k=s[23].t("Embedding Model Engine")+"",I,y,T,$,S,N=s[23].t("Default (SentenceTransformers)")+"",V,C,R=s[23].t("Ollama")+"",P,Z,B=s[23].t("OpenAI")+"",M,j,G,Y,z,X,q,Q,te=s[23].t("Hybrid Search")+"",x,F,J,ae,ue,ne,$e,ge,Le,be,He=s[23].t("Embedding Model")+"",Ve,ie,le,Ee,ce=s[23].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",ke,Ie,ze,Qe,ve,ye,fe,me=s[23].t("Content Extraction")+"",Oe,Me,Ge,Re,Ze=s[23].t("Engine")+"",Ke,Dt,re,we,pt,mt=s[23].t("Default")+"",gt,qe,Fe,ct=s[23].t("Tika")+"",Rt,At,Te,We,bt,ut,dt=s[23].t("Google Drive")+"",rt,xe,Xe,oe,Pe,Tt=s[23].t("Enable Google Drive")+"",Je,Ot,Et,ot,jt,el,Gt,It,Lt,Ct,Ue=s[23].t("Query Params")+"",Ae,De,wt,et,ft,Ft=s[23].t("Top K")+"",Ut,Bt,kt,je,Be,tt,st,Nt,rl,tl,$t=s[23].t("RAG Template")+"",ol,Qt,Zt,yl,fl,Wt,qt,hl,gl=s[23].t("Chunk Params")+"",kl,bl,Ht,El,Pt=s[23].t("Text Splitter")+"",Ne,lt,zt,Mt,dl,Tl=s[23].t("Default")+"",Cl,Ml,Ll=s[23].t("Character")+"",at,Ce,il,Al=s[23].t("Token")+"",Ol,Ul,jl=s[23].t("Tiktoken")+"",ss,Gl,bs,Kl,xl,Zl,ns=s[23].t("Chunk Size")+"",es,Es,ql,Pl,ts,ws,Vl,ls,is=s[23].t("Chunk Overlap")+"",hs,ks,Wl,_l,Cs,Zs,os,us,fs,ys=s[23].t("PDF Extract Images (OCR)")+"",Rs,qs,ps,Xl,er,tr,ka,lr,Ts,Ws,oa=s[23].t("Files")+"",Ia,sr,As,Ds,Fs,ua=s[23].t("Max Upload Size")+"",ya,ar,Ys,$s,rr,Vs,zs,fa=s[23].t("Max Upload Count")+"",Ta,nr,Qs,Ss,ir,Aa,or,Bs,vs,Hs,gr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',ur,Js,ca=s[23].t("Reset Upload Directory")+"",Da,fr,ms,js,br='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg>',cr,Xs,da=s[23].t("Reset Vector Storage/Knowledge")+"",$a,dr,xs,Gs,_a=s[23].t("Save")+"",Va,xt,_r,Er;function qo(Se){s[29](Se)}let wr={};s[3]!==void 0&&(wr.show=s[3]),e=new Ja({props:wr}),it.push(()=>ht(e,"show",qo)),e.$on("confirm",s[30]);function Wo(Se){s[31](Se)}let kr={};s[2]!==void 0&&(kr.show=s[2]),a=new Ja({props:kr}),it.push(()=>ht(a,"show",Wo)),a.$on("confirm",s[32]);const Ir=[I1,k1],Ns=[];function yr(Se,nt){return Se[4]==="openai"?0:Se[4]==="ollama"?1:-1}~(G=yr(s))&&(Y=Ns[G]=Ir[G](s));let Fl=(s[4]==="ollama"||s[4]==="openai")&&po(s);function Tr(Se,nt){return Se[22].hybrid===!0?T1:y1}let Sa=Tr(s),cs=Sa(s);function Ar(Se,nt){return Se[4]==="ollama"?D1:A1}let Na=Ar(s),ds=Na(s),Yl=s[22].hybrid===!0&&mo(s),zl=s[12]&&go(s);function Fo(Se){s[50](Se)}let Dr={};s[17]!==void 0&&(Dr.state=s[17]),ot=new wl({props:Dr}),it.push(()=>ht(ot,"state",Fo));let Ql=s[22].hybrid===!0&&bo(s),Jl=s[22].hybrid===!0&&Eo(s);Zt=new Yt({props:{content:s[23].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[M1]},$$scope:{ctx:s}}});function Yo(Se){s[57](Se)}let $r={};return s[16]!==void 0&&($r.state=s[16]),Xl=new wl({props:$r}),it.push(()=>ht(Xl,"state",Yo)),$s=new Yt({props:{content:s[23].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded."),placement:"top-start",$$slots:{default:[O1]},$$scope:{ctx:s}}}),Ss=new Yt({props:{content:s[23].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded."),placement:"top-start",$$slots:{default:[P1]},$$scope:{ctx:s}}}),{c(){de(e.$$.fragment),l=A(),de(a.$$.fragment),r=A(),f=d("form"),u=d("div"),h=d("div"),b=d("div"),m=L(p),g=A(),E=d("div"),w=d("div"),I=L(k),y=A(),T=d("div"),$=d("select"),S=d("option"),V=L(N),C=d("option"),P=L(R),Z=d("option"),M=L(B),j=A(),Y&&Y.c(),z=A(),Fl&&Fl.c(),X=A(),q=d("div"),Q=d("div"),x=L(te),F=A(),J=d("button"),cs.c(),ae=A(),ue=d("hr"),ne=A(),$e=d("div"),ge=A(),Le=d("div"),be=d("div"),Ve=L(He),ie=A(),ds.c(),le=A(),Ee=d("div"),ke=L(ce),Ie=A(),Yl&&Yl.c(),ze=A(),Qe=d("hr"),ve=A(),ye=d("div"),fe=d("div"),Oe=L(me),Me=A(),Ge=d("div"),Re=d("div"),Ke=L(Ze),Dt=A(),re=d("div"),we=d("select"),pt=d("option"),gt=L(mt),qe=A(),Fe=d("option"),Rt=L(ct),At=A(),zl&&zl.c(),Te=A(),We=d("hr"),bt=A(),ut=d("div"),rt=L(dt),xe=A(),Xe=d("div"),oe=d("div"),Pe=d("div"),Je=L(Tt),Ot=A(),Et=d("div"),de(ot.$$.fragment),el=A(),Gt=d("hr"),It=A(),Lt=d("div"),Ct=d("div"),Ae=L(Ue),De=A(),wt=d("div"),et=d("div"),ft=d("div"),Ut=L(Ft),Bt=A(),kt=d("div"),je=d("input"),tt=A(),Ql&&Ql.c(),st=A(),Jl&&Jl.c(),Nt=A(),rl=d("div"),tl=d("div"),ol=L($t),Qt=A(),de(Zt.$$.fragment),yl=A(),fl=d("hr"),Wt=A(),qt=d("div"),hl=d("div"),kl=L(gl),bl=A(),Ht=d("div"),El=d("div"),Ne=L(Pt),lt=A(),zt=d("div"),Mt=d("select"),dl=d("option"),Cl=L(Tl),Ml=L(" ("),at=L(Ll),Ce=L(")"),il=d("option"),Ol=L(Al),Ul=L(" ("),ss=L(jl),Gl=L(")"),bs=A(),Kl=d("div"),xl=d("div"),Zl=d("div"),es=L(ns),Es=A(),ql=d("div"),Pl=d("input"),ws=A(),Vl=d("div"),ls=d("div"),hs=L(is),ks=A(),Wl=d("div"),_l=d("input"),Zs=A(),os=d("div"),us=d("div"),fs=d("div"),Rs=L(ys),qs=A(),ps=d("div"),de(Xl.$$.fragment),tr=A(),ka=d("hr"),lr=A(),Ts=d("div"),Ws=d("div"),Ia=L(oa),sr=A(),As=d("div"),Ds=d("div"),Fs=d("div"),ya=L(ua),ar=A(),Ys=d("div"),de($s.$$.fragment),rr=A(),Vs=d("div"),zs=d("div"),Ta=L(fa),nr=A(),Qs=d("div"),de(Ss.$$.fragment),ir=A(),Aa=d("hr"),or=A(),Bs=d("div"),vs=d("button"),Hs=d("div"),Hs.innerHTML=gr,ur=A(),Js=d("div"),Da=L(ca),fr=A(),ms=d("button"),js=d("div"),js.innerHTML=br,cr=A(),Xs=d("div"),$a=L(da),dr=A(),xs=d("div"),Gs=d("button"),Va=L(_a),this.h()},l(Se){_e(e.$$.fragment,Se),l=D(Se),_e(a.$$.fragment,Se),r=D(Se),f=_(Se,"FORM",{class:!0});var nt=v(f);u=_(nt,"DIV",{class:!0});var ll=v(u);h=_(ll,"DIV",{class:!0});var as=v(h);b=_(as,"DIV",{class:!0});var ea=v(b);m=U(ea,p),ea.forEach(c),g=D(as),E=_(as,"DIV",{class:!0});var Ks=v(E);w=_(Ks,"DIV",{class:!0});var ta=v(w);I=U(ta,k),ta.forEach(c),y=D(Ks),T=_(Ks,"DIV",{class:!0});var ha=v(T);$=_(ha,"SELECT",{class:!0,placeholder:!0});var Ms=v($);S=_(Ms,"OPTION",{});var la=v(S);V=U(la,N),la.forEach(c),C=_(Ms,"OPTION",{});var Vr=v(C);P=U(Vr,R),Vr.forEach(c),Z=_(Ms,"OPTION",{});var Sr=v(Z);M=U(Sr,B),Sr.forEach(c),Ms.forEach(c),ha.forEach(c),Ks.forEach(c),j=D(as),Y&&Y.l(as),z=D(as),Fl&&Fl.l(as),X=D(as),q=_(as,"DIV",{class:!0});var Ma=v(q);Q=_(Ma,"DIV",{class:!0});var Nr=v(Q);x=U(Nr,te),Nr.forEach(c),F=D(Ma),J=_(Ma,"BUTTON",{class:!0,type:!0});var Mr=v(J);cs.l(Mr),Mr.forEach(c),Ma.forEach(c),as.forEach(c),ae=D(ll),ue=_(ll,"HR",{class:!0}),ne=D(ll),$e=_(ll,"DIV",{class:!0}),v($e).forEach(c),ge=D(ll),Le=_(ll,"DIV",{});var Os=v(Le);be=_(Os,"DIV",{class:!0});var Or=v(be);Ve=U(Or,He),Or.forEach(c),ie=D(Os),ds.l(Os),le=D(Os),Ee=_(Os,"DIV",{class:!0});var Pr=v(Ee);ke=U(Pr,ce),Pr.forEach(c),Ie=D(Os),Yl&&Yl.l(Os),Os.forEach(c),ze=D(ll),Qe=_(ll,"HR",{class:!0}),ve=D(ll),ye=_(ll,"DIV",{class:!0});var sa=v(ye);fe=_(sa,"DIV",{class:!0});var Lr=v(fe);Oe=U(Lr,me),Lr.forEach(c),Me=D(sa),Ge=_(sa,"DIV",{class:!0});var Oa=v(Ge);Re=_(Oa,"DIV",{class:!0});var Ur=v(Re);Ke=U(Ur,Ze),Ur.forEach(c),Dt=D(Oa),re=_(Oa,"DIV",{class:!0});var Cr=v(re);we=_(Cr,"SELECT",{class:!0});var hr=v(we);pt=_(hr,"OPTION",{});var pr=v(pt);gt=U(pr,mt),qe=D(pr),pr.forEach(c),Fe=_(hr,"OPTION",{});var Rr=v(Fe);Rt=U(Rr,ct),Rr.forEach(c),hr.forEach(c),Cr.forEach(c),Oa.forEach(c),At=D(sa),zl&&zl.l(sa),sa.forEach(c),Te=D(ll),We=_(ll,"HR",{class:!0}),bt=D(ll),ut=_(ll,"DIV",{class:!0});var Br=v(ut);rt=U(Br,dt),Br.forEach(c),xe=D(ll),Xe=_(ll,"DIV",{class:!0});var Hr=v(Xe);oe=_(Hr,"DIV",{class:!0});var Pa=v(oe);Pe=_(Pa,"DIV",{class:!0});var jr=v(Pe);Je=U(jr,Tt),jr.forEach(c),Ot=D(Pa),Et=_(Pa,"DIV",{});var Gr=v(Et);_e(ot.$$.fragment,Gr),Gr.forEach(c),Pa.forEach(c),Hr.forEach(c),el=D(ll),Gt=_(ll,"HR",{class:!0}),It=D(ll),Lt=_(ll,"DIV",{class:!0});var Ps=v(Lt);Ct=_(Ps,"DIV",{class:!0});var Kr=v(Ct);Ae=U(Kr,Ue),Kr.forEach(c),De=D(Ps),wt=_(Ps,"DIV",{class:!0});var La=v(wt);et=_(La,"DIV",{class:!0});var Ua=v(et);ft=_(Ua,"DIV",{class:!0});var Zr=v(ft);Ut=U(Zr,Ft),Zr.forEach(c),Bt=D(Ua),kt=_(Ua,"DIV",{class:!0});var qr=v(kt);je=_(qr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),qr.forEach(c),Ua.forEach(c),tt=D(La),Ql&&Ql.l(La),La.forEach(c),st=D(Ps),Jl&&Jl.l(Ps),Nt=D(Ps),rl=_(Ps,"DIV",{class:!0});var Ca=v(rl);tl=_(Ca,"DIV",{class:!0});var Wr=v(tl);ol=U(Wr,$t),Wr.forEach(c),Qt=D(Ca),_e(Zt.$$.fragment,Ca),Ca.forEach(c),Ps.forEach(c),yl=D(ll),fl=_(ll,"HR",{class:!0}),Wt=D(ll),qt=_(ll,"DIV",{class:!0});var Ls=v(qt);hl=_(Ls,"DIV",{class:!0});var Fr=v(hl);kl=U(Fr,gl),Fr.forEach(c),bl=D(Ls),Ht=_(Ls,"DIV",{class:!0});var Ra=v(Ht);El=_(Ra,"DIV",{class:!0});var Yr=v(El);Ne=U(Yr,Pt),Yr.forEach(c),lt=D(Ra),zt=_(Ra,"DIV",{class:!0});var zr=v(zt);Mt=_(zr,"SELECT",{class:!0});var vr=v(Mt);dl=_(vr,"OPTION",{});var pa=v(dl);Cl=U(pa,Tl),Ml=U(pa," ("),at=U(pa,Ll),Ce=U(pa,")"),pa.forEach(c),il=_(vr,"OPTION",{});var va=v(il);Ol=U(va,Al),Ul=U(va," ("),ss=U(va,jl),Gl=U(va,")"),va.forEach(c),vr.forEach(c),zr.forEach(c),Ra.forEach(c),bs=D(Ls),Kl=_(Ls,"DIV",{class:!0});var Ba=v(Kl);xl=_(Ba,"DIV",{class:!0});var Ha=v(xl);Zl=_(Ha,"DIV",{class:!0});var Qr=v(Zl);es=U(Qr,ns),Qr.forEach(c),Es=D(Ha),ql=_(Ha,"DIV",{class:!0});var Jr=v(ql);Pl=_(Jr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),Jr.forEach(c),Ha.forEach(c),ws=D(Ba),Vl=_(Ba,"DIV",{class:!0});var ja=v(Vl);ls=_(ja,"DIV",{class:!0});var Xr=v(ls);hs=U(Xr,is),Xr.forEach(c),ks=D(ja),Wl=_(ja,"DIV",{class:!0});var xr=v(Wl);_l=_(xr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),xr.forEach(c),ja.forEach(c),Ba.forEach(c),Zs=D(Ls),os=_(Ls,"DIV",{class:!0});var en=v(os);us=_(en,"DIV",{class:!0});var Ga=v(us);fs=_(Ga,"DIV",{class:!0});var tn=v(fs);Rs=U(tn,ys),tn.forEach(c),qs=D(Ga),ps=_(Ga,"DIV",{});var ln=v(ps);_e(Xl.$$.fragment,ln),ln.forEach(c),Ga.forEach(c),en.forEach(c),Ls.forEach(c),tr=D(ll),ka=_(ll,"HR",{class:!0}),lr=D(ll),Ts=_(ll,"DIV",{class:!0});var Ka=v(Ts);Ws=_(Ka,"DIV",{class:!0});var sn=v(Ws);Ia=U(sn,oa),sn.forEach(c),sr=D(Ka),As=_(Ka,"DIV",{class:!0});var Za=v(As);Ds=_(Za,"DIV",{class:!0});var qa=v(Ds);Fs=_(qa,"DIV",{class:!0});var an=v(Fs);ya=U(an,ua),an.forEach(c),ar=D(qa),Ys=_(qa,"DIV",{class:!0});var rn=v(Ys);_e($s.$$.fragment,rn),rn.forEach(c),qa.forEach(c),rr=D(Za),Vs=_(Za,"DIV",{class:!0});var Wa=v(Vs);zs=_(Wa,"DIV",{class:!0});var nn=v(zs);Ta=U(nn,fa),nn.forEach(c),nr=D(Wa),Qs=_(Wa,"DIV",{class:!0});var on=v(Qs);_e(Ss.$$.fragment,on),on.forEach(c),Wa.forEach(c),Za.forEach(c),Ka.forEach(c),ir=D(ll),Aa=_(ll,"HR",{class:!0}),or=D(ll),Bs=_(ll,"DIV",{});var Fa=v(Bs);vs=_(Fa,"BUTTON",{class:!0,type:!0});var Ya=v(vs);Hs=_(Ya,"DIV",{class:!0,"data-svelte-h":!0}),Kt(Hs)!=="svelte-1m6igha"&&(Hs.innerHTML=gr),ur=D(Ya),Js=_(Ya,"DIV",{class:!0});var un=v(Js);Da=U(un,ca),un.forEach(c),Ya.forEach(c),fr=D(Fa),ms=_(Fa,"BUTTON",{class:!0,type:!0});var za=v(ms);js=_(za,"DIV",{class:!0,"data-svelte-h":!0}),Kt(js)!=="svelte-16tyzd9"&&(js.innerHTML=br),cr=D(za),Xs=_(za,"DIV",{class:!0});var fn=v(Xs);$a=U(fn,da),fn.forEach(c),za.forEach(c),Fa.forEach(c),ll.forEach(c),dr=D(nt),xs=_(nt,"DIV",{class:!0});var cn=v(xs);Gs=_(cn,"BUTTON",{class:!0,type:!0});var dn=v(Gs);Va=U(dn,_a),dn.forEach(c),cn.forEach(c),nt.forEach(c),this.h()},h(){o(b,"class","mb-0.5 text-sm font-medium"),o(w,"class","self-center text-xs font-medium"),S.__value="",ee(S,S.__value),C.__value="ollama",ee(C,C.__value),Z.__value="openai",ee(Z,Z.__value),o($,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o($,"placeholder","Select an embedding model engine"),s[4]===void 0&&Nl(()=>s[33].call($)),o(T,"class","flex items-center relative"),o(E,"class","flex w-full justify-between"),o(Q,"class","self-center text-xs font-medium"),o(J,"class","p-1 px-3 text-xs flex rounded transition"),o(J,"type","button"),o(q,"class","flex w-full justify-between"),o(h,"class","flex flex-col gap-0.5"),o(ue,"class","dark:border-gray-850"),o($e,"class","space-y-2"),o(be,"class","mb-2 text-sm font-medium"),o(Ee,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(Qe,"class","dark:border-gray-850"),o(fe,"class","text-sm font-medium mb-1"),o(Re,"class","self-center text-xs font-medium"),pt.__value="",ee(pt,pt.__value),Fe.__value="tika",ee(Fe,Fe.__value),o(we,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 text-xs bg-transparent outline-none text-right"),s[10]===void 0&&Nl(()=>s[47].call(we)),o(re,"class","flex items-center relative"),o(Ge,"class","flex w-full justify-between"),o(ye,"class",""),o(We,"class","dark:border-gray-850"),o(ut,"class","text-sm font-medium mb-1"),o(Pe,"class","text-xs font-medium"),o(oe,"class","flex justify-between items-center text-xs"),o(Xe,"class",""),o(Gt,"class","dark:border-gray-850"),o(Ct,"class","text-sm font-medium mb-1"),o(ft,"class","text-xs font-medium w-full"),o(je,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(je,"type","number"),o(je,"placeholder",Be=s[23].t("Enter Top K")),o(je,"autocomplete","off"),o(je,"min","0"),o(kt,"class","w-full"),o(et,"class","flex flex-col w-full gap-1"),o(wt,"class","flex gap-1.5"),o(tl,"class","mb-1 text-xs font-medium"),o(rl,"class","mt-2"),o(Lt,"class",""),o(fl,"class","dark:border-gray-850"),o(hl,"class","mb-1 text-sm font-medium"),o(El,"class","self-center text-xs font-medium"),dl.__value="",ee(dl,dl.__value),il.__value="token",ee(il,il.__value),o(Mt,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 text-xs bg-transparent outline-none text-right"),s[13]===void 0&&Nl(()=>s[54].call(Mt)),o(zt,"class","flex items-center relative"),o(Ht,"class","flex w-full justify-between mb-1.5"),o(Zl,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Pl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Pl,"type","number"),o(Pl,"placeholder",ts=s[23].t("Enter Chunk Size")),o(Pl,"autocomplete","off"),o(Pl,"min","0"),o(ql,"class","self-center"),o(xl,"class","w-full justify-between"),o(ls,"class","self-center text-xs font-medium min-w-fit mb-1"),o(_l,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(_l,"type","number"),o(_l,"placeholder",Cs=s[23].t("Enter Chunk Overlap")),o(_l,"autocomplete","off"),o(_l,"min","0"),o(Wl,"class","self-center"),o(Vl,"class","w-full"),o(Kl,"class","flex gap-1.5"),o(fs,"class","text-xs font-medium"),o(us,"class","flex justify-between items-center text-xs"),o(os,"class","my-2"),o(qt,"class",""),o(ka,"class","dark:border-gray-850"),o(Ws,"class","text-sm font-medium mb-1"),o(Fs,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Ys,"class","self-center"),o(Ds,"class","w-full"),o(zs,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Qs,"class","self-center"),o(Vs,"class","w-full"),o(As,"class","flex gap-1.5"),o(Ts,"class",""),o(Aa,"class","dark:border-gray-850"),o(Hs,"class","self-center mr-3"),o(Js,"class","self-center text-sm font-medium"),o(vs,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(vs,"type","button"),o(js,"class","self-center mr-3"),o(Xs,"class","self-center text-sm font-medium"),o(ms,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(ms,"type","button"),o(u,"class","space-y-2.5 overflow-y-scroll scrollbar-hidden h-full pr-1.5"),o(Gs,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(Gs,"type","submit"),o(xs,"class","flex justify-end pt-3 text-sm font-medium"),o(f,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Se,nt){he(e,Se,nt),O(Se,l,nt),he(a,Se,nt),O(Se,r,nt),O(Se,f,nt),n(f,u),n(u,h),n(h,b),n(b,m),n(h,g),n(h,E),n(E,w),n(w,I),n(E,y),n(E,T),n(T,$),n($,S),n(S,V),n($,C),n(C,P),n($,Z),n(Z,M),Jt($,s[4],!0),n(h,j),~G&&Ns[G].m(h,null),n(h,z),Fl&&Fl.m(h,null),n(h,X),n(h,q),n(q,Q),n(Q,x),n(q,F),n(q,J),cs.m(J,null),n(u,ae),n(u,ue),n(u,ne),n(u,$e),n(u,ge),n(u,Le),n(Le,be),n(be,Ve),n(Le,ie),ds.m(Le,null),n(Le,le),n(Le,Ee),n(Ee,ke),n(Le,Ie),Yl&&Yl.m(Le,null),n(u,ze),n(u,Qe),n(u,ve),n(u,ye),n(ye,fe),n(fe,Oe),n(ye,Me),n(ye,Ge),n(Ge,Re),n(Re,Ke),n(Ge,Dt),n(Ge,re),n(re,we),n(we,pt),n(pt,gt),n(pt,qe),n(we,Fe),n(Fe,Rt),Jt(we,s[10],!0),n(ye,At),zl&&zl.m(ye,null),n(u,Te),n(u,We),n(u,bt),n(u,ut),n(ut,rt),n(u,xe),n(u,Xe),n(Xe,oe),n(oe,Pe),n(Pe,Je),n(oe,Ot),n(oe,Et),he(ot,Et,null),n(u,el),n(u,Gt),n(u,It),n(u,Lt),n(Lt,Ct),n(Ct,Ae),n(Lt,De),n(Lt,wt),n(wt,et),n(et,ft),n(ft,Ut),n(et,Bt),n(et,kt),n(kt,je),ee(je,s[22].k),n(wt,tt),Ql&&Ql.m(wt,null),n(Lt,st),Jl&&Jl.m(Lt,null),n(Lt,Nt),n(Lt,rl),n(rl,tl),n(tl,ol),n(rl,Qt),he(Zt,rl,null),n(u,yl),n(u,fl),n(u,Wt),n(u,qt),n(qt,hl),n(hl,kl),n(qt,bl),n(qt,Ht),n(Ht,El),n(El,Ne),n(Ht,lt),n(Ht,zt),n(zt,Mt),n(Mt,dl),n(dl,Cl),n(dl,Ml),n(dl,at),n(dl,Ce),n(Mt,il),n(il,Ol),n(il,Ul),n(il,ss),n(il,Gl),Jt(Mt,s[13],!0),n(qt,bs),n(qt,Kl),n(Kl,xl),n(xl,Zl),n(Zl,es),n(xl,Es),n(xl,ql),n(ql,Pl),ee(Pl,s[14]),n(Kl,ws),n(Kl,Vl),n(Vl,ls),n(ls,hs),n(Vl,ks),n(Vl,Wl),n(Wl,_l),ee(_l,s[15]),n(qt,Zs),n(qt,os),n(os,us),n(us,fs),n(fs,Rs),n(us,qs),n(us,ps),he(Xl,ps,null),n(u,tr),n(u,ka),n(u,lr),n(u,Ts),n(Ts,Ws),n(Ws,Ia),n(Ts,sr),n(Ts,As),n(As,Ds),n(Ds,Fs),n(Fs,ya),n(Ds,ar),n(Ds,Ys),he($s,Ys,null),n(As,rr),n(As,Vs),n(Vs,zs),n(zs,Ta),n(Vs,nr),n(Vs,Qs),he(Ss,Qs,null),n(u,ir),n(u,Aa),n(u,or),n(u,Bs),n(Bs,vs),n(vs,Hs),n(vs,ur),n(vs,Js),n(Js,Da),n(Bs,fr),n(Bs,ms),n(ms,js),n(ms,cr),n(ms,Xs),n(Xs,$a),n(f,dr),n(f,xs),n(xs,Gs),n(Gs,Va),xt=!0,_r||(Er=[se($,"change",s[33]),se($,"change",s[34]),se(J,"click",s[41]),se(we,"change",s[47]),se(we,"change",s[48]),se(je,"input",s[51]),se(Mt,"change",s[54]),se(Pl,"input",s[55]),se(_l,"input",s[56]),se(vs,"click",s[60]),se(ms,"click",s[61]),se(f,"submit",rs(s[62]))],_r=!0)},p(Se,nt){const ll={};!t&&nt[0]&8&&(t=!0,ll.show=Se[3],_t(()=>t=!1)),e.$set(ll);const as={};!i&&nt[0]&4&&(i=!0,as.show=Se[2],_t(()=>i=!1)),a.$set(as),(!xt||nt[0]&8388608)&&p!==(p=Se[23].t("General Settings")+"")&&H(m,p),(!xt||nt[0]&8388608)&&k!==(k=Se[23].t("Embedding Model Engine")+"")&&H(I,k),(!xt||nt[0]&8388608)&&N!==(N=Se[23].t("Default (SentenceTransformers)")+"")&&H(V,N),(!xt||nt[0]&8388608)&&R!==(R=Se[23].t("Ollama")+"")&&H(P,R),(!xt||nt[0]&8388608)&&B!==(B=Se[23].t("OpenAI")+"")&&H(M,B),nt[0]&16&&Jt($,Se[4]);let ea=G;G=yr(Se),G===ea?~G&&Ns[G].p(Se,nt):(Y&&(Vt(),W(Ns[ea],1,1,()=>{Ns[ea]=null}),St()),~G?(Y=Ns[G],Y?Y.p(Se,nt):(Y=Ns[G]=Ir[G](Se),Y.c()),K(Y,1),Y.m(h,z)):Y=null),Se[4]==="ollama"||Se[4]==="openai"?Fl?Fl.p(Se,nt):(Fl=po(Se),Fl.c(),Fl.m(h,X)):Fl&&(Fl.d(1),Fl=null),(!xt||nt[0]&8388608)&&te!==(te=Se[23].t("Hybrid Search")+"")&&H(x,te),Sa===(Sa=Tr(Se))&&cs?cs.p(Se,nt):(cs.d(1),cs=Sa(Se),cs&&(cs.c(),cs.m(J,null))),(!xt||nt[0]&8388608)&&He!==(He=Se[23].t("Embedding Model")+"")&&H(Ve,He),Na===(Na=Ar(Se))&&ds?ds.p(Se,nt):(ds.d(1),ds=Na(Se),ds&&(ds.c(),ds.m(Le,le))),(!xt||nt[0]&8388608)&&ce!==(ce=Se[23].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&H(ke,ce),Se[22].hybrid===!0?Yl?Yl.p(Se,nt):(Yl=mo(Se),Yl.c(),Yl.m(Le,null)):Yl&&(Yl.d(1),Yl=null),(!xt||nt[0]&8388608)&&me!==(me=Se[23].t("Content Extraction")+"")&&H(Oe,me),(!xt||nt[0]&8388608)&&Ze!==(Ze=Se[23].t("Engine")+"")&&H(Ke,Ze),(!xt||nt[0]&8388608)&&mt!==(mt=Se[23].t("Default")+"")&&H(gt,mt),(!xt||nt[0]&8388608)&&ct!==(ct=Se[23].t("Tika")+"")&&H(Rt,ct),nt[0]&1024&&Jt(we,Se[10]),Se[12]?zl?zl.p(Se,nt):(zl=go(Se),zl.c(),zl.m(ye,null)):zl&&(zl.d(1),zl=null),(!xt||nt[0]&8388608)&&dt!==(dt=Se[23].t("Google Drive")+"")&&H(rt,dt),(!xt||nt[0]&8388608)&&Tt!==(Tt=Se[23].t("Enable Google Drive")+"")&&H(Je,Tt);const Ks={};!jt&&nt[0]&131072&&(jt=!0,Ks.state=Se[17],_t(()=>jt=!1)),ot.$set(Ks),(!xt||nt[0]&8388608)&&Ue!==(Ue=Se[23].t("Query Params")+"")&&H(Ae,Ue),(!xt||nt[0]&8388608)&&Ft!==(Ft=Se[23].t("Top K")+"")&&H(Ut,Ft),(!xt||nt[0]&8388608&&Be!==(Be=Se[23].t("Enter Top K")))&&o(je,"placeholder",Be),nt[0]&4194304&&Rl(je.value)!==Se[22].k&&ee(je,Se[22].k),Se[22].hybrid===!0?Ql?Ql.p(Se,nt):(Ql=bo(Se),Ql.c(),Ql.m(wt,null)):Ql&&(Ql.d(1),Ql=null),Se[22].hybrid===!0?Jl?Jl.p(Se,nt):(Jl=Eo(Se),Jl.c(),Jl.m(Lt,Nt)):Jl&&(Jl.d(1),Jl=null),(!xt||nt[0]&8388608)&&$t!==($t=Se[23].t("RAG Template")+"")&&H(ol,$t);const ta={};nt[0]&8388608&&(ta.content=Se[23].t("Leave empty to use the default prompt, or enter a custom prompt")),nt[0]&12582912|nt[2]&16&&(ta.$$scope={dirty:nt,ctx:Se}),Zt.$set(ta),(!xt||nt[0]&8388608)&&gl!==(gl=Se[23].t("Chunk Params")+"")&&H(kl,gl),(!xt||nt[0]&8388608)&&Pt!==(Pt=Se[23].t("Text Splitter")+"")&&H(Ne,Pt),(!xt||nt[0]&8388608)&&Tl!==(Tl=Se[23].t("Default")+"")&&H(Cl,Tl),(!xt||nt[0]&8388608)&&Ll!==(Ll=Se[23].t("Character")+"")&&H(at,Ll),(!xt||nt[0]&8388608)&&Al!==(Al=Se[23].t("Token")+"")&&H(Ol,Al),(!xt||nt[0]&8388608)&&jl!==(jl=Se[23].t("Tiktoken")+"")&&H(ss,jl),nt[0]&8192&&Jt(Mt,Se[13]),(!xt||nt[0]&8388608)&&ns!==(ns=Se[23].t("Chunk Size")+"")&&H(es,ns),(!xt||nt[0]&8388608&&ts!==(ts=Se[23].t("Enter Chunk Size")))&&o(Pl,"placeholder",ts),nt[0]&16384&&Rl(Pl.value)!==Se[14]&&ee(Pl,Se[14]),(!xt||nt[0]&8388608)&&is!==(is=Se[23].t("Chunk Overlap")+"")&&H(hs,is),(!xt||nt[0]&8388608&&Cs!==(Cs=Se[23].t("Enter Chunk Overlap")))&&o(_l,"placeholder",Cs),nt[0]&32768&&Rl(_l.value)!==Se[15]&&ee(_l,Se[15]),(!xt||nt[0]&8388608)&&ys!==(ys=Se[23].t("PDF Extract Images (OCR)")+"")&&H(Rs,ys);const ha={};!er&&nt[0]&65536&&(er=!0,ha.state=Se[16],_t(()=>er=!1)),Xl.$set(ha),(!xt||nt[0]&8388608)&&oa!==(oa=Se[23].t("Files")+"")&&H(Ia,oa),(!xt||nt[0]&8388608)&&ua!==(ua=Se[23].t("Max Upload Size")+"")&&H(ya,ua);const Ms={};nt[0]&8388608&&(Ms.content=Se[23].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded.")),nt[0]&8388864|nt[2]&16&&(Ms.$$scope={dirty:nt,ctx:Se}),$s.$set(Ms),(!xt||nt[0]&8388608)&&fa!==(fa=Se[23].t("Max Upload Count")+"")&&H(Ta,fa);const la={};nt[0]&8388608&&(la.content=Se[23].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded.")),nt[0]&8389120|nt[2]&16&&(la.$$scope={dirty:nt,ctx:Se}),Ss.$set(la),(!xt||nt[0]&8388608)&&ca!==(ca=Se[23].t("Reset Upload Directory")+"")&&H(Da,ca),(!xt||nt[0]&8388608)&&da!==(da=Se[23].t("Reset Vector Storage/Knowledge")+"")&&H($a,da),(!xt||nt[0]&8388608)&&_a!==(_a=Se[23].t("Save")+"")&&H(Va,_a)},i(Se){xt||(K(e.$$.fragment,Se),K(a.$$.fragment,Se),K(Y),K(ot.$$.fragment,Se),K(Zt.$$.fragment,Se),K(Xl.$$.fragment,Se),K($s.$$.fragment,Se),K(Ss.$$.fragment,Se),xt=!0)},o(Se){W(e.$$.fragment,Se),W(a.$$.fragment,Se),W(Y),W(ot.$$.fragment,Se),W(Zt.$$.fragment,Se),W(Xl.$$.fragment,Se),W($s.$$.fragment,Se),W(Ss.$$.fragment,Se),xt=!1},d(Se){Se&&(c(l),c(r),c(f)),pe(e,Se),pe(a,Se),~G&&Ns[G].d(),Fl&&Fl.d(),cs.d(),ds.d(),Yl&&Yl.d(),zl&&zl.d(),pe(ot),Ql&&Ql.d(),Jl&&Jl.d(),pe(Zt),pe(Xl),pe($s),pe(Ss),_r=!1,ul(Er)}}}function U1(s,e,t){let l;const a=gs(),i=Il("i18n");nl(s,i,re=>t(23,l=re));let r=!1,f=!1,u=!1,h=!1,b="",p="",m=1,g="",E=null,w=null,k="default",I="",y=!1,T="",$=0,S=0,N=!0,V=!1,C="",R="",P="",Z="",B={template:"",r:0,k:4,hybrid:!1};const M=async()=>{if(b===""&&p.split("/").length-1>1){Ye.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(b==="ollama"&&p===""){Ye.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(b==="openai"&&p===""){Ye.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(b==="openai"&&R===""||C===""){Ye.error(l.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",p),t(0,r=!0);const re=await ef(localStorage.token,{embedding_engine:b,embedding_model:p,embedding_batch_size:m,ollama_config:{key:Z,url:P},openai_config:{key:R,url:C}}).catch(async we=>(Ye.error(`${we}`),await Y(),null));t(0,r=!1),re&&(console.log("embeddingModelUpdateHandler:",re),re.status===!0&&Ye.success(l.t('Embedding model set to "{{embedding_model}}"',re),{duration:1e3*10}))},j=async()=>{console.log("Update reranking model attempt:",g),t(1,f=!0);const re=await Qu(localStorage.token,{reranking_model:g}).catch(async we=>(Ye.error(`${we}`),await z(),null));t(1,f=!1),re&&(console.log("rerankingModelUpdateHandler:",re),re.status===!0&&(g===""?Ye.success(l.t("Reranking model disabled",re),{duration:1e3*10}):Ye.success(l.t('Reranking model set to "{{reranking_model}}"',re),{duration:1e3*10})))},G=async()=>{if(await M(),B.hybrid&&await j(),k==="tika"&&I===""){Ye.error(l.t("Tika Server URL required."));return}await Go(localStorage.token,{pdf_extract_images:N,enable_google_drive_integration:V,file:{max_size:E===""?null:E,max_count:w===""?null:w},chunk:{text_splitter:T,chunk_overlap:S,chunk_size:$},content_extraction:{engine:k,tika_server_url:I}}),await En(localStorage.token,B),a("save")},Y=async()=>{const re=await Ju(localStorage.token);re&&(t(4,b=re.embedding_engine),t(5,p=re.embedding_model),t(6,m=re.embedding_batch_size??1),t(19,R=re.openai_config.key),t(18,C=re.openai_config.url),t(21,Z=re.ollama_config.key),t(20,P=re.ollama_config.url))},z=async()=>{const re=await Xu(localStorage.token);re&&t(7,g=re.reranking_model)},X=async()=>{t(22,B.hybrid=!B.hybrid,B),t(22,B=await En(localStorage.token,B))};Hl(async()=>{await Y(),await z(),t(22,B=await zu(localStorage.token));const re=await jo(localStorage.token);re&&(t(16,N=re.pdf_extract_images),t(13,T=re.chunk.text_splitter),t(14,$=re.chunk.chunk_size),t(15,S=re.chunk.chunk_overlap),t(10,k=re.content_extraction.engine),t(11,I=re.content_extraction.tika_server_url),t(12,y=k==="tika"),t(8,E=(re==null?void 0:re.file.max_size)??""),t(9,w=(re==null?void 0:re.file.max_count)??""),t(17,V=re.enable_google_drive_integration))});function q(re){h=re,t(3,h)}const Q=async()=>{await tf(localStorage.token).catch(we=>(Ye.error(`${we}`),null))&&Ye.success(l.t("Success"))};function te(re){u=re,t(2,u)}const x=()=>{xu(localStorage.token).catch(we=>(Ye.error(`${we}`),null))&&Ye.success(l.t("Success"))};function F(){b=Sl(this),t(4,b)}const J=re=>{re.target.value==="ollama"?t(5,p=""):re.target.value==="openai"?t(5,p="text-embedding-3-small"):re.target.value===""&&t(5,p="sentence-transformers/all-MiniLM-L6-v2")};function ae(){C=this.value,t(18,C)}function ue(re){R=re,t(19,R)}function ne(){P=this.value,t(20,P)}function $e(re){Z=re,t(21,Z)}function ge(){m=Rl(this.value),t(6,m)}function Le(){m=Rl(this.value),t(6,m)}const be=()=>{X()};function He(){p=this.value,t(5,p)}function Ve(){p=this.value,t(5,p)}const ie=()=>{M()};function le(){g=this.value,t(7,g)}const Ee=()=>{j()};function ce(){k=Sl(this),t(10,k)}const ke=re=>{t(12,y=re.target.value==="tika")};function Ie(){I=this.value,t(11,I)}function ze(re){V=re,t(17,V)}function Qe(){B.k=Rl(this.value),t(22,B)}function ve(){B.r=Rl(this.value),t(22,B)}function ye(re){s.$$.not_equal(B.template,re)&&(B.template=re,t(22,B))}function fe(){T=Sl(this),t(13,T)}function me(){$=Rl(this.value),t(14,$)}function Oe(){S=Rl(this.value),t(15,S)}function Me(re){N=re,t(16,N)}function Ge(){E=Rl(this.value),t(8,E)}function Re(){w=Rl(this.value),t(9,w)}return[r,f,u,h,b,p,m,g,E,w,k,I,y,T,$,S,N,V,C,R,P,Z,B,l,i,M,j,G,X,q,Q,te,x,F,J,ae,ue,ne,$e,ge,Le,be,He,Ve,ie,le,Ee,ce,ke,Ie,ze,Qe,ve,ye,fe,me,Oe,Me,Ge,Re,()=>{t(3,h=!0)},()=>{t(2,u=!0)},()=>{G()}]}class C1 extends vl{constructor(e){super(),ml(this,e,U1,L1,pl,{},null,[-1,-1,-1])}}function wo(s,e,t){const l=s.slice();return l[32]=e[t],l}function ko(s){let e,t,l=s[4].t("Web Search")+"",a,i,r,f,u,h=s[4].t("Enable Web Search")+"",b,p,m,g,E,w,k,I=s[4].t("Web Search Engine")+"",y,T,$,S,N,V=s[4].t("Select a engine")+"",C,R,P,Z,B,M,j,G,Y,z=s[4].t("Web Loader Settings")+"",X,q,Q,te,x,F=s[4].t("Bypass SSL verification for Websites")+"",J,ae,ue,ne,$e,ge=s[4].t("Youtube Loader Settings")+"",Le,be,He,Ve,ie,le=s[4].t("Language")+"",Ee,ce,ke,Ie,ze,Qe,ve,ye,fe,me=s[4].t("Proxy URL")+"",Oe,Me,Ge,Re,Ze,Ke,Dt,re;function we(Te){s[8](Te)}let pt={};s[1].search.enabled!==void 0&&(pt.state=s[1].search.enabled),m=new wl({props:pt}),it.push(()=>ht(m,"state",we));let mt=yt(s[6]),gt=[];for(let Te=0;Te<mt.length;Te+=1)gt[Te]=Io(wo(s,mt,Te));let qe=s[1].search.engine!==""&&yo(s),Fe=s[1].search.enabled&&To(s);function ct(Te,We){return Te[1].web_loader_ssl_verification===!1?J1:Q1}let Rt=ct(s),At=Rt(s);return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("div"),b=L(h),p=A(),de(m.$$.fragment),E=A(),w=d("div"),k=d("div"),y=L(I),T=A(),$=d("div"),S=d("select"),N=d("option"),C=L(V);for(let Te=0;Te<gt.length;Te+=1)gt[Te].c();P=A(),qe&&qe.c(),Z=A(),Fe&&Fe.c(),B=A(),M=d("hr"),j=A(),G=d("div"),Y=d("div"),X=L(z),q=A(),Q=d("div"),te=d("div"),x=d("div"),J=L(F),ae=A(),ue=d("button"),At.c(),ne=A(),$e=d("div"),Le=L(ge),be=A(),He=d("div"),Ve=d("div"),ie=d("div"),Ee=L(le),ce=A(),ke=d("div"),Ie=d("input"),Qe=A(),ve=d("div"),ye=d("div"),fe=d("div"),Oe=L(me),Me=A(),Ge=d("div"),Re=d("input"),this.h()},l(Te){e=_(Te,"DIV",{});var We=v(e);t=_(We,"DIV",{class:!0});var bt=v(t);a=U(bt,l),bt.forEach(c),i=D(We),r=_(We,"DIV",{});var ut=v(r);f=_(ut,"DIV",{class:!0});var dt=v(f);u=_(dt,"DIV",{class:!0});var rt=v(u);b=U(rt,h),rt.forEach(c),p=D(dt),_e(m.$$.fragment,dt),dt.forEach(c),ut.forEach(c),E=D(We),w=_(We,"DIV",{class:!0});var xe=v(w);k=_(xe,"DIV",{class:!0});var Xe=v(k);y=U(Xe,I),Xe.forEach(c),T=D(xe),$=_(xe,"DIV",{class:!0});var oe=v($);S=_(oe,"SELECT",{class:!0,placeholder:!0});var Pe=v(S);N=_(Pe,"OPTION",{});var Tt=v(N);C=U(Tt,V),Tt.forEach(c);for(let ft=0;ft<gt.length;ft+=1)gt[ft].l(Pe);Pe.forEach(c),oe.forEach(c),xe.forEach(c),P=D(We),qe&&qe.l(We),Z=D(We),Fe&&Fe.l(We),We.forEach(c),B=D(Te),M=_(Te,"HR",{class:!0}),j=D(Te),G=_(Te,"DIV",{});var Je=v(G);Y=_(Je,"DIV",{class:!0});var Ot=v(Y);X=U(Ot,z),Ot.forEach(c),q=D(Je),Q=_(Je,"DIV",{});var Et=v(Q);te=_(Et,"DIV",{class:!0});var ot=v(te);x=_(ot,"DIV",{class:!0});var jt=v(x);J=U(jt,F),jt.forEach(c),ae=D(ot),ue=_(ot,"BUTTON",{class:!0,type:!0});var el=v(ue);At.l(el),el.forEach(c),ot.forEach(c),Et.forEach(c),ne=D(Je),$e=_(Je,"DIV",{class:!0});var Gt=v($e);Le=U(Gt,ge),Gt.forEach(c),be=D(Je),He=_(Je,"DIV",{});var It=v(He);Ve=_(It,"DIV",{class:!0});var Lt=v(Ve);ie=_(Lt,"DIV",{class:!0});var Ct=v(ie);Ee=U(Ct,le),Ct.forEach(c),ce=D(Lt),ke=_(Lt,"DIV",{class:!0});var Ue=v(ke);Ie=_(Ue,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ue.forEach(c),Lt.forEach(c),It.forEach(c),Qe=D(Je),ve=_(Je,"DIV",{});var Ae=v(ve);ye=_(Ae,"DIV",{class:!0});var De=v(ye);fe=_(De,"DIV",{class:!0});var wt=v(fe);Oe=U(wt,me),wt.forEach(c),Me=D(De),Ge=_(De,"DIV",{class:!0});var et=v(Ge);Re=_(et,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),et.forEach(c),De.forEach(c),Ae.forEach(c),Je.forEach(c),this.h()},h(){o(t,"class","mb-1 text-sm font-medium"),o(u,"class","self-center text-xs font-medium"),o(f,"class","py-0.5 flex w-full justify-between"),o(k,"class","self-center text-xs font-medium"),N.disabled=!0,N.selected=!0,N.__value="",ee(N,N.__value),o(S,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(S,"placeholder",R=s[4].t("Select a engine")),S.required=!0,s[1].search.engine===void 0&&Nl(()=>s[9].call(S)),o($,"class","flex items-center relative"),o(w,"class","py-0.5 flex w-full justify-between"),o(M,"class","dark:border-gray-850 my-2"),o(Y,"class","mb-1 text-sm font-medium"),o(x,"class","self-center text-xs font-medium"),o(ue,"class","p-1 px-3 text-xs flex rounded transition"),o(ue,"type","button"),o(te,"class","py-0.5 flex w-full justify-between"),o($e,"class","mt-2 mb-1 text-sm font-medium"),o(ie,"class","w-20 text-xs font-medium self-center"),o(Ie,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Ie,"type","text"),o(Ie,"placeholder",ze=s[4].t("Enter language codes")),o(Ie,"autocomplete","off"),o(ke,"class","flex-1 self-center"),o(Ve,"class","py-0.5 flex w-full justify-between"),o(fe,"class","w-20 text-xs font-medium self-center"),o(Re,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Re,"type","text"),o(Re,"placeholder",Ze=s[4].t("Enter proxy URL (e.g. https://user:password@host:port)")),o(Re,"autocomplete","off"),o(Ge,"class","flex-1 self-center"),o(ye,"class","py-0.5 flex w-full justify-between")},m(Te,We){O(Te,e,We),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),n(u,b),n(f,p),he(m,f,null),n(e,E),n(e,w),n(w,k),n(k,y),n(w,T),n(w,$),n($,S),n(S,N),n(N,C);for(let bt=0;bt<gt.length;bt+=1)gt[bt]&&gt[bt].m(S,null);Jt(S,s[1].search.engine,!0),n(e,P),qe&&qe.m(e,null),n(e,Z),Fe&&Fe.m(e,null),O(Te,B,We),O(Te,M,We),O(Te,j,We),O(Te,G,We),n(G,Y),n(Y,X),n(G,q),n(G,Q),n(Q,te),n(te,x),n(x,J),n(te,ae),n(te,ue),At.m(ue,null),n(G,ne),n(G,$e),n($e,Le),n(G,be),n(G,He),n(He,Ve),n(Ve,ie),n(ie,Ee),n(Ve,ce),n(Ve,ke),n(ke,Ie),ee(Ie,s[2]),n(G,Qe),n(G,ve),n(ve,ye),n(ye,fe),n(fe,Oe),n(ye,Me),n(ye,Ge),n(Ge,Re),ee(Re,s[3]),Ke=!0,Dt||(re=[se(S,"change",s[9]),se(ue,"click",s[27]),se(Ie,"input",s[28]),se(Re,"input",s[29])],Dt=!0)},p(Te,We){(!Ke||We[0]&16)&&l!==(l=Te[4].t("Web Search")+"")&&H(a,l),(!Ke||We[0]&16)&&h!==(h=Te[4].t("Enable Web Search")+"")&&H(b,h);const bt={};if(!g&&We[0]&2&&(g=!0,bt.state=Te[1].search.enabled,_t(()=>g=!1)),m.$set(bt),(!Ke||We[0]&16)&&I!==(I=Te[4].t("Web Search Engine")+"")&&H(y,I),(!Ke||We[0]&16)&&V!==(V=Te[4].t("Select a engine")+"")&&H(C,V),We[0]&64){mt=yt(Te[6]);let ut;for(ut=0;ut<mt.length;ut+=1){const dt=wo(Te,mt,ut);gt[ut]?gt[ut].p(dt,We):(gt[ut]=Io(dt),gt[ut].c(),gt[ut].m(S,null))}for(;ut<gt.length;ut+=1)gt[ut].d(1);gt.length=mt.length}(!Ke||We[0]&16&&R!==(R=Te[4].t("Select a engine")))&&o(S,"placeholder",R),We[0]&66&&Jt(S,Te[1].search.engine),Te[1].search.engine!==""?qe?(qe.p(Te,We),We[0]&2&&K(qe,1)):(qe=yo(Te),qe.c(),K(qe,1),qe.m(e,Z)):qe&&(Vt(),W(qe,1,1,()=>{qe=null}),St()),Te[1].search.enabled?Fe?Fe.p(Te,We):(Fe=To(Te),Fe.c(),Fe.m(e,null)):Fe&&(Fe.d(1),Fe=null),(!Ke||We[0]&16)&&z!==(z=Te[4].t("Web Loader Settings")+"")&&H(X,z),(!Ke||We[0]&16)&&F!==(F=Te[4].t("Bypass SSL verification for Websites")+"")&&H(J,F),Rt===(Rt=ct(Te))&&At?At.p(Te,We):(At.d(1),At=Rt(Te),At&&(At.c(),At.m(ue,null))),(!Ke||We[0]&16)&&ge!==(ge=Te[4].t("Youtube Loader Settings")+"")&&H(Le,ge),(!Ke||We[0]&16)&&le!==(le=Te[4].t("Language")+"")&&H(Ee,le),(!Ke||We[0]&16&&ze!==(ze=Te[4].t("Enter language codes")))&&o(Ie,"placeholder",ze),We[0]&4&&Ie.value!==Te[2]&&ee(Ie,Te[2]),(!Ke||We[0]&16)&&me!==(me=Te[4].t("Proxy URL")+"")&&H(Oe,me),(!Ke||We[0]&16&&Ze!==(Ze=Te[4].t("Enter proxy URL (e.g. https://user:password@host:port)")))&&o(Re,"placeholder",Ze),We[0]&8&&Re.value!==Te[3]&&ee(Re,Te[3])},i(Te){Ke||(K(m.$$.fragment,Te),K(qe),Ke=!0)},o(Te){W(m.$$.fragment,Te),W(qe),Ke=!1},d(Te){Te&&(c(e),c(B),c(M),c(j),c(G)),pe(m),cl(gt,Te),qe&&qe.d(),Fe&&Fe.d(),At.d(),Dt=!1,ul(re)}}}function Io(s){let e,t=s[32]+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){e.__value=s[32],ee(e,e.__value)},m(a,i){O(a,e,i),n(e,l)},p:vt,d(a){a&&c(e)}}}function yo(s){let e,t,l,a;const i=[z1,Y1,F1,W1,q1,Z1,K1,G1,j1,H1,B1,R1],r=[];function f(u,h){return u[1].search.engine==="searxng"?0:u[1].search.engine==="google_pse"?1:u[1].search.engine==="brave"?2:u[1].search.engine==="kagi"?3:u[1].search.engine==="mojeek"?4:u[1].search.engine==="serpstack"?5:u[1].search.engine==="serper"?6:u[1].search.engine==="serply"?7:u[1].search.engine==="searchapi"?8:u[1].search.engine==="tavily"?9:u[1].search.engine==="jina"?10:u[1].search.engine==="bing"?11:-1}return~(t=f(s))&&(l=r[t]=i[t](s)),{c(){e=d("div"),l&&l.c(),this.h()},l(u){e=_(u,"DIV",{class:!0});var h=v(e);l&&l.l(h),h.forEach(c),this.h()},h(){o(e,"class","mt-1.5")},m(u,h){O(u,e,h),~t&&r[t].m(e,null),a=!0},p(u,h){let b=t;t=f(u),t===b?~t&&r[t].p(u,h):(l&&(Vt(),W(r[b],1,1,()=>{r[b]=null}),St()),~t?(l=r[t],l?l.p(u,h):(l=r[t]=i[t](u),l.c()),K(l,1),l.m(e,null)):l=null)},i(u){a||(K(l),a=!0)},o(u){W(l),a=!1},d(u){u&&c(e),~t&&r[t].d()}}}function R1(s){let e,t,l=s[4].t("Bing Search V7 Endpoint")+"",a,i,r,f,u,h,b,p,m,g=s[4].t("Bing Search V7 Subscription Key")+"",E,w,k,I,y,T,$;function S(V){s[24](V)}let N={placeholder:s[4].t("Enter Bing Search V7 Subscription Key")};return s[1].search.bing_search_v7_subscription_key!==void 0&&(N.value=s[1].search.bing_search_v7_subscription_key),k=new $l({props:N}),it.push(()=>ht(k,"value",S)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("input"),b=A(),p=d("div"),m=d("div"),E=L(g),w=A(),de(k.$$.fragment),this.h()},l(V){e=_(V,"DIV",{});var C=v(e);t=_(C,"DIV",{class:!0});var R=v(t);a=U(R,l),R.forEach(c),i=D(C),r=_(C,"DIV",{class:!0});var P=v(r);f=_(P,"DIV",{class:!0});var Z=v(f);u=_(Z,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Z.forEach(c),P.forEach(c),C.forEach(c),b=D(V),p=_(V,"DIV",{class:!0});var B=v(p);m=_(B,"DIV",{class:!0});var M=v(m);E=U(M,g),M.forEach(c),w=D(B),_e(k.$$.fragment,B),B.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(u,"type","text"),o(u,"placeholder",h=s[4].t("Enter Bing Search V7 Endpoint")),o(u,"autocomplete","off"),o(f,"class","flex-1"),o(r,"class","flex w-full"),o(m,"class","self-center text-xs font-medium mb-1"),o(p,"class","mt-2")},m(V,C){O(V,e,C),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),ee(u,s[1].search.bing_search_v7_endpoint),O(V,b,C),O(V,p,C),n(p,m),n(m,E),n(p,w),he(k,p,null),y=!0,T||($=se(u,"input",s[23]),T=!0)},p(V,C){(!y||C[0]&16)&&l!==(l=V[4].t("Bing Search V7 Endpoint")+"")&&H(a,l),(!y||C[0]&16&&h!==(h=V[4].t("Enter Bing Search V7 Endpoint")))&&o(u,"placeholder",h),C[0]&66&&u.value!==V[1].search.bing_search_v7_endpoint&&ee(u,V[1].search.bing_search_v7_endpoint),(!y||C[0]&16)&&g!==(g=V[4].t("Bing Search V7 Subscription Key")+"")&&H(E,g);const R={};C[0]&16&&(R.placeholder=V[4].t("Enter Bing Search V7 Subscription Key")),!I&&C[0]&2&&(I=!0,R.value=V[1].search.bing_search_v7_subscription_key,_t(()=>I=!1)),k.$set(R)},i(V){y||(K(k.$$.fragment,V),y=!0)},o(V){W(k.$$.fragment,V),y=!1},d(V){V&&(c(e),c(b),c(p)),pe(k),T=!1,$()}}}function B1(s){let e,t,l=s[4].t("Jina API Key")+"",a,i,r,f,u;function h(p){s[22](p)}let b={placeholder:s[4].t("Enter Jina API Key")};return s[1].search.jina_api_key!==void 0&&(b.value=s[1].search.jina_api_key),r=new $l({props:b}),it.push(()=>ht(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=U(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Jina API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Jina API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.jina_api_key,_t(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){W(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function H1(s){let e,t,l=s[4].t("Tavily API Key")+"",a,i,r,f,u;function h(p){s[21](p)}let b={placeholder:s[4].t("Enter Tavily API Key")};return s[1].search.tavily_api_key!==void 0&&(b.value=s[1].search.tavily_api_key),r=new $l({props:b}),it.push(()=>ht(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=U(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Tavily API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Tavily API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.tavily_api_key,_t(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){W(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function j1(s){let e,t,l=s[4].t("SearchApi API Key")+"",a,i,r,f,u,h,b,p=s[4].t("SearchApi Engine")+"",m,g,E,w,k,I,y,T,$;function S(V){s[19](V)}let N={placeholder:s[4].t("Enter SearchApi API Key")};return s[1].search.searchapi_api_key!==void 0&&(N.value=s[1].search.searchapi_api_key),r=new $l({props:N}),it.push(()=>ht(r,"value",S)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),u=A(),h=d("div"),b=d("div"),m=L(p),g=A(),E=d("div"),w=d("div"),k=d("input"),this.h()},l(V){e=_(V,"DIV",{});var C=v(e);t=_(C,"DIV",{class:!0});var R=v(t);a=U(R,l),R.forEach(c),i=D(C),_e(r.$$.fragment,C),C.forEach(c),u=D(V),h=_(V,"DIV",{class:!0});var P=v(h);b=_(P,"DIV",{class:!0});var Z=v(b);m=U(Z,p),Z.forEach(c),g=D(P),E=_(P,"DIV",{class:!0});var B=v(E);w=_(B,"DIV",{class:!0});var M=v(w);k=_(M,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),M.forEach(c),B.forEach(c),P.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1"),o(b,"class","self-center text-xs font-medium mb-1"),o(k,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(k,"type","text"),o(k,"placeholder",I=s[4].t("Enter SearchApi Engine")),o(k,"autocomplete","off"),o(w,"class","flex-1"),o(E,"class","flex w-full"),o(h,"class","mt-1.5")},m(V,C){O(V,e,C),n(e,t),n(t,a),n(e,i),he(r,e,null),O(V,u,C),O(V,h,C),n(h,b),n(b,m),n(h,g),n(h,E),n(E,w),n(w,k),ee(k,s[1].search.searchapi_engine),y=!0,T||($=se(k,"input",s[20]),T=!0)},p(V,C){(!y||C[0]&16)&&l!==(l=V[4].t("SearchApi API Key")+"")&&H(a,l);const R={};C[0]&16&&(R.placeholder=V[4].t("Enter SearchApi API Key")),!f&&C[0]&2&&(f=!0,R.value=V[1].search.searchapi_api_key,_t(()=>f=!1)),r.$set(R),(!y||C[0]&16)&&p!==(p=V[4].t("SearchApi Engine")+"")&&H(m,p),(!y||C[0]&16&&I!==(I=V[4].t("Enter SearchApi Engine")))&&o(k,"placeholder",I),C[0]&66&&k.value!==V[1].search.searchapi_engine&&ee(k,V[1].search.searchapi_engine)},i(V){y||(K(r.$$.fragment,V),y=!0)},o(V){W(r.$$.fragment,V),y=!1},d(V){V&&(c(e),c(u),c(h)),pe(r),T=!1,$()}}}function G1(s){let e,t,l=s[4].t("Serply API Key")+"",a,i,r,f,u;function h(p){s[18](p)}let b={placeholder:s[4].t("Enter Serply API Key")};return s[1].search.serply_api_key!==void 0&&(b.value=s[1].search.serply_api_key),r=new $l({props:b}),it.push(()=>ht(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=U(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Serply API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Serply API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.serply_api_key,_t(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){W(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function K1(s){let e,t,l=s[4].t("Serper API Key")+"",a,i,r,f,u;function h(p){s[17](p)}let b={placeholder:s[4].t("Enter Serper API Key")};return s[1].search.serper_api_key!==void 0&&(b.value=s[1].search.serper_api_key),r=new $l({props:b}),it.push(()=>ht(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=U(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Serper API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Serper API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.serper_api_key,_t(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){W(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function Z1(s){let e,t,l=s[4].t("Serpstack API Key")+"",a,i,r,f,u;function h(p){s[16](p)}let b={placeholder:s[4].t("Enter Serpstack API Key")};return s[1].search.serpstack_api_key!==void 0&&(b.value=s[1].search.serpstack_api_key),r=new $l({props:b}),it.push(()=>ht(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=U(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Serpstack API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Serpstack API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.serpstack_api_key,_t(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){W(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function q1(s){let e,t,l=s[4].t("Mojeek Search API Key")+"",a,i,r,f,u;function h(p){s[15](p)}let b={placeholder:s[4].t("Enter Mojeek Search API Key")};return s[1].search.mojeek_search_api_key!==void 0&&(b.value=s[1].search.mojeek_search_api_key),r=new $l({props:b}),it.push(()=>ht(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=U(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Mojeek Search API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Mojeek Search API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.mojeek_search_api_key,_t(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){W(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function W1(s){let e,t,l=s[4].t("Kagi Search API Key")+"",a,i,r,f,u;function h(p){s[14](p)}let b={placeholder:s[4].t("Enter Kagi Search API Key")};return s[1].search.kagi_search_api_key!==void 0&&(b.value=s[1].search.kagi_search_api_key),r=new $l({props:b}),it.push(()=>ht(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=U(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Kagi Search API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Kagi Search API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.kagi_search_api_key,_t(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){W(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function F1(s){let e,t,l=s[4].t("Brave Search API Key")+"",a,i,r,f,u;function h(p){s[13](p)}let b={placeholder:s[4].t("Enter Brave Search API Key")};return s[1].search.brave_search_api_key!==void 0&&(b.value=s[1].search.brave_search_api_key),r=new $l({props:b}),it.push(()=>ht(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=U(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Brave Search API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Brave Search API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.brave_search_api_key,_t(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){W(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function Y1(s){let e,t,l=s[4].t("Google PSE API Key")+"",a,i,r,f,u,h,b,p=s[4].t("Google PSE Engine Id")+"",m,g,E,w,k,I,y,T,$;function S(V){s[11](V)}let N={placeholder:s[4].t("Enter Google PSE API Key")};return s[1].search.google_pse_api_key!==void 0&&(N.value=s[1].search.google_pse_api_key),r=new $l({props:N}),it.push(()=>ht(r,"value",S)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),u=A(),h=d("div"),b=d("div"),m=L(p),g=A(),E=d("div"),w=d("div"),k=d("input"),this.h()},l(V){e=_(V,"DIV",{});var C=v(e);t=_(C,"DIV",{class:!0});var R=v(t);a=U(R,l),R.forEach(c),i=D(C),_e(r.$$.fragment,C),C.forEach(c),u=D(V),h=_(V,"DIV",{class:!0});var P=v(h);b=_(P,"DIV",{class:!0});var Z=v(b);m=U(Z,p),Z.forEach(c),g=D(P),E=_(P,"DIV",{class:!0});var B=v(E);w=_(B,"DIV",{class:!0});var M=v(w);k=_(M,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),M.forEach(c),B.forEach(c),P.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1"),o(b,"class","self-center text-xs font-medium mb-1"),o(k,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(k,"type","text"),o(k,"placeholder",I=s[4].t("Enter Google PSE Engine Id")),o(k,"autocomplete","off"),o(w,"class","flex-1"),o(E,"class","flex w-full"),o(h,"class","mt-1.5")},m(V,C){O(V,e,C),n(e,t),n(t,a),n(e,i),he(r,e,null),O(V,u,C),O(V,h,C),n(h,b),n(b,m),n(h,g),n(h,E),n(E,w),n(w,k),ee(k,s[1].search.google_pse_engine_id),y=!0,T||($=se(k,"input",s[12]),T=!0)},p(V,C){(!y||C[0]&16)&&l!==(l=V[4].t("Google PSE API Key")+"")&&H(a,l);const R={};C[0]&16&&(R.placeholder=V[4].t("Enter Google PSE API Key")),!f&&C[0]&2&&(f=!0,R.value=V[1].search.google_pse_api_key,_t(()=>f=!1)),r.$set(R),(!y||C[0]&16)&&p!==(p=V[4].t("Google PSE Engine Id")+"")&&H(m,p),(!y||C[0]&16&&I!==(I=V[4].t("Enter Google PSE Engine Id")))&&o(k,"placeholder",I),C[0]&66&&k.value!==V[1].search.google_pse_engine_id&&ee(k,V[1].search.google_pse_engine_id)},i(V){y||(K(r.$$.fragment,V),y=!0)},o(V){W(r.$$.fragment,V),y=!1},d(V){V&&(c(e),c(u),c(h)),pe(r),T=!1,$()}}}function z1(s){let e,t,l=s[4].t("Searxng Query URL")+"",a,i,r,f,u,h,b,p;return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("input"),this.h()},l(m){e=_(m,"DIV",{});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);a=U(E,l),E.forEach(c),i=D(g),r=_(g,"DIV",{class:!0});var w=v(r);f=_(w,"DIV",{class:!0});var k=v(f);u=_(k,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),k.forEach(c),w.forEach(c),g.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(u,"type","text"),o(u,"placeholder",h=s[4].t("Enter Searxng Query URL")),o(u,"autocomplete","off"),o(f,"class","flex-1"),o(r,"class","flex w-full")},m(m,g){O(m,e,g),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),ee(u,s[1].search.searxng_query_url),b||(p=se(u,"input",s[10]),b=!0)},p(m,g){g[0]&16&&l!==(l=m[4].t("Searxng Query URL")+"")&&H(a,l),g[0]&16&&h!==(h=m[4].t("Enter Searxng Query URL"))&&o(u,"placeholder",h),g[0]&66&&u.value!==m[1].search.searxng_query_url&&ee(u,m[1].search.searxng_query_url)},i:vt,o:vt,d(m){m&&c(e),b=!1,p()}}}function To(s){let e,t,l,a=s[4].t("Search Result Count")+"",i,r,f,u,h,b,p,m=s[4].t("Concurrent Requests")+"",g,E,w,k,I,y;return{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("input"),h=A(),b=d("div"),p=d("div"),g=L(m),E=A(),w=d("input"),this.h()},l(T){e=_(T,"DIV",{class:!0});var $=v(e);t=_($,"DIV",{class:!0});var S=v(t);l=_(S,"DIV",{class:!0});var N=v(l);i=U(N,a),N.forEach(c),r=D(S),f=_(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(c),h=D($),b=_($,"DIV",{class:!0});var V=v(b);p=_(V,"DIV",{class:!0});var C=v(p);g=U(C,m),C.forEach(c),E=D(V),w=_(V,"INPUT",{class:!0,placeholder:!0}),V.forEach(c),$.forEach(c),this.h()},h(){o(l,"class","self-center text-xs font-medium mb-1"),o(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(f,"placeholder",u=s[4].t("Search Result Count")),f.required=!0,o(t,"class","w-full"),o(p,"class","self-center text-xs font-medium mb-1"),o(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(w,"placeholder",k=s[4].t("Concurrent Requests")),w.required=!0,o(b,"class","w-full"),o(e,"class","mt-2 flex gap-2 mb-1")},m(T,$){O(T,e,$),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),ee(f,s[1].search.result_count),n(e,h),n(e,b),n(b,p),n(p,g),n(b,E),n(b,w),ee(w,s[1].search.concurrent_requests),I||(y=[se(f,"input",s[25]),se(w,"input",s[26])],I=!0)},p(T,$){$[0]&16&&a!==(a=T[4].t("Search Result Count")+"")&&H(i,a),$[0]&16&&u!==(u=T[4].t("Search Result Count"))&&o(f,"placeholder",u),$[0]&66&&f.value!==T[1].search.result_count&&ee(f,T[1].search.result_count),$[0]&16&&m!==(m=T[4].t("Concurrent Requests")+"")&&H(g,m),$[0]&16&&k!==(k=T[4].t("Concurrent Requests"))&&o(w,"placeholder",k),$[0]&66&&w.value!==T[1].search.concurrent_requests&&ee(w,T[1].search.concurrent_requests)},d(T){T&&c(e),I=!1,ul(y)}}}function Q1(s){let e,t=s[4].t("Off")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&16&&t!==(t=a[4].t("Off")+"")&&H(l,t)},d(a){a&&c(e)}}}function J1(s){let e,t=s[4].t("On")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&16&&t!==(t=a[4].t("On")+"")&&H(l,t)},d(a){a&&c(e)}}}function X1(s){let e,t,l,a,i,r=s[4].t("Save")+"",f,u,h,b,p=s[1]&&ko(s);return{c(){e=d("form"),t=d("div"),p&&p.c(),l=A(),a=d("div"),i=d("button"),f=L(r),this.h()},l(m){e=_(m,"FORM",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);p&&p.l(E),E.forEach(c),l=D(g),a=_(g,"DIV",{class:!0});var w=v(a);i=_(w,"BUTTON",{class:!0,type:!0});var k=v(i);f=U(k,r),k.forEach(c),w.forEach(c),g.forEach(c),this.h()},h(){o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(i,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(i,"type","submit"),o(a,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(m,g){O(m,e,g),n(e,t),p&&p.m(t,null),n(e,l),n(e,a),n(a,i),n(i,f),u=!0,h||(b=se(e,"submit",rs(s[30])),h=!0)},p(m,g){m[1]?p?(p.p(m,g),g[0]&2&&K(p,1)):(p=ko(m),p.c(),K(p,1),p.m(t,null)):p&&(Vt(),W(p,1,1,()=>{p=null}),St()),(!u||g[0]&16)&&r!==(r=m[4].t("Save")+"")&&H(f,r)},i(m){u||(K(p),u=!0)},o(m){W(p),u=!1},d(m){m&&c(e),p&&p.d(),h=!1,b()}}}function x1(s,e,t){let l;const a=Il("i18n");nl(s,a,q=>t(4,l=q));let{saveHandler:i}=e,r=null,f=["searxng","google_pse","brave","kagi","mojeek","serpstack","serper","serply","searchapi","duckduckgo","tavily","jina","bing"],u="en",h=null,b="";const p=async()=>{await Go(localStorage.token,{web:r,youtube:{language:u.split(",").map(q=>q.trim()),translation:h,proxy_url:b}})};Hl(async()=>{const q=await jo(localStorage.token);q&&(t(1,r=q.web),t(2,u=q.youtube.language.join(",")),h=q.youtube.translation,t(3,b=q.youtube.proxy_url))});function m(q){s.$$.not_equal(r.search.enabled,q)&&(r.search.enabled=q,t(1,r))}function g(){r.search.engine=Sl(this),t(1,r),t(6,f)}function E(){r.search.searxng_query_url=this.value,t(1,r),t(6,f)}function w(q){s.$$.not_equal(r.search.google_pse_api_key,q)&&(r.search.google_pse_api_key=q,t(1,r))}function k(){r.search.google_pse_engine_id=this.value,t(1,r),t(6,f)}function I(q){s.$$.not_equal(r.search.brave_search_api_key,q)&&(r.search.brave_search_api_key=q,t(1,r))}function y(q){s.$$.not_equal(r.search.kagi_search_api_key,q)&&(r.search.kagi_search_api_key=q,t(1,r))}function T(q){s.$$.not_equal(r.search.mojeek_search_api_key,q)&&(r.search.mojeek_search_api_key=q,t(1,r))}function $(q){s.$$.not_equal(r.search.serpstack_api_key,q)&&(r.search.serpstack_api_key=q,t(1,r))}function S(q){s.$$.not_equal(r.search.serper_api_key,q)&&(r.search.serper_api_key=q,t(1,r))}function N(q){s.$$.not_equal(r.search.serply_api_key,q)&&(r.search.serply_api_key=q,t(1,r))}function V(q){s.$$.not_equal(r.search.searchapi_api_key,q)&&(r.search.searchapi_api_key=q,t(1,r))}function C(){r.search.searchapi_engine=this.value,t(1,r),t(6,f)}function R(q){s.$$.not_equal(r.search.tavily_api_key,q)&&(r.search.tavily_api_key=q,t(1,r))}function P(q){s.$$.not_equal(r.search.jina_api_key,q)&&(r.search.jina_api_key=q,t(1,r))}function Z(){r.search.bing_search_v7_endpoint=this.value,t(1,r),t(6,f)}function B(q){s.$$.not_equal(r.search.bing_search_v7_subscription_key,q)&&(r.search.bing_search_v7_subscription_key=q,t(1,r))}function M(){r.search.result_count=this.value,t(1,r),t(6,f)}function j(){r.search.concurrent_requests=this.value,t(1,r),t(6,f)}const G=()=>{t(1,r.web_loader_ssl_verification=!r.web_loader_ssl_verification,r),p()};function Y(){u=this.value,t(2,u)}function z(){b=this.value,t(3,b)}const X=async()=>{await p(),i()};return s.$$set=q=>{"saveHandler"in q&&t(0,i=q.saveHandler)},[i,r,u,b,l,a,f,p,m,g,E,w,k,I,y,T,$,S,N,V,C,R,P,Z,B,M,j,G,Y,z,X]}class e0 extends vl{constructor(e){super(),ml(this,e,x1,X1,pl,{saveHandler:0},null,[-1,-1])}}function t0(s){let e,t,l;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),this.h()},l(a){e=al(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=al(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(c),l=al(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 17.25a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-.75Zm2.25-3a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 .75-.75Zm3.75-1.5a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-5.25Z"),o(t,"clip-rule","evenodd"),o(l,"d","M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class",s[0])},m(a,i){O(a,e,i),n(e,t),n(e,l)},p(a,[i]){i&1&&o(e,"class",a[0])},i:vt,o:vt,d(a){a&&c(e)}}}function l0(s,e,t){let{className:l="size-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=i=>{"className"in i&&t(0,l=i.className),"strokeWidth"in i&&t(1,a=i.strokeWidth)},[l,a]}class s0 extends vl{constructor(e){super(),ml(this,e,l0,t0,pl,{className:0,strokeWidth:1})}}function Ao(s,e,t){const l=s.slice();return l[2]=e[t],l}function Do(s,e,t){const l=s.slice();return l[39]=e[t],l[41]=t,l}function a0(s){let e=s[14].t("Add Arena Model")+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&16384&&e!==(e=l[14].t("Add Arena Model")+"")&&H(t,e)},d(l){l&&c(t)}}}function r0(s){let e=s[14].t("Edit Arena Model")+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&16384&&e!==(e=l[14].t("Edit Arena Model")+"")&&H(t,e)},d(l){l&&c(t)}}}function n0(s){let e=s[14].t("Exclude")+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&16384&&e!==(e=l[14].t("Exclude")+"")&&H(t,e)},d(l){l&&c(t)}}}function i0(s){let e=s[14].t("Include")+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&16384&&e!==(e=l[14].t("Include")+"")&&H(t,e)},d(l){l&&c(t)}}}function o0(s){let e,t=s[14].t("Leave empty to include all models or select specific models")+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-gray-500 text-xs text-center py-2")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&16384&&t!==(t=a[14].t("Leave empty to include all models or select specific models")+"")&&H(l,t)},i:vt,o:vt,d(a){a&&c(e)}}}function u0(s){let e,t,l=yt(s[8]),a=[];for(let r=0;r<l.length;r+=1)a[r]=$o(Do(s,l,r));const i=r=>W(a[r],1,1,()=>{a[r]=null});return{c(){e=d("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=_(r,"DIV",{class:!0});var f=v(e);for(let u=0;u<a.length;u+=1)a[u].l(f);f.forEach(c),this.h()},h(){o(e,"class","flex flex-col")},m(r,f){O(r,e,f);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);t=!0},p(r,f){if(f[0]&8448){l=yt(r[8]);let u;for(u=0;u<l.length;u+=1){const h=Do(r,l,u);a[u]?(a[u].p(h,f),K(a[u],1)):(a[u]=$o(h),a[u].c(),K(a[u],1),a[u].m(e,null))}for(Vt(),u=l.length;u<a.length;u+=1)i(u);St()}},i(r){if(!t){for(let f=0;f<l.length;f+=1)K(a[f]);t=!0}},o(r){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)W(a[f]);t=!1},d(r){r&&c(e),cl(a,r)}}}function $o(s){var w;let e,t,l=((w=s[13].find(g))==null?void 0:w.name)+"",a,i,r,f,u,h,b,p,m;function g(...k){return s[28](s[39],...k)}u=new mr({props:{strokeWidth:"2",className:"size-3.5"}});function E(){return s[29](s[41])}return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("button"),de(u.$$.fragment),h=A(),this.h()},l(k){e=_(k,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var y=v(t);a=U(y,l),y.forEach(c),i=D(I),r=_(I,"DIV",{class:!0});var T=v(r);f=_(T,"BUTTON",{type:!0});var $=v(f);_e(u.$$.fragment,$),$.forEach(c),T.forEach(c),h=D(I),I.forEach(c),this.h()},h(){o(t,"class","text-sm flex-1 py-1 rounded-lg"),o(f,"type","button"),o(r,"class","flex-shrink-0"),o(e,"class","flex gap-2 w-full justify-between items-center")},m(k,I){O(k,e,I),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),he(u,f,null),n(e,h),b=!0,p||(m=se(f,"click",E),p=!0)},p(k,I){var y;s=k,(!b||I[0]&8448)&&l!==(l=((y=s[13].find(g))==null?void 0:y.name)+"")&&H(a,l)},i(k){b||(K(u.$$.fragment,k),b=!0)},o(k){W(u.$$.fragment,k),b=!1},d(k){k&&c(e),pe(u),p=!1,m()}}}function Vo(s){let e,t=s[2].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=_(i,"OPTION",{class:!0});var r=v(e);l=U(r,t),r.forEach(c),this.h()},h(){e.__value=a=s[2].id,ee(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,r){O(i,e,r),n(e,l)},p(i,r){r[0]&8192&&t!==(t=i[2].name+"")&&H(l,t),r[0]&8192&&a!==(a=i[2].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&c(e)}}}function So(s){let e,t=s[14].t("Delete")+"",l,a,i;return{c(){e=d("button"),l=L(t),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);l=U(f,t),f.forEach(c),this.h()},h(){o(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),o(e,"type","button")},m(r,f){O(r,e,f),n(e,l),a||(i=se(e,"click",s[32]),a=!0)},p(r,f){f[0]&16384&&t!==(t=r[14].t("Delete")+"")&&H(l,t)},d(r){r&&c(e),a=!1,i()}}}function No(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Kt(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function f0(s){let e,t,l,a,i,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',f,u,h,b,p,m,g,E,w,k,I,y,T,$,S,N,V,C,R,P=s[14].t("Name")+"",Z,B,M,j,G,Y,z,X,q=s[14].t("ID")+"",Q,te,x,F,J,ae,ue,ne,$e=s[14].t("Description")+"",ge,Le,be,He,Ve,ie,le,Ee,ce,ke,Ie,ze,Qe,ve,ye,fe,me,Oe,Me=s[14].t("Models")+"",Ge,Re,Ze,Ke,Dt,re,we,pt,mt,gt,qe,Fe,ct,Rt=s[14].t("Select a model")+"",At,Te,We,bt,ut,dt,rt,xe,Xe,oe,Pe=s[14].t("Save")+"",Tt,Je,Ot,Et,ot,jt;function el(je,Be){return je[1]?r0:a0}let Gt=el(s),It=Gt(s);S=new Hd({props:{className:"size-4"}});function Lt(je){s[26](je)}let Ct={};s[10]!==void 0&&(Ct.accessControl=s[10]),Ie=new af({props:Ct}),it.push(()=>ht(Ie,"accessControl",Lt));function Ue(je,Be){return je[9]==="include"?i0:n0}let Ae=Ue(s),De=Ae(s);const wt=[u0,o0],et=[];function ft(je,Be){return je[8].length>0?0:1}re=ft(s),we=et[re]=wt[re](s);let Ft=yt(s[13].filter(Mo)),Ut=[];for(let je=0;je<Ft.length;je+=1)Ut[je]=Vo(Ao(s,Ft,je));dt=new wa({props:{className:"size-3.5",strokeWidth:"2"}});let Bt=s[1]&&So(s),kt=s[12]&&No();return{c(){e=d("div"),t=d("div"),l=d("div"),It.c(),a=A(),i=d("button"),i.innerHTML=r,f=A(),u=d("div"),h=d("div"),b=d("form"),p=d("div"),m=d("div"),g=d("input"),E=A(),w=d("button"),k=d("img"),y=A(),T=d("div"),$=d("div"),de(S.$$.fragment),N=A(),V=d("div"),C=d("div"),R=d("div"),Z=L(P),B=A(),M=d("div"),j=d("input"),Y=A(),z=d("div"),X=d("div"),Q=L(q),te=A(),x=d("div"),F=d("input"),ae=A(),ue=d("div"),ne=d("div"),ge=L($e),Le=A(),be=d("div"),He=d("input"),ie=A(),le=d("hr"),Ee=A(),ce=d("div"),ke=d("div"),de(Ie.$$.fragment),Qe=A(),ve=d("hr"),ye=A(),fe=d("div"),me=d("div"),Oe=d("div"),Ge=L(Me),Re=A(),Ze=d("div"),Ke=d("button"),De.c(),Dt=A(),we.c(),pt=A(),mt=d("hr"),gt=A(),qe=d("div"),Fe=d("select"),ct=d("option"),At=L(Rt);for(let je=0;je<Ut.length;je+=1)Ut[je].c();We=A(),bt=d("div"),ut=d("button"),de(dt.$$.fragment),rt=A(),xe=d("div"),Bt&&Bt.c(),Xe=A(),oe=d("button"),Tt=L(Pe),Je=A(),kt&&kt.c(),this.h()},l(je){e=_(je,"DIV",{});var Be=v(e);t=_(Be,"DIV",{class:!0});var tt=v(t);l=_(tt,"DIV",{class:!0});var st=v(l);It.l(st),st.forEach(c),a=D(tt),i=_(tt,"BUTTON",{class:!0,"data-svelte-h":!0}),Kt(i)!=="svelte-745w2y"&&(i.innerHTML=r),tt.forEach(c),f=D(Be),u=_(Be,"DIV",{class:!0});var Nt=v(u);h=_(Nt,"DIV",{class:!0});var rl=v(h);b=_(rl,"FORM",{class:!0});var tl=v(b);p=_(tl,"DIV",{class:!0});var $t=v(p);m=_($t,"DIV",{class:!0});var ol=v(m);g=_(ol,"INPUT",{type:!0,accept:!0}),E=D(ol),w=_(ol,"BUTTON",{class:!0,type:!0});var Qt=v(w);k=_(Qt,"IMG",{src:!0,class:!0,alt:!0}),y=D(Qt),T=_(Qt,"DIV",{class:!0});var Zt=v(T);$=_(Zt,"DIV",{class:!0});var yl=v($);_e(S.$$.fragment,yl),yl.forEach(c),Zt.forEach(c),Qt.forEach(c),ol.forEach(c),N=D($t),V=_($t,"DIV",{class:!0});var fl=v(V);C=_(fl,"DIV",{class:!0});var Wt=v(C);R=_(Wt,"DIV",{class:!0});var qt=v(R);Z=U(qt,P),qt.forEach(c),B=D(Wt),M=_(Wt,"DIV",{class:!0});var hl=v(M);j=_(hl,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),hl.forEach(c),Wt.forEach(c),Y=D(fl),z=_(fl,"DIV",{class:!0});var gl=v(z);X=_(gl,"DIV",{class:!0});var kl=v(X);Q=U(kl,q),kl.forEach(c),te=D(gl),x=_(gl,"DIV",{class:!0});var bl=v(x);F=_(bl,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),bl.forEach(c),gl.forEach(c),fl.forEach(c),ae=D($t),ue=_($t,"DIV",{class:!0});var Ht=v(ue);ne=_(Ht,"DIV",{class:!0});var El=v(ne);ge=U(El,$e),El.forEach(c),Le=D(Ht),be=_(Ht,"DIV",{class:!0});var Pt=v(be);He=_(Pt,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Pt.forEach(c),Ht.forEach(c),ie=D($t),le=_($t,"HR",{class:!0}),Ee=D($t),ce=_($t,"DIV",{class:!0});var Ne=v(ce);ke=_(Ne,"DIV",{class:!0});var lt=v(ke);_e(Ie.$$.fragment,lt),lt.forEach(c),Ne.forEach(c),Qe=D($t),ve=_($t,"HR",{class:!0}),ye=D($t),fe=_($t,"DIV",{class:!0});var zt=v(fe);me=_(zt,"DIV",{class:!0});var Mt=v(me);Oe=_(Mt,"DIV",{class:!0});var dl=v(Oe);Ge=U(dl,Me),dl.forEach(c),Re=D(Mt),Ze=_(Mt,"DIV",{});var Tl=v(Ze);Ke=_(Tl,"BUTTON",{class:!0,type:!0});var Cl=v(Ke);De.l(Cl),Cl.forEach(c),Tl.forEach(c),Mt.forEach(c),Dt=D(zt),we.l(zt),zt.forEach(c),pt=D($t),mt=_($t,"HR",{class:!0}),gt=D($t),qe=_($t,"DIV",{class:!0});var Ml=v(qe);Fe=_(Ml,"SELECT",{class:!0});var Ll=v(Fe);ct=_(Ll,"OPTION",{});var at=v(ct);At=U(at,Rt),at.forEach(c);for(let Ul=0;Ul<Ut.length;Ul+=1)Ut[Ul].l(Ll);Ll.forEach(c),We=D(Ml),bt=_(Ml,"DIV",{});var Ce=v(bt);ut=_(Ce,"BUTTON",{type:!0});var il=v(ut);_e(dt.$$.fragment,il),il.forEach(c),Ce.forEach(c),Ml.forEach(c),$t.forEach(c),rt=D(tl),xe=_(tl,"DIV",{class:!0});var Al=v(xe);Bt&&Bt.l(Al),Xe=D(Al),oe=_(Al,"BUTTON",{class:!0,type:!0});var Ol=v(oe);Tt=U(Ol,Pe),Je=D(Ol),kt&&kt.l(Ol),Ol.forEach(c),Al.forEach(c),tl.forEach(c),rl.forEach(c),Nt.forEach(c),Be.forEach(c),this.h()},h(){o(l,"class","text-lg font-medium self-center font-primary"),o(i,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),o(g,"type","file"),g.hidden=!0,o(g,"accept","image/*"),na(k.src,I=s[5])||o(k,"src",I),o(k,"class","size-16 rounded-full object-cover shrink-0"),o(k,"alt","Profile"),o($,"class","my-auto text-white"),o(T,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),o(w,"class","relative rounded-full w-fit h-fit shrink-0"),o(w,"type","button"),o(m,"class","flex justify-center pb-3"),o(R,"class","mb-0.5 text-xs text-gray-500"),o(j,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),o(j,"type","text"),o(j,"placeholder",G=s[14].t("Model Name")),o(j,"autocomplete","off"),j.required=!0,o(M,"class","flex-1"),o(C,"class","flex flex-col w-full"),o(X,"class","mb-0.5 text-xs text-gray-500"),o(F,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),o(F,"type","text"),o(F,"placeholder",J=s[14].t("Model ID")),o(F,"autocomplete","off"),F.required=!0,F.disabled=s[1],o(x,"class","flex-1"),o(z,"class","flex flex-col w-full"),o(V,"class","flex gap-2"),o(ne,"class","mb-1 text-xs text-gray-500"),o(He,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),o(He,"type","text"),o(He,"placeholder",Ve=s[14].t("Enter description")),o(He,"autocomplete","off"),o(be,"class","flex-1"),o(ue,"class","flex flex-col w-full mt-2"),o(le,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),o(ke,"class","px-3 py-2 bg-gray-50 dark:bg-gray-950 rounded-lg"),o(ce,"class","my-2 -mx-2"),o(ve,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),o(Oe,"class","text-xs text-gray-500"),o(Ke,"class","text-xs text-gray-500"),o(Ke,"type","button"),o(me,"class","mb-1 flex justify-between"),o(fe,"class","flex flex-col w-full"),o(mt,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),ct.__value="",ee(ct,ct.__value),o(Fe,"class",Te="w-full py-1 text-sm rounded-lg bg-transparent "+(s[7]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),s[7]===void 0&&Nl(()=>s[30].call(Fe)),o(ut,"type","button"),o(qe,"class","flex items-center"),o(p,"class","px-1"),o(oe,"class",Ot="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[12]?" cursor-not-allowed":"")),o(oe,"type","submit"),oe.disabled=s[12],o(xe,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),o(b,"class","flex flex-col w-full"),o(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(u,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(je,Be){O(je,e,Be),n(e,t),n(t,l),It.m(l,null),n(t,a),n(t,i),n(e,f),n(e,u),n(u,h),n(h,b),n(b,p),n(p,m),n(m,g),s[20](g),n(m,E),n(m,w),n(w,k),n(w,y),n(w,T),n(T,$),he(S,$,null),n(p,N),n(p,V),n(V,C),n(C,R),n(R,Z),n(C,B),n(C,M),n(M,j),ee(j,s[3]),n(V,Y),n(V,z),n(z,X),n(X,Q),n(z,te),n(z,x),n(x,F),ee(F,s[4]),n(p,ae),n(p,ue),n(ue,ne),n(ne,ge),n(ue,Le),n(ue,be),n(be,He),ee(He,s[6]),n(p,ie),n(p,le),n(p,Ee),n(p,ce),n(ce,ke),he(Ie,ke,null),n(p,Qe),n(p,ve),n(p,ye),n(p,fe),n(fe,me),n(me,Oe),n(Oe,Ge),n(me,Re),n(me,Ze),n(Ze,Ke),De.m(Ke,null),n(fe,Dt),et[re].m(fe,null),n(p,pt),n(p,mt),n(p,gt),n(p,qe),n(qe,Fe),n(Fe,ct),n(ct,At);for(let tt=0;tt<Ut.length;tt+=1)Ut[tt]&&Ut[tt].m(Fe,null);Jt(Fe,s[7],!0),n(qe,We),n(qe,bt),n(bt,ut),he(dt,ut,null),n(b,rt),n(b,xe),Bt&&Bt.m(xe,null),n(xe,Xe),n(xe,oe),n(oe,Tt),n(oe,Je),kt&&kt.m(oe,null),Et=!0,ot||(jt=[se(i,"click",s[19]),se(g,"change",s[21]),se(w,"click",s[22]),se(j,"input",s[23]),se(F,"input",s[24]),se(He,"input",s[25]),se(Ke,"click",s[27]),se(Fe,"change",s[30]),se(ut,"click",s[31]),se(b,"submit",rs(s[33]))],ot=!0)},p(je,Be){Gt===(Gt=el(je))&&It?It.p(je,Be):(It.d(1),It=Gt(je),It&&(It.c(),It.m(l,null))),(!Et||Be[0]&32&&!na(k.src,I=je[5]))&&o(k,"src",I),(!Et||Be[0]&16384)&&P!==(P=je[14].t("Name")+"")&&H(Z,P),(!Et||Be[0]&16384&&G!==(G=je[14].t("Model Name")))&&o(j,"placeholder",G),Be[0]&8&&j.value!==je[3]&&ee(j,je[3]),(!Et||Be[0]&16384)&&q!==(q=je[14].t("ID")+"")&&H(Q,q),(!Et||Be[0]&16384&&J!==(J=je[14].t("Model ID")))&&o(F,"placeholder",J),(!Et||Be[0]&2)&&(F.disabled=je[1]),Be[0]&16&&F.value!==je[4]&&ee(F,je[4]),(!Et||Be[0]&16384)&&$e!==($e=je[14].t("Description")+"")&&H(ge,$e),(!Et||Be[0]&16384&&Ve!==(Ve=je[14].t("Enter description")))&&o(He,"placeholder",Ve),Be[0]&64&&He.value!==je[6]&&ee(He,je[6]);const tt={};!ze&&Be[0]&1024&&(ze=!0,tt.accessControl=je[10],_t(()=>ze=!1)),Ie.$set(tt),(!Et||Be[0]&16384)&&Me!==(Me=je[14].t("Models")+"")&&H(Ge,Me),Ae===(Ae=Ue(je))&&De?De.p(je,Be):(De.d(1),De=Ae(je),De&&(De.c(),De.m(Ke,null)));let st=re;if(re=ft(je),re===st?et[re].p(je,Be):(Vt(),W(et[st],1,1,()=>{et[st]=null}),St(),we=et[re],we?we.p(je,Be):(we=et[re]=wt[re](je),we.c()),K(we,1),we.m(fe,null)),(!Et||Be[0]&16384)&&Rt!==(Rt=je[14].t("Select a model")+"")&&H(At,Rt),Be[0]&8192){Ft=yt(je[13].filter(Mo));let Nt;for(Nt=0;Nt<Ft.length;Nt+=1){const rl=Ao(je,Ft,Nt);Ut[Nt]?Ut[Nt].p(rl,Be):(Ut[Nt]=Vo(rl),Ut[Nt].c(),Ut[Nt].m(Fe,null))}for(;Nt<Ut.length;Nt+=1)Ut[Nt].d(1);Ut.length=Ft.length}(!Et||Be[0]&8320&&Te!==(Te="w-full py-1 text-sm rounded-lg bg-transparent "+(je[7]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"))&&o(Fe,"class",Te),Be[0]&8320&&Jt(Fe,je[7]),je[1]?Bt?Bt.p(je,Be):(Bt=So(je),Bt.c(),Bt.m(xe,Xe)):Bt&&(Bt.d(1),Bt=null),(!Et||Be[0]&16384)&&Pe!==(Pe=je[14].t("Save")+"")&&H(Tt,Pe),je[12]?kt||(kt=No(),kt.c(),kt.m(oe,null)):kt&&(kt.d(1),kt=null),(!Et||Be[0]&4096&&Ot!==(Ot="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(je[12]?" cursor-not-allowed":"")))&&o(oe,"class",Ot),(!Et||Be[0]&4096)&&(oe.disabled=je[12])},i(je){Et||(K(S.$$.fragment,je),K(Ie.$$.fragment,je),K(we),K(dt.$$.fragment,je),Et=!0)},o(je){W(S.$$.fragment,je),W(Ie.$$.fragment,je),W(we),W(dt.$$.fragment,je),Et=!1},d(je){je&&c(e),It.d(),s[20](null),pe(S),pe(Ie),De.d(),et[re].d(),cl(Ut,je),pe(dt),Bt&&Bt.d(),kt&&kt.d(),ot=!1,ul(jt)}}}function c0(s){let e,t,l;function a(r){s[34](r)}let i={size:"sm",$$slots:{default:[f0]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Ea({props:i}),it.push(()=>ht(e,"show",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};f[0]&32767|f[1]&2048&&(u.$$scope={dirty:f,ctx:r}),!t&&f[0]&1&&(t=!0,u.show=r[0],_t(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){W(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}const Mo=s=>(s==null?void 0:s.owned_by)!=="arena";function d0(s,e,t){let l,a;nl(s,Dl,J=>t(13,l=J));const i=Il("i18n");nl(s,i,J=>t(14,a=J));const r=gs();let{show:f=!1}=e,{edit:u=!1}=e,{model:h=null}=e,b="",p="";const m=()=>{u||t(4,p=b.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))};let g="/favicon.png",E="",w="",k=[],I="include",y={},T,$=!1;const S=()=>{w&&(t(8,k=[...k,w]),t(7,w=""))},N=()=>{if(t(12,$=!0),!b||!p){t(12,$=!1),Ye.error("Name and ID are required, please fill them out");return}if(!u&&l.find(ae=>ae.name===b)){t(12,$=!1),t(3,b=""),Ye.error("Model name already exists, please choose a different one");return}const J={id:p,name:b,meta:{profile_image_url:g,description:E||null,model_ids:k.length>0?k:null,filter_mode:k.length>0&&I||null,access_control:y}};r("submit",J),t(12,$=!1),t(0,f=!1),t(3,b=""),t(4,p=""),t(5,g="/favicon.png"),t(6,E=""),t(8,k=[]),t(7,w="")},V=()=>{var J;h&&(t(3,b=h.name),t(4,p=h.id),t(5,g=h.meta.profile_image_url),t(6,E=h.meta.description),t(8,k=h.meta.model_ids||[]),t(9,I=((J=h.meta)==null?void 0:J.filter_mode)??"include"),t(10,y="access_control"in h.meta?h.meta.access_control:{}))};Hl(()=>{V()});const C=()=>{t(0,f=!1)};function R(J){it[J?"unshift":"push"](()=>{T=J,t(11,T)})}const P=J=>{const ae=J.target.files??[];let ue=new FileReader;ue.onload=ne=>{let $e=`${ne.target.result}`;const ge=new Image;ge.src=$e,ge.onload=function(){const Le=document.createElement("canvas"),be=Le.getContext("2d"),He=ge.width/ge.height;let Ve,ie;He>1?(Ve=250*He,ie=250):(Ve=250,ie=250/He),Le.width=250,Le.height=250;const le=(250-Ve)/2,Ee=(250-ie)/2;be.drawImage(ge,le,Ee,Ve,ie);const ce=Le.toDataURL("image/jpeg");t(5,g=ce),J.target.files=null}},ae.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(ae[0].type)&&ue.readAsDataURL(ae[0])},Z=()=>{T.click()};function B(){b=this.value,t(3,b)}function M(){p=this.value,t(4,p)}function j(){E=this.value,t(6,E)}function G(J){y=J,t(10,y)}const Y=()=>{t(9,I=I==="include"?"exclude":"include")},z=(J,ae)=>ae.id===J,X=J=>{t(8,k=k.filter((ae,ue)=>ue!==J))};function q(){w=Sl(this),t(7,w)}const Q=()=>{S()},te=()=>{r("delete",h),t(0,f=!1)},x=()=>{N()};function F(J){f=J,t(0,f)}return s.$$set=J=>{"show"in J&&t(0,f=J.show),"edit"in J&&t(1,u=J.edit),"model"in J&&t(2,h=J.model)},s.$$.update=()=>{s.$$.dirty[0]&8&&b&&m(),s.$$.dirty[0]&1&&f&&V()},[f,u,h,b,p,g,E,w,k,I,y,T,$,l,a,i,r,S,N,C,R,P,Z,B,M,j,G,Y,z,X,q,Q,te,x,F]}class Zo extends vl{constructor(e){super(),ml(this,e,d0,c0,pl,{show:0,edit:1,model:2},null,[-1,-1])}}function _0(s){var G,Y;let e,t,l,a,i,r,f,u,h,b,p,m,g,E,w=s[0].name+"",k,I,y,T,$=(((Y=(G=s[0])==null?void 0:G.meta)==null?void 0:Y.description)??s[0].id)+"",S,N,V,C,R,P,Z,B;function M(z){s[3](z)}let j={edit:!0,model:s[0]};return s[1]!==void 0&&(j.show=s[1]),e=new Zo({props:j}),it.push(()=>ht(e,"show",M)),e.$on("submit",s[4]),e.$on("delete",s[5]),R=new xa({}),{c(){de(e.$$.fragment),l=A(),a=d("div"),i=d("div"),r=d("div"),f=d("div"),u=d("img"),p=A(),m=d("div"),g=d("div"),E=d("div"),k=L(w),I=A(),y=d("div"),T=d("div"),S=L($),N=A(),V=d("div"),C=d("button"),de(R.$$.fragment),this.h()},l(z){_e(e.$$.fragment,z),l=D(z),a=_(z,"DIV",{class:!0});var X=v(a);i=_(X,"DIV",{class:!0});var q=v(i);r=_(q,"DIV",{class:!0});var Q=v(r);f=_(Q,"DIV",{class:!0});var te=v(f);u=_(te,"IMG",{src:!0,alt:!0,class:!0}),p=D(te),m=_(te,"DIV",{class:!0});var x=v(m);g=_(x,"DIV",{class:!0});var F=v(g);E=_(F,"DIV",{class:!0});var J=v(E);k=U(J,w),J.forEach(c),F.forEach(c),I=D(x),y=_(x,"DIV",{class:!0});var ae=v(y);T=_(ae,"DIV",{class:!0});var ue=v(T);S=U(ue,$),ue.forEach(c),ae.forEach(c),x.forEach(c),te.forEach(c),Q.forEach(c),N=D(q),V=_(q,"DIV",{class:!0});var ne=v(V);C=_(ne,"BUTTON",{class:!0,type:!0});var $e=v(C);_e(R.$$.fragment,$e),$e.forEach(c),ne.forEach(c),q.forEach(c),X.forEach(c),this.h()},h(){na(u.src,h=s[0].meta.profile_image_url)||o(u,"src",h),o(u,"alt",b=s[0].name),o(u,"class","size-8 rounded-full object-cover shrink-0"),o(E,"class","flex-shrink-0 line-clamp-1"),o(g,"class","flex items-center gap-1"),o(T,"class","text-xs w-full text-gray-500 bg-transparent line-clamp-1"),o(y,"class","flex items-center gap-1"),o(m,"class","w-full flex flex-col"),o(f,"class","flex gap-2.5 items-center"),o(r,"class","flex flex-col flex-1"),o(C,"class","self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),o(C,"type","button"),o(V,"class","flex items-center"),o(i,"class","flex justify-between items-center mb-1"),o(a,"class","py-0.5")},m(z,X){he(e,z,X),O(z,l,X),O(z,a,X),n(a,i),n(i,r),n(r,f),n(f,u),n(f,p),n(f,m),n(m,g),n(g,E),n(E,k),n(m,I),n(m,y),n(y,T),n(T,S),n(i,N),n(i,V),n(V,C),he(R,C,null),P=!0,Z||(B=se(C,"click",s[6]),Z=!0)},p(z,[X]){var Q,te;const q={};X&1&&(q.model=z[0]),!t&&X&2&&(t=!0,q.show=z[1],_t(()=>t=!1)),e.$set(q),(!P||X&1&&!na(u.src,h=z[0].meta.profile_image_url))&&o(u,"src",h),(!P||X&1&&b!==(b=z[0].name))&&o(u,"alt",b),(!P||X&1)&&w!==(w=z[0].name+"")&&H(k,w),(!P||X&1)&&$!==($=(((te=(Q=z[0])==null?void 0:Q.meta)==null?void 0:te.description)??z[0].id)+"")&&H(S,$)},i(z){P||(K(e.$$.fragment,z),K(R.$$.fragment,z),P=!0)},o(z){W(e.$$.fragment,z),W(R.$$.fragment,z),P=!1},d(z){z&&(c(l),c(a)),pe(e,z),pe(R),Z=!1,B()}}}function h0(s,e,t){const l=gs();Il("i18n");let{model:a}=e,i=!1;function r(b){i=b,t(1,i)}const f=async b=>{l("edit",b.detail)},u=async()=>{l("delete")},h=()=>{t(1,i=!0)};return s.$$set=b=>{"model"in b&&t(0,a=b.model)},[a,i,l,r,f,u,h]}class p0 extends vl{constructor(e){super(),ml(this,e,h0,_0,pl,{model:0})}}function Oo(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function v0(s){let e,t,l,a;return l=new Is({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),de(l.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{class:!0});var f=v(t);_e(l.$$.fragment,f),f.forEach(c),r.forEach(c),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex h-full justify-center")},m(i,r){O(i,e,r),n(e,t),he(l,t,null),a=!0},p:vt,i(i){a||(K(l.$$.fragment,i),a=!0)},o(i){W(l.$$.fragment,i),a=!1},d(i){i&&c(e),pe(l)}}}function m0(s){let e,t,l=s[2].t("General Settings")+"",a,i,r,f,u,h=s[2].t("Arena Models")+"",b,p,m,g,E;m=new Yt({props:{content:s[2].t("Message rating should be enabled to use this feature"),$$slots:{default:[g0]},$$scope:{ctx:s}}});let w=s[0].ENABLE_EVALUATION_ARENA_MODELS&&Po(s);return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("div"),b=L(h),p=A(),de(m.$$.fragment),g=A(),w&&w.c(),this.h()},l(k){e=_(k,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var y=v(t);a=U(y,l),y.forEach(c),i=D(I),r=_(I,"DIV",{class:!0});var T=v(r);f=_(T,"DIV",{class:!0});var $=v(f);u=_($,"DIV",{class:!0});var S=v(u);b=U(S,h),S.forEach(c),p=D($),_e(m.$$.fragment,$),$.forEach(c),T.forEach(c),g=D(I),w&&w.l(I),I.forEach(c),this.h()},h(){o(t,"class","text-sm font-medium mb-2"),o(u,"class","text-xs font-medium"),o(f,"class","flex justify-between items-center text-xs"),o(r,"class","mb-2"),o(e,"class","")},m(k,I){O(k,e,I),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),n(u,b),n(f,p),he(m,f,null),n(e,g),w&&w.m(e,null),E=!0},p(k,I){(!E||I&4)&&l!==(l=k[2].t("General Settings")+"")&&H(a,l),(!E||I&4)&&h!==(h=k[2].t("Arena Models")+"")&&H(b,h);const y={};I&4&&(y.content=k[2].t("Message rating should be enabled to use this feature")),I&1048577&&(y.$$scope={dirty:I,ctx:k}),m.$set(y),k[0].ENABLE_EVALUATION_ARENA_MODELS?w?(w.p(k,I),I&1&&K(w,1)):(w=Po(k),w.c(),K(w,1),w.m(e,null)):w&&(Vt(),W(w,1,1,()=>{w=null}),St())},i(k){E||(K(m.$$.fragment,k),K(w),E=!0)},o(k){W(m.$$.fragment,k),W(w),E=!1},d(k){k&&c(e),pe(m),w&&w.d()}}}function g0(s){let e,t,l;function a(r){s[11](r)}let i={};return s[0].ENABLE_EVALUATION_ARENA_MODELS!==void 0&&(i.state=s[0].ENABLE_EVALUATION_ARENA_MODELS),e=new wl({props:i}),it.push(()=>ht(e,"state",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};!t&&f&1&&(t=!0,u.state=r[0].ENABLE_EVALUATION_ARENA_MODELS,_t(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){W(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function Po(s){let e,t,l,a,i=s[2].t("Manage Arena Models")+"",r,f,u,h,b,p,m,g,E;h=new Yt({props:{content:s[2].t("Add Arena Model"),$$slots:{default:[b0]},$$scope:{ctx:s}}});const w=[w0,E0],k=[];function I(y,T){var $;return((($=y[0])==null?void 0:$.EVALUATION_ARENA_MODELS)??[]).length>0?0:1}return m=I(s),g=k[m]=w[m](s),{c(){e=d("hr"),t=A(),l=d("div"),a=d("div"),r=L(i),f=A(),u=d("div"),de(h.$$.fragment),b=A(),p=d("div"),g.c(),this.h()},l(y){e=_(y,"HR",{class:!0}),t=D(y),l=_(y,"DIV",{class:!0});var T=v(l);a=_(T,"DIV",{class:!0});var $=v(a);r=U($,i),$.forEach(c),f=D(T),u=_(T,"DIV",{});var S=v(u);_e(h.$$.fragment,S),S.forEach(c),T.forEach(c),b=D(y),p=_(y,"DIV",{class:!0});var N=v(p);g.l(N),N.forEach(c),this.h()},h(){o(e,"class","border-gray-50 dark:border-gray-700/10 my-2"),o(a,"class","text-sm font-medium"),o(l,"class","flex justify-between items-center mb-2"),o(p,"class","flex flex-col gap-2")},m(y,T){O(y,e,T),O(y,t,T),O(y,l,T),n(l,a),n(a,r),n(l,f),n(l,u),he(h,u,null),O(y,b,T),O(y,p,T),k[m].m(p,null),E=!0},p(y,T){(!E||T&4)&&i!==(i=y[2].t("Manage Arena Models")+"")&&H(r,i);const $={};T&4&&($.content=y[2].t("Add Arena Model")),T&1048578&&($.$$scope={dirty:T,ctx:y}),h.$set($);let S=m;m=I(y),m===S?k[m].p(y,T):(Vt(),W(k[S],1,1,()=>{k[S]=null}),St(),g=k[m],g?g.p(y,T):(g=k[m]=w[m](y),g.c()),K(g,1),g.m(p,null))},i(y){E||(K(h.$$.fragment,y),K(g),E=!0)},o(y){W(h.$$.fragment,y),W(g),E=!1},d(y){y&&(c(e),c(t),c(l),c(b),c(p)),pe(h),k[m].d()}}}function b0(s){let e,t,l,a,i;return t=new wa({}),{c(){e=d("button"),de(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);_e(t.$$.fragment,f),f.forEach(c),this.h()},h(){o(e,"class","p-1"),o(e,"type","button")},m(r,f){O(r,e,f),he(t,e,null),l=!0,a||(i=se(e,"click",s[12]),a=!0)},p:vt,i(r){l||(K(t.$$.fragment,r),l=!0)},o(r){W(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t),a=!1,i()}}}function E0(s){let e,t=s[2].t("Using the default arena model with all models. Click the plus button to add custom models.")+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);l=U(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-center text-xs text-gray-500")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i&4&&t!==(t=a[2].t("Using the default arena model with all models. Click the plus button to add custom models.")+"")&&H(l,t)},i:vt,o:vt,d(a){a&&c(e)}}}function w0(s){let e,t,l=yt(s[0].EVALUATION_ARENA_MODELS),a=[];for(let r=0;r<l.length;r+=1)a[r]=Lo(Oo(s,l,r));const i=r=>W(a[r],1,1,()=>{a[r]=null});return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=Xt()},l(r){for(let f=0;f<a.length;f+=1)a[f].l(r);e=Xt()},m(r,f){for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(r,f);O(r,e,f),t=!0},p(r,f){if(f&385){l=yt(r[0].EVALUATION_ARENA_MODELS);let u;for(u=0;u<l.length;u+=1){const h=Oo(r,l,u);a[u]?(a[u].p(h,f),K(a[u],1)):(a[u]=Lo(h),a[u].c(),K(a[u],1),a[u].m(e.parentNode,e))}for(Vt(),u=l.length;u<a.length;u+=1)i(u);St()}},i(r){if(!t){for(let f=0;f<l.length;f+=1)K(a[f]);t=!0}},o(r){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)W(a[f]);t=!1},d(r){r&&c(e),cl(a,r)}}}function Lo(s){let e,t;function l(...i){return s[13](s[19],...i)}function a(...i){return s[14](s[19],...i)}return e=new p0({props:{model:s[17]}}),e.$on("edit",l),e.$on("delete",a),{c(){de(e.$$.fragment)},l(i){_e(e.$$.fragment,i)},m(i,r){he(e,i,r),t=!0},p(i,r){s=i;const f={};r&1&&(f.model=s[17]),e.$set(f)},i(i){t||(K(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function k0(s){let e,t,l,a,i,r,f,u,h,b,p=s[2].t("Save")+"",m,g,E,w;function k(S){s[9](S)}let I={};s[1]!==void 0&&(I.show=s[1]),e=new Zo({props:I}),it.push(()=>ht(e,"show",k)),e.$on("submit",s[10]);const y=[m0,v0],T=[];function $(S,N){return S[0]!==null?0:1}return r=$(s),f=T[r]=y[r](s),{c(){de(e.$$.fragment),l=A(),a=d("form"),i=d("div"),f.c(),u=A(),h=d("div"),b=d("button"),m=L(p),this.h()},l(S){_e(e.$$.fragment,S),l=D(S),a=_(S,"FORM",{class:!0});var N=v(a);i=_(N,"DIV",{class:!0});var V=v(i);f.l(V),V.forEach(c),u=D(N),h=_(N,"DIV",{class:!0});var C=v(h);b=_(C,"BUTTON",{class:!0,type:!0});var R=v(b);m=U(R,p),R.forEach(c),C.forEach(c),N.forEach(c),this.h()},h(){o(i,"class","overflow-y-scroll scrollbar-hidden h-full"),o(b,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(b,"type","submit"),o(h,"class","flex justify-end pt-3 text-sm font-medium"),o(a,"class","flex flex-col h-full justify-between text-sm")},m(S,N){he(e,S,N),O(S,l,N),O(S,a,N),n(a,i),T[r].m(i,null),n(a,u),n(a,h),n(h,b),n(b,m),g=!0,E||(w=se(a,"submit",rs(s[15])),E=!0)},p(S,[N]){const V={};!t&&N&2&&(t=!0,V.show=S[1],_t(()=>t=!1)),e.$set(V);let C=r;r=$(S),r===C?T[r].p(S,N):(Vt(),W(T[C],1,1,()=>{T[C]=null}),St(),f=T[r],f?f.p(S,N):(f=T[r]=y[r](S),f.c()),K(f,1),f.m(i,null)),(!g||N&4)&&p!==(p=S[2].t("Save")+"")&&H(m,p)},i(S){g||(K(e.$$.fragment,S),K(f),g=!0)},o(S){W(e.$$.fragment,S),W(f),g=!1},d(S){S&&(c(l),c(a)),pe(e,S),T[r].d(),E=!1,w()}}}function I0(s,e,t){let l,a;nl(s,ia,$=>t(16,l=$));const i=gs(),r=Il("i18n");nl(s,r,$=>t(2,a=$));let f=null,u=!1;const h=async()=>{t(0,f=await sf(localStorage.token,f).catch($=>(Ye.error($),null))),f&&(Ye.success("Settings saved successfully"),Dl.set(await Bl(localStorage.token)))},b=async $=>{f.EVALUATION_ARENA_MODELS.push($),t(0,f.EVALUATION_ARENA_MODELS=[...f.EVALUATION_ARENA_MODELS],f),await h(),Dl.set(await Bl(localStorage.token))},p=async($,S)=>{t(0,f.EVALUATION_ARENA_MODELS[S]=$,f),t(0,f.EVALUATION_ARENA_MODELS=[...f.EVALUATION_ARENA_MODELS],f),await h(),Dl.set(await Bl(localStorage.token))},m=async $=>{t(0,f.EVALUATION_ARENA_MODELS=f.EVALUATION_ARENA_MODELS.filter((S,N)=>N!==$),f),await h(),Dl.set(await Bl(localStorage.token))};Hl(async()=>{l.role==="admin"&&t(0,f=await lf(localStorage.token).catch($=>(Ye.error($),null)))});function g($){u=$,t(1,u)}const E=async $=>{b($.detail)};function w($){s.$$.not_equal(f.ENABLE_EVALUATION_ARENA_MODELS,$)&&(f.ENABLE_EVALUATION_ARENA_MODELS=$,t(0,f))}return[f,u,a,i,r,h,b,p,m,g,E,w,()=>{t(1,u=!0)},($,S)=>{p(S.detail,$)},($,S)=>{m($)},()=>{h(),i("save")}]}class y0 extends vl{constructor(e){super(),ml(this,e,I0,k0,pl,{})}}function T0(s){let e,t;return e=new Kf({props:{saveHandler:s[22]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[22]),e.$set(i)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function A0(s){let e,t;return e=new of({props:{saveHandler:s[21]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[21]),e.$set(i)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function D0(s){let e,t;return e=new gc({}),e.$on("save",s[20]),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p:vt,i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function $0(s){let e,t;return e=new ac({props:{saveHandler:s[19]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[19]),e.$set(i)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function V0(s){let e,t;return e=new Vc({}),e.$on("save",s[18]),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p:vt,i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function S0(s){let e,t;return e=new e0({props:{saveHandler:s[17]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[17]),e.$set(i)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function N0(s){let e,t;return e=new C1({}),e.$on("save",s[16]),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p:vt,i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function M0(s){let e,t;return e=new y0({}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p:vt,i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function O0(s){let e,t;return e=new Cd({}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p:vt,i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function P0(s){let e,t;return e=new w1({}),e.$on("save",s[15]),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p:vt,i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function L0(s){let e,t;return e=new mf({props:{saveHandler:s[14]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[14]),e.$set(i)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function U0(s){let e,t,l,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',r,f,u=s[1].t("General")+"",h,b,p,m,g,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',w,k,I=s[1].t("Connections")+"",y,T,$,S,N,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',C,R,P=s[1].t("Models")+"",Z,B,M,j,G,Y,z,X,q=s[1].t("Evaluations")+"",Q,te,x,F,J,ae='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',ue,ne,$e=s[1].t("Documents")+"",ge,Le,be,He,Ve,ie='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>',le,Ee,ce=s[1].t("Web Search")+"",ke,Ie,ze,Qe,ve,ye='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',fe,me,Oe=s[1].t("Interface")+"",Me,Ge,Re,Ze,Ke,Dt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',re,we,pt=s[1].t("Audio")+"",mt,gt,qe,Fe,ct,Rt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>',At,Te,We=s[1].t("Images")+"",bt,ut,dt,rt,xe,Xe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"></path><path d="m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"></path><path d="m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"></path></svg>',oe,Pe,Tt=s[1].t("Pipelines")+"",Je,Ot,Et,ot,jt,el='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z"></path><path d="M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z"></path><path d="M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z"></path></svg>',Gt,It,Lt=s[1].t("Database")+"",Ct,Ue,Ae,De,wt,et,ft,Ft,Ut;Y=new s0({});const Bt=[L0,P0,O0,M0,N0,S0,V0,$0,D0,A0,T0],kt=[];function je(Be,tt){return Be[0]==="general"?0:Be[0]==="connections"?1:Be[0]==="models"?2:Be[0]==="evaluations"?3:Be[0]==="documents"?4:Be[0]==="web"?5:Be[0]==="interface"?6:Be[0]==="audio"?7:Be[0]==="images"?8:Be[0]==="db"?9:Be[0]==="pipelines"?10:-1}return~(wt=je(s))&&(et=kt[wt]=Bt[wt](s)),{c(){e=d("div"),t=d("div"),l=d("button"),a=d("div"),a.innerHTML=i,r=A(),f=d("div"),h=L(u),p=A(),m=d("button"),g=d("div"),g.innerHTML=E,w=A(),k=d("div"),y=L(I),$=A(),S=d("button"),N=d("div"),N.innerHTML=V,C=A(),R=d("div"),Z=L(P),M=A(),j=d("button"),G=d("div"),de(Y.$$.fragment),z=A(),X=d("div"),Q=L(q),x=A(),F=d("button"),J=d("div"),J.innerHTML=ae,ue=A(),ne=d("div"),ge=L($e),be=A(),He=d("button"),Ve=d("div"),Ve.innerHTML=ie,le=A(),Ee=d("div"),ke=L(ce),ze=A(),Qe=d("button"),ve=d("div"),ve.innerHTML=ye,fe=A(),me=d("div"),Me=L(Oe),Re=A(),Ze=d("button"),Ke=d("div"),Ke.innerHTML=Dt,re=A(),we=d("div"),mt=L(pt),qe=A(),Fe=d("button"),ct=d("div"),ct.innerHTML=Rt,At=A(),Te=d("div"),bt=L(We),dt=A(),rt=d("button"),xe=d("div"),xe.innerHTML=Xe,oe=A(),Pe=d("div"),Je=L(Tt),Et=A(),ot=d("button"),jt=d("div"),jt.innerHTML=el,Gt=A(),It=d("div"),Ct=L(Lt),Ae=A(),De=d("div"),et&&et.c(),this.h()},l(Be){e=_(Be,"DIV",{class:!0});var tt=v(e);t=_(tt,"DIV",{id:!0,class:!0});var st=v(t);l=_(st,"BUTTON",{class:!0});var Nt=v(l);a=_(Nt,"DIV",{class:!0,"data-svelte-h":!0}),Kt(a)!=="svelte-1e9u9pw"&&(a.innerHTML=i),r=D(Nt),f=_(Nt,"DIV",{class:!0});var rl=v(f);h=U(rl,u),rl.forEach(c),Nt.forEach(c),p=D(st),m=_(st,"BUTTON",{class:!0});var tl=v(m);g=_(tl,"DIV",{class:!0,"data-svelte-h":!0}),Kt(g)!=="svelte-1xixjje"&&(g.innerHTML=E),w=D(tl),k=_(tl,"DIV",{class:!0});var $t=v(k);y=U($t,I),$t.forEach(c),tl.forEach(c),$=D(st),S=_(st,"BUTTON",{class:!0});var ol=v(S);N=_(ol,"DIV",{class:!0,"data-svelte-h":!0}),Kt(N)!=="svelte-17kkxfv"&&(N.innerHTML=V),C=D(ol),R=_(ol,"DIV",{class:!0});var Qt=v(R);Z=U(Qt,P),Qt.forEach(c),ol.forEach(c),M=D(st),j=_(st,"BUTTON",{class:!0});var Zt=v(j);G=_(Zt,"DIV",{class:!0});var yl=v(G);_e(Y.$$.fragment,yl),yl.forEach(c),z=D(Zt),X=_(Zt,"DIV",{class:!0});var fl=v(X);Q=U(fl,q),fl.forEach(c),Zt.forEach(c),x=D(st),F=_(st,"BUTTON",{class:!0});var Wt=v(F);J=_(Wt,"DIV",{class:!0,"data-svelte-h":!0}),Kt(J)!=="svelte-ofbvgh"&&(J.innerHTML=ae),ue=D(Wt),ne=_(Wt,"DIV",{class:!0});var qt=v(ne);ge=U(qt,$e),qt.forEach(c),Wt.forEach(c),be=D(st),He=_(st,"BUTTON",{class:!0});var hl=v(He);Ve=_(hl,"DIV",{class:!0,"data-svelte-h":!0}),Kt(Ve)!=="svelte-1t9ru36"&&(Ve.innerHTML=ie),le=D(hl),Ee=_(hl,"DIV",{class:!0});var gl=v(Ee);ke=U(gl,ce),gl.forEach(c),hl.forEach(c),ze=D(st),Qe=_(st,"BUTTON",{class:!0});var kl=v(Qe);ve=_(kl,"DIV",{class:!0,"data-svelte-h":!0}),Kt(ve)!=="svelte-1i52rm6"&&(ve.innerHTML=ye),fe=D(kl),me=_(kl,"DIV",{class:!0});var bl=v(me);Me=U(bl,Oe),bl.forEach(c),kl.forEach(c),Re=D(st),Ze=_(st,"BUTTON",{class:!0});var Ht=v(Ze);Ke=_(Ht,"DIV",{class:!0,"data-svelte-h":!0}),Kt(Ke)!=="svelte-sf0iba"&&(Ke.innerHTML=Dt),re=D(Ht),we=_(Ht,"DIV",{class:!0});var El=v(we);mt=U(El,pt),El.forEach(c),Ht.forEach(c),qe=D(st),Fe=_(st,"BUTTON",{class:!0});var Pt=v(Fe);ct=_(Pt,"DIV",{class:!0,"data-svelte-h":!0}),Kt(ct)!=="svelte-1gc3odz"&&(ct.innerHTML=Rt),At=D(Pt),Te=_(Pt,"DIV",{class:!0});var Ne=v(Te);bt=U(Ne,We),Ne.forEach(c),Pt.forEach(c),dt=D(st),rt=_(st,"BUTTON",{class:!0});var lt=v(rt);xe=_(lt,"DIV",{class:!0,"data-svelte-h":!0}),Kt(xe)!=="svelte-1q46caf"&&(xe.innerHTML=Xe),oe=D(lt),Pe=_(lt,"DIV",{class:!0});var zt=v(Pe);Je=U(zt,Tt),zt.forEach(c),lt.forEach(c),Et=D(st),ot=_(st,"BUTTON",{class:!0});var Mt=v(ot);jt=_(Mt,"DIV",{class:!0,"data-svelte-h":!0}),Kt(jt)!=="svelte-35c53k"&&(jt.innerHTML=el),Gt=D(Mt),It=_(Mt,"DIV",{class:!0});var dl=v(It);Ct=U(dl,Lt),dl.forEach(c),Mt.forEach(c),st.forEach(c),Ae=D(tt),De=_(tt,"DIV",{class:!0});var Tl=v(De);et&&et.l(Tl),Tl.forEach(c),tt.forEach(c),this.h()},h(){o(a,"class","self-center mr-2"),o(f,"class","self-center"),o(l,"class",b="px-0.5 py-1 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[0]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(g,"class","self-center mr-2"),o(k,"class","self-center"),o(m,"class",T="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="connections"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(N,"class","self-center mr-2"),o(R,"class","self-center"),o(S,"class",B="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="models"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(G,"class","self-center mr-2"),o(X,"class","self-center"),o(j,"class",te="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="evaluations"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(J,"class","self-center mr-2"),o(ne,"class","self-center"),o(F,"class",Le="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="documents"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(Ve,"class","self-center mr-2"),o(Ee,"class","self-center"),o(He,"class",Ie="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="web"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(ve,"class","self-center mr-2"),o(me,"class","self-center"),o(Qe,"class",Ge="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="interface"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(Ke,"class","self-center mr-2"),o(we,"class","self-center"),o(Ze,"class",gt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(ct,"class","self-center mr-2"),o(Te,"class","self-center"),o(Fe,"class",ut="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="images"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(xe,"class","self-center mr-2"),o(Pe,"class","self-center"),o(rt,"class",Ot="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="pipelines"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(jt,"class","self-center mr-2"),o(It,"class","self-center"),o(ot,"class",Ue="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="db"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(t,"id","admin-settings-tabs-container"),o(t,"class","tabs flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"),o(De,"class","flex-1 mt-3 lg:mt-0 overflow-y-scroll pr-1 scrollbar-hidden"),o(e,"class","flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4")},m(Be,tt){O(Be,e,tt),n(e,t),n(t,l),n(l,a),n(l,r),n(l,f),n(f,h),n(t,p),n(t,m),n(m,g),n(m,w),n(m,k),n(k,y),n(t,$),n(t,S),n(S,N),n(S,C),n(S,R),n(R,Z),n(t,M),n(t,j),n(j,G),he(Y,G,null),n(j,z),n(j,X),n(X,Q),n(t,x),n(t,F),n(F,J),n(F,ue),n(F,ne),n(ne,ge),n(t,be),n(t,He),n(He,Ve),n(He,le),n(He,Ee),n(Ee,ke),n(t,ze),n(t,Qe),n(Qe,ve),n(Qe,fe),n(Qe,me),n(me,Me),n(t,Re),n(t,Ze),n(Ze,Ke),n(Ze,re),n(Ze,we),n(we,mt),n(t,qe),n(t,Fe),n(Fe,ct),n(Fe,At),n(Fe,Te),n(Te,bt),n(t,dt),n(t,rt),n(rt,xe),n(rt,oe),n(rt,Pe),n(Pe,Je),n(t,Et),n(t,ot),n(ot,jt),n(ot,Gt),n(ot,It),n(It,Ct),n(e,Ae),n(e,De),~wt&&kt[wt].m(De,null),ft=!0,Ft||(Ut=[se(l,"click",s[3]),se(m,"click",s[4]),se(S,"click",s[5]),se(j,"click",s[6]),se(F,"click",s[7]),se(He,"click",s[8]),se(Qe,"click",s[9]),se(Ze,"click",s[10]),se(Fe,"click",s[11]),se(rt,"click",s[12]),se(ot,"click",s[13])],Ft=!0)},p(Be,[tt]){(!ft||tt&2)&&u!==(u=Be[1].t("General")+"")&&H(h,u),(!ft||tt&1&&b!==(b="px-0.5 py-1 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(Be[0]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(l,"class",b),(!ft||tt&2)&&I!==(I=Be[1].t("Connections")+"")&&H(y,I),(!ft||tt&1&&T!==(T="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="connections"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(m,"class",T),(!ft||tt&2)&&P!==(P=Be[1].t("Models")+"")&&H(Z,P),(!ft||tt&1&&B!==(B="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="models"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(S,"class",B),(!ft||tt&2)&&q!==(q=Be[1].t("Evaluations")+"")&&H(Q,q),(!ft||tt&1&&te!==(te="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="evaluations"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(j,"class",te),(!ft||tt&2)&&$e!==($e=Be[1].t("Documents")+"")&&H(ge,$e),(!ft||tt&1&&Le!==(Le="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="documents"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(F,"class",Le),(!ft||tt&2)&&ce!==(ce=Be[1].t("Web Search")+"")&&H(ke,ce),(!ft||tt&1&&Ie!==(Ie="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="web"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(He,"class",Ie),(!ft||tt&2)&&Oe!==(Oe=Be[1].t("Interface")+"")&&H(Me,Oe),(!ft||tt&1&&Ge!==(Ge="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="interface"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(Qe,"class",Ge),(!ft||tt&2)&&pt!==(pt=Be[1].t("Audio")+"")&&H(mt,pt),(!ft||tt&1&&gt!==(gt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(Ze,"class",gt),(!ft||tt&2)&&We!==(We=Be[1].t("Images")+"")&&H(bt,We),(!ft||tt&1&&ut!==(ut="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="images"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(Fe,"class",ut),(!ft||tt&2)&&Tt!==(Tt=Be[1].t("Pipelines")+"")&&H(Je,Tt),(!ft||tt&1&&Ot!==(Ot="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="pipelines"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(rt,"class",Ot),(!ft||tt&2)&&Lt!==(Lt=Be[1].t("Database")+"")&&H(Ct,Lt),(!ft||tt&1&&Ue!==(Ue="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="db"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(ot,"class",Ue);let st=wt;wt=je(Be),wt===st?~wt&&kt[wt].p(Be,tt):(et&&(Vt(),W(kt[st],1,1,()=>{kt[st]=null}),St()),~wt?(et=kt[wt],et?et.p(Be,tt):(et=kt[wt]=Bt[wt](Be),et.c()),K(et,1),et.m(De,null)):et=null)},i(Be){ft||(K(Y.$$.fragment,Be),K(et),ft=!0)},o(Be){W(Y.$$.fragment,Be),W(et),ft=!1},d(Be){Be&&c(e),pe(Y),~wt&&kt[wt].d(),Ft=!1,ul(Ut)}}}function C0(s,e,t){let l;const a=Il("i18n");nl(s,a,P=>t(1,l=P));let i="general";return Hl(()=>{const P=document.getElementById("admin-settings-tabs-container");P&&P.addEventListener("wheel",function(Z){Z.deltaY!==0&&(P.scrollLeft+=Z.deltaY)})}),[i,l,a,()=>{t(0,i="general")},()=>{t(0,i="connections")},()=>{t(0,i="models")},()=>{t(0,i="evaluations")},()=>{t(0,i="documents")},()=>{t(0,i="web")},()=>{t(0,i="interface")},()=>{t(0,i="audio")},()=>{t(0,i="images")},()=>{t(0,i="pipelines")},()=>{t(0,i="db")},async()=>{Ye.success(l.t("Settings saved successfully!")),await ga(),await Us.set(await ra())},()=>{Ye.success(l.t("Settings saved successfully!"))},async()=>{Ye.success(l.t("Settings saved successfully!")),await ga(),await Us.set(await ra())},async()=>{Ye.success(l.t("Settings saved successfully!")),await ga(),await Us.set(await ra())},()=>{Ye.success(l.t("Settings saved successfully!"))},()=>{Ye.success(l.t("Settings saved successfully!"))},()=>{Ye.success(l.t("Settings saved successfully!"))},()=>{Ye.success(l.t("Settings saved successfully!"))},()=>{Ye.success(l.t("Settings saved successfully!"))}]}class R0 extends vl{constructor(e){super(),ml(this,e,C0,U0,pl,{})}}function B0(s){let e,t;return e=new R0({}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p:vt,i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}class I_ extends vl{constructor(e){super(),ml(this,e,null,B0,pl,{})}}export{I_ as component};
//# sourceMappingURL=12.DK-rmI5A.js.map
