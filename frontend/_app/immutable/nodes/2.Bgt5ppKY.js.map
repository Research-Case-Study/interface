{"version":3,"file":"2.Bgt5ppKY.js","sources":["../../../../../../node_modules/idb/build/wrap-idb-value.js","../../../../../../node_modules/idb/build/index.js","../../../../../../src/lib/apis/folders/index.ts","../../../../../../src/lib/components/layout/Sidebar/ArchivedChatsModal.svelte","../../../../../../src/lib/components/icons/Bookmark.svelte","../../../../../../src/lib/components/icons/BookmarkSlash.svelte","../../../../../../src/lib/components/icons/Download.svelte","../../../../../../src/lib/components/layout/Sidebar/ChatMenu.svelte","../../../../../../src/lib/components/common/DragGhost.svelte","../../../../../../src/lib/components/icons/Document.svelte","../../../../../../src/lib/components/layout/Sidebar/ChatItem.svelte","../../../../../../src/lib/components/layout/Sidebar/SearchInput.svelte","../../../../../../src/lib/components/common/Folder.svelte","../../../../../../src/lib/components/layout/Sidebar/Folders/FolderMenu.svelte","../../../../../../src/lib/components/layout/Sidebar/RecursiveFolder.svelte","../../../../../../src/lib/components/layout/Sidebar/Folders.svelte","../../../../../../src/lib/components/layout/Sidebar/ChannelModal.svelte","../../../../../../src/lib/components/layout/Sidebar/ChannelItem.svelte","../../../../../../src/lib/components/layout/Sidebar.svelte","../../../../../../src/lib/components/chat/Settings/Account/UpdatePassword.svelte","../../../../../../src/lib/components/chat/Settings/Account.svelte","../../../../../../src/lib/components/chat/Settings/About.svelte","../../../../../../src/lib/components/chat/Settings/General.svelte","../../../../../../src/lib/components/chat/Settings/Interface.svelte","../../../../../../src/lib/components/chat/Settings/Audio.svelte","../../../../../../src/lib/components/chat/Settings/Chats.svelte","../../../../../../src/lib/components/chat/Settings/Personalization/AddMemoryModal.svelte","../../../../../../src/lib/components/chat/Settings/Personalization/EditMemoryModal.svelte","../../../../../../src/lib/components/chat/Settings/Personalization/ManageModal.svelte","../../../../../../src/lib/components/chat/Settings/Personalization.svelte","../../../../../../src/lib/components/chat/SettingsModal.svelte","../../../../../../node_modules/svelte-confetti/dist/Confetti.svelte","../../../../../../src/lib/components/ChangelogModal.svelte","../../../../../../src/lib/components/layout/Overlay/AccountPending.svelte","../../../../../../src/lib/components/layout/UpdateInfoToast.svelte","../../../../../../src/routes/(app)/+layout.svelte"],"sourcesContent":["const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst cursorRequestMap = new WeakMap();\nconst transactionDoneMap = new WeakMap();\nconst transactionStoreNamesMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    promise\n        .then((value) => {\n        // Since cursoring reuses the IDBRequest (*sigh*), we cache it for later retrieval\n        // (see wrapFunction).\n        if (value instanceof IDBCursor) {\n            cursorRequestMap.set(value, request);\n        }\n        // Catching to avoid \"Uncaught Promise exceptions\"\n    })\n        .catch(() => { });\n    // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Polyfill for objectStoreNames because of Edge.\n            if (prop === 'objectStoreNames') {\n                return target.objectStoreNames || transactionStoreNamesMap.get(target);\n            }\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Edge doesn't support objectStoreNames (booo), so we polyfill it here.\n    if (func === IDBDatabase.prototype.transaction &&\n        !('objectStoreNames' in IDBTransaction.prototype)) {\n        return function (storeNames, ...args) {\n            const tx = func.call(unwrap(this), storeNames, ...args);\n            transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);\n            return wrap(tx);\n        };\n    }\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(cursorRequestMap.get(this));\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\nexport { reverseTransformCache as a, instanceOfAny as i, replaceTraps as r, unwrap as u, wrap as w };\n","import { w as wrap, r as replaceTraps } from './wrap-idb-value.js';\nexport { u as unwrap, w as wrap } from './wrap-idb-value.js';\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n        });\n    }\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event.newVersion, event));\n    }\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking) {\n            db.addEventListener('versionchange', (event) => blocking(event.oldVersion, event.newVersion, event));\n        }\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event));\n    }\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nexport { deleteDB, openDB };\n","import { WEBUI_API_BASE_URL } from '$lib/constants';\n\nexport const createNewFolder = async (token: string, name: string) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/folders/`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tname: name\n\t\t})\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const getFolders = async (token: string = '') => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/folders/`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const getFolderById = async (token: string, id: string) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/folders/${id}`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const updateFolderNameById = async (token: string, id: string, name: string) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/folders/${id}/update`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tname: name\n\t\t})\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const updateFolderIsExpandedById = async (\n\ttoken: string,\n\tid: string,\n\tisExpanded: boolean\n) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/folders/${id}/update/expanded`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tis_expanded: isExpanded\n\t\t})\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const updateFolderParentIdById = async (token: string, id: string, parentId?: string) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/folders/${id}/update/parent`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tparent_id: parentId\n\t\t})\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\ntype FolderItems = {\n\tchat_ids: string[];\n\tfile_ids: string[];\n};\n\nexport const updateFolderItemsById = async (token: string, id: string, items: FolderItems) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/folders/${id}/update/items`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\titems: items\n\t\t})\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const deleteFolderById = async (token: string, id: string) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/folders/${id}`, {\n\t\tmethod: 'DELETE',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n","<script lang=\"ts\">\n\timport fileSaver from 'file-saver';\n\tconst { saveAs } = fileSaver;\n\timport { toast } from 'svelte-sonner';\n\timport dayjs from 'dayjs';\n\timport { getContext, createEventDispatcher } from 'svelte';\n\n\tconst dispatch = createEventDispatcher();\n\n\timport {\n\t\tarchiveChatById,\n\t\tdeleteChatById,\n\t\tgetAllArchivedChats,\n\t\tgetArchivedChatList\n\t} from '$lib/apis/chats';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport UnarchiveAllConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\tconst i18n = getContext('i18n');\n\n\texport let show = false;\n\n\tlet chats = [];\n\n\tlet searchValue = '';\n\tlet showUnarchiveAllConfirmDialog = false;\n\n\tconst unarchiveChatHandler = async (chatId) => {\n\t\tconst res = await archiveChatById(localStorage.token, chatId).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t});\n\n\t\tchats = await getArchivedChatList(localStorage.token);\n\t\tdispatch('change');\n\t};\n\n\tconst deleteChatHandler = async (chatId) => {\n\t\tconst res = await deleteChatById(localStorage.token, chatId).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t});\n\n\t\tchats = await getArchivedChatList(localStorage.token);\n\t};\n\n\tconst exportChatsHandler = async () => {\n\t\tconst chats = await getAllArchivedChats(localStorage.token);\n\t\tlet blob = new Blob([JSON.stringify(chats)], {\n\t\t\ttype: 'application/json'\n\t\t});\n\t\tsaveAs(blob, `${$i18n.t('archived-chat-export')}-${Date.now()}.json`);\n\t};\n\n\tconst unarchiveAllHandler = async () => {\n\t\tfor (const chat of chats) {\n\t\t\tawait archiveChatById(localStorage.token, chat.id);\n\t\t}\n\t\tchats = await getArchivedChatList(localStorage.token);\n\t};\n\n\t$: if (show) {\n\t\t(async () => {\n\t\t\tchats = await getArchivedChatList(localStorage.token);\n\t\t})();\n\t}\n</script>\n\n<UnarchiveAllConfirmDialog\n\tbind:show={showUnarchiveAllConfirmDialog}\n\tmessage={$i18n.t('Are you sure you want to unarchive all archived chats?')}\n\tconfirmLabel={$i18n.t('Unarchive All')}\n\ton:confirm={() => {\n\t\tunarchiveAllHandler();\n\t}}\n/>\n\n<Modal size=\"lg\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-1\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Archived Chats')}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full px-5 pb-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex w-full mt-2 space-x-2\">\n\t\t\t\t<div class=\"flex flex-1\">\n\t\t\t\t\t<div class=\" self-center ml-1 mr-3\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\" w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent\"\n\t\t\t\t\t\tbind:value={searchValue}\n\t\t\t\t\t\tplaceholder={$i18n.t('Search Chats')}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<hr class=\" dark:border-gray-850 my-2\" />\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t{#if chats.length > 0}\n\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t<div class=\"text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll\">\n\t\t\t\t\t\t\t<div class=\"relative overflow-x-auto\">\n\t\t\t\t\t\t\t\t<table class=\"w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto\">\n\t\t\t\t\t\t\t\t\t<thead\n\t\t\t\t\t\t\t\t\t\tclass=\"text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"px-3 py-2\"> {$i18n.t('Name')} </th>\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"px-3 py-2 hidden md:flex\">\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Created At')}\n\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"px-3 py-2 text-right\" />\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t{#each chats.filter((c) => searchValue === '' || c.title\n\t\t\t\t\t\t\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t\t\t\t\t\t\t.includes(searchValue.toLowerCase())) as chat, idx}\n\t\t\t\t\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bg-transparent {idx !== chats.length - 1 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t'border-b'} dark:bg-gray-900 dark:border-gray-850 text-xs\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"px-3 py-1 w-2/3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"/c/{chat.id}\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" underline line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{chat.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\" px-3 py-1 hidden md:flex h-[2.5rem]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"my-auto\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dayjs(chat.created_at * 1000).format($i18n.t('MMMM DD, YYYY HH:mm'))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"px-3 py-1 text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex justify-end w-full\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Unarchive Chat')}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunarchiveChatHandler(chat.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Delete Chat')}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteChatHandler(chat.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex flex-wrap text-sm font-medium gap-1.5 mt-2 m-1 justify-end w-full\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\" px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tshowUnarchiveAllConfirmDialog = true;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Unarchive All Archived Chats')}\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\texportChatsHandler();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Export All Archived Chats')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"text-left text-sm w-full mb-8\">\n\t\t\t\t\t\t{$i18n.t('You have no archived conversations.')}\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n","<script lang=\"ts\">\n\texport let className = 'w-4 h-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\texport let className = 'w-4 h-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"m3 3 1.664 1.664M21 21l-1.5-1.5m-5.485-1.242L12 17.25 4.5 21V8.742m.164-4.078a2.15 2.15 0 0 1 1.743-1.342 48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185V19.5M4.664 4.664 19.5 19.5\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\texport let className = 'size-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\timport { DropdownMenu } from 'bits-ui';\n\timport { flyAndScale } from '$lib/utils/transitions';\n\timport { getContext, createEventDispatcher } from 'svelte';\n\n\timport fileSaver from 'file-saver';\n\tconst { saveAs } = fileSaver;\n\n\tconst dispatch = createEventDispatcher();\n\n\timport Dropdown from '$lib/components/common/Dropdown.svelte';\n\timport GarbageBin from '$lib/components/icons/GarbageBin.svelte';\n\timport Pencil from '$lib/components/icons/Pencil.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Tags from '$lib/components/chat/Tags.svelte';\n\timport Share from '$lib/components/icons/Share.svelte';\n\timport ArchiveBox from '$lib/components/icons/ArchiveBox.svelte';\n\timport DocumentDuplicate from '$lib/components/icons/DocumentDuplicate.svelte';\n\timport Bookmark from '$lib/components/icons/Bookmark.svelte';\n\timport BookmarkSlash from '$lib/components/icons/BookmarkSlash.svelte';\n\timport {\n\t\tgetChatById,\n\t\tgetChatPinnedStatusById,\n\t\ttoggleChatPinnedStatusById\n\t} from '$lib/apis/chats';\n\timport { chats } from '$lib/stores';\n\timport { createMessagesList } from '$lib/utils';\n\timport { downloadChatAsPDF } from '$lib/apis/utils';\n\timport Download from '$lib/components/icons/Download.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let shareHandler: Function;\n\texport let cloneChatHandler: Function;\n\texport let archiveChatHandler: Function;\n\texport let renameHandler: Function;\n\texport let deleteHandler: Function;\n\texport let onClose: Function;\n\n\texport let chatId = '';\n\n\tlet show = false;\n\tlet pinned = false;\n\n\tconst pinHandler = async () => {\n\t\tawait toggleChatPinnedStatusById(localStorage.token, chatId);\n\t\tdispatch('change');\n\t};\n\n\tconst checkPinned = async () => {\n\t\tpinned = await getChatPinnedStatusById(localStorage.token, chatId);\n\t};\n\n\tconst getChatAsText = async (chat) => {\n\t\tconst history = chat.chat.history;\n\t\tconst messages = createMessagesList(history, history.currentId);\n\t\tconst chatText = messages.reduce((a, message, i, arr) => {\n\t\t\treturn `${a}### ${message.role.toUpperCase()}\\n${message.content}\\n\\n`;\n\t\t}, '');\n\n\t\treturn chatText.trim();\n\t};\n\n\tconst downloadTxt = async () => {\n\t\tconst chat = await getChatById(localStorage.token, chatId);\n\t\tif (!chat) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst chatText = await getChatAsText(chat);\n\t\tlet blob = new Blob([chatText], {\n\t\t\ttype: 'text/plain'\n\t\t});\n\n\t\tsaveAs(blob, `chat-${chat.chat.title}.txt`);\n\t};\n\n\tconst downloadPdf = async () => {\n\t\tconst chat = await getChatById(localStorage.token, chatId);\n\t\tif (!chat) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst history = chat.chat.history;\n\t\tconst messages = createMessagesList(history, history.currentId);\n\t\tconst blob = await downloadChatAsPDF(chat.chat.title, messages);\n\n\t\t// Create a URL for the blob\n\t\tconst url = window.URL.createObjectURL(blob);\n\n\t\t// Create a link element to trigger the download\n\t\tconst a = document.createElement('a');\n\t\ta.href = url;\n\t\ta.download = `chat-${chat.chat.title}.pdf`;\n\n\t\t// Append the link to the body and click it programmatically\n\t\tdocument.body.appendChild(a);\n\t\ta.click();\n\n\t\t// Remove the link from the body\n\t\tdocument.body.removeChild(a);\n\n\t\t// Revoke the URL to release memory\n\t\twindow.URL.revokeObjectURL(url);\n\t};\n\n\tconst downloadJSONExport = async () => {\n\t\tconst chat = await getChatById(localStorage.token, chatId);\n\n\t\tif (chat) {\n\t\t\tlet blob = new Blob([JSON.stringify([chat])], {\n\t\t\t\ttype: 'application/json'\n\t\t\t});\n\t\t\tsaveAs(blob, `chat-export-${Date.now()}.json`);\n\t\t}\n\t};\n\n\t$: if (show) {\n\t\tcheckPinned();\n\t}\n</script>\n\n<Dropdown\n\tbind:show\n\ton:change={(e) => {\n\t\tif (e.detail === false) {\n\t\t\tonClose();\n\t\t}\n\t}}\n>\n\t<Tooltip content={$i18n.t('More')}>\n\t\t<slot />\n\t</Tooltip>\n\n\t<div slot=\"content\">\n\t\t<DropdownMenu.Content\n\t\t\tclass=\"w-full max-w-[200px] rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg\"\n\t\t\tsideOffset={-2}\n\t\t\tside=\"bottom\"\n\t\t\talign=\"start\"\n\t\t\ttransition={flyAndScale}\n\t\t>\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tpinHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{#if pinned}\n\t\t\t\t\t<BookmarkSlash strokeWidth=\"2\" />\n\t\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Unpin')}</div>\n\t\t\t\t{:else}\n\t\t\t\t\t<Bookmark strokeWidth=\"2\" />\n\t\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Pin')}</div>\n\t\t\t\t{/if}\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\trenameHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Pencil strokeWidth=\"2\" />\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Rename')}</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tcloneChatHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DocumentDuplicate strokeWidth=\"2\" />\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Clone')}</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tarchiveChatHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ArchiveBox strokeWidth=\"2\" />\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Archive')}</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshareHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Share />\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Share')}</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<DropdownMenu.Sub>\n\t\t\t\t<DropdownMenu.SubTrigger\n\t\t\t\t\tclass=\"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\t>\n\t\t\t\t\t<Download strokeWidth=\"2\" />\n\n\t\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Download')}</div>\n\t\t\t\t</DropdownMenu.SubTrigger>\n\t\t\t\t<DropdownMenu.SubContent\n\t\t\t\t\tclass=\"w-full rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg\"\n\t\t\t\t\ttransition={flyAndScale}\n\t\t\t\t\tsideOffset={8}\n\t\t\t\t>\n\t\t\t\t\t<DropdownMenu.Item\n\t\t\t\t\t\tclass=\"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tdownloadJSONExport();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex items-center line-clamp-1\">{$i18n.t('Export chat (.json)')}</div>\n\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t\t<DropdownMenu.Item\n\t\t\t\t\t\tclass=\"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tdownloadTxt();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex items-center line-clamp-1\">{$i18n.t('Plain text (.txt)')}</div>\n\t\t\t\t\t</DropdownMenu.Item>\n\n\t\t\t\t\t<DropdownMenu.Item\n\t\t\t\t\t\tclass=\"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tdownloadPdf();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex items-center line-clamp-1\">{$i18n.t('PDF document (.pdf)')}</div>\n\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t</DropdownMenu.SubContent>\n\t\t\t</DropdownMenu.Sub>\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tdeleteHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<GarbageBin strokeWidth=\"2\" />\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Delete')}</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<hr class=\"border-gray-50 dark:border-gray-850 my-0.5\" />\n\n\t\t\t<div class=\"flex p-1\">\n\t\t\t\t<Tags\n\t\t\t\t\t{chatId}\n\t\t\t\t\ton:add={(e) => {\n\t\t\t\t\t\tdispatch('tag', {\n\t\t\t\t\t\t\ttype: 'add',\n\t\t\t\t\t\t\tname: e.detail.name\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tshow = false;\n\t\t\t\t\t}}\n\t\t\t\t\ton:delete={(e) => {\n\t\t\t\t\t\tdispatch('tag', {\n\t\t\t\t\t\t\ttype: 'delete',\n\t\t\t\t\t\t\tname: e.detail.name\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tshow = false;\n\t\t\t\t\t}}\n\t\t\t\t\ton:close={() => {\n\t\t\t\t\t\tshow = false;\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</DropdownMenu.Content>\n\t</div>\n</Dropdown>\n","<script lang=\"ts\">\n\timport { onDestroy, onMount } from 'svelte';\n\n\texport let x;\n\texport let y;\n\n\tlet popupElement = null;\n\n\tonMount(() => {\n\t\tdocument.body.appendChild(popupElement);\n\t\tdocument.body.style.overflow = 'hidden';\n\t});\n\n\tonDestroy(() => {\n\t\tdocument.body.removeChild(popupElement);\n\t\tdocument.body.style.overflow = 'unset';\n\t});\n</script>\n\n<!-- svelte-ignore a11y-click-events-have-key-events -->\n<!-- svelte-ignore a11y-no-static-element-interactions -->\n\n<div\n\tbind:this={popupElement}\n\tclass=\"fixed top-0 left-0 w-screen h-[100dvh] z-50 touch-none pointer-events-none\"\n>\n\t<div class=\" absolute text-white z-[99999]\" style=\"top: {y + 10}px; left: {x + 10}px;\">\n\t\t<slot></slot>\n\t</div>\n</div>\n","<script lang=\"ts\">\n\texport let className = 'size-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { goto, invalidate, invalidateAll } from '$app/navigation';\n\timport { onMount, getContext, createEventDispatcher, tick, onDestroy } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\tconst dispatch = createEventDispatcher();\n\n\timport {\n\t\tarchiveChatById,\n\t\tcloneChatById,\n\t\tdeleteChatById,\n\t\tgetAllTags,\n\t\tgetChatById,\n\t\tgetChatList,\n\t\tgetChatListByTagName,\n\t\tgetPinnedChatList,\n\t\tupdateChatById\n\t} from '$lib/apis/chats';\n\timport {\n\t\tchatId,\n\t\tchatTitle as _chatTitle,\n\t\tchats,\n\t\tmobile,\n\t\tpinnedChats,\n\t\tshowSidebar,\n\t\tcurrentChatPage,\n\t\ttags\n\t} from '$lib/stores';\n\n\timport ChatMenu from './ChatMenu.svelte';\n\timport DeleteConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport ShareChatModal from '$lib/components/chat/ShareChatModal.svelte';\n\timport GarbageBin from '$lib/components/icons/GarbageBin.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport ArchiveBox from '$lib/components/icons/ArchiveBox.svelte';\n\timport DragGhost from '$lib/components/common/DragGhost.svelte';\n\timport Check from '$lib/components/icons/Check.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport Document from '$lib/components/icons/Document.svelte';\n\n\texport let className = '';\n\n\texport let id;\n\texport let title;\n\n\texport let selected = false;\n\texport let shiftKey = false;\n\n\tlet chat = null;\n\n\tlet mouseOver = false;\n\tlet draggable = false;\n\t$: if (mouseOver) {\n\t\tloadChat();\n\t}\n\n\tconst loadChat = async () => {\n\t\tif (!chat) {\n\t\t\tdraggable = false;\n\t\t\tchat = await getChatById(localStorage.token, id);\n\t\t\tdraggable = true;\n\t\t}\n\t};\n\n\tlet showShareChatModal = false;\n\tlet confirmEdit = false;\n\n\tlet chatTitle = title;\n\n\tconst editChatTitle = async (id, title) => {\n\t\tif (title === '') {\n\t\t\ttoast.error($i18n.t('Title cannot be an empty string.'));\n\t\t} else {\n\t\t\tawait updateChatById(localStorage.token, id, {\n\t\t\t\ttitle: title\n\t\t\t});\n\n\t\t\tif (id === $chatId) {\n\t\t\t\t_chatTitle.set(title);\n\t\t\t}\n\n\t\t\tcurrentChatPage.set(1);\n\t\t\tawait chats.set(await getChatList(localStorage.token, $currentChatPage));\n\t\t\tawait pinnedChats.set(await getPinnedChatList(localStorage.token));\n\t\t}\n\t};\n\n\tconst cloneChatHandler = async (id) => {\n\t\tconst res = await cloneChatById(localStorage.token, id).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\tgoto(`/c/${res.id}`);\n\n\t\t\tcurrentChatPage.set(1);\n\t\t\tawait chats.set(await getChatList(localStorage.token, $currentChatPage));\n\t\t\tawait pinnedChats.set(await getPinnedChatList(localStorage.token));\n\t\t}\n\t};\n\n\tconst deleteChatHandler = async (id) => {\n\t\tconst res = await deleteChatById(localStorage.token, id).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\ttags.set(await getAllTags(localStorage.token));\n\t\t\tif ($chatId === id) {\n\t\t\t\tawait goto('/');\n\n\t\t\t\tawait chatId.set('');\n\t\t\t\tawait tick();\n\t\t\t}\n\n\t\t\tdispatch('change');\n\t\t}\n\t};\n\n\tconst archiveChatHandler = async (id) => {\n\t\tawait archiveChatById(localStorage.token, id);\n\t\tdispatch('change');\n\t};\n\n\tconst focusEdit = async (node: HTMLInputElement) => {\n\t\tnode.focus();\n\t};\n\n\tlet itemElement;\n\n\tlet dragged = false;\n\tlet x = 0;\n\tlet y = 0;\n\n\tconst dragImage = new Image();\n\tdragImage.src =\n\t\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=';\n\n\tconst onDragStart = (event) => {\n\t\tevent.stopPropagation();\n\n\t\tevent.dataTransfer.setDragImage(dragImage, 0, 0);\n\n\t\t// Set the data to be transferred\n\t\tevent.dataTransfer.setData(\n\t\t\t'text/plain',\n\t\t\tJSON.stringify({\n\t\t\t\ttype: 'chat',\n\t\t\t\tid: id,\n\t\t\t\titem: chat\n\t\t\t})\n\t\t);\n\n\t\tdragged = true;\n\t\titemElement.style.opacity = '0.5'; // Optional: Visual cue to show it's being dragged\n\t};\n\n\tconst onDrag = (event) => {\n\t\tevent.stopPropagation();\n\n\t\tx = event.clientX;\n\t\ty = event.clientY;\n\t};\n\n\tconst onDragEnd = (event) => {\n\t\tevent.stopPropagation();\n\n\t\titemElement.style.opacity = '1'; // Reset visual cue after drag\n\t\tdragged = false;\n\t};\n\n\tonMount(() => {\n\t\tif (itemElement) {\n\t\t\t// Event listener for when dragging starts\n\t\t\titemElement.addEventListener('dragstart', onDragStart);\n\t\t\t// Event listener for when dragging occurs (optional)\n\t\t\titemElement.addEventListener('drag', onDrag);\n\t\t\t// Event listener for when dragging ends\n\t\t\titemElement.addEventListener('dragend', onDragEnd);\n\t\t}\n\t});\n\n\tonDestroy(() => {\n\t\tif (itemElement) {\n\t\t\titemElement.removeEventListener('dragstart', onDragStart);\n\t\t\titemElement.removeEventListener('drag', onDrag);\n\t\t\titemElement.removeEventListener('dragend', onDragEnd);\n\t\t}\n\t});\n\n\tlet showDeleteConfirm = false;\n</script>\n\n<ShareChatModal bind:show={showShareChatModal} chatId={id} />\n\n<DeleteConfirmDialog\n\tbind:show={showDeleteConfirm}\n\ttitle={$i18n.t('Delete chat?')}\n\ton:confirm={() => {\n\t\tdeleteChatHandler(id);\n\t}}\n>\n\t<div class=\" text-sm text-gray-500 flex-1 line-clamp-3\">\n\t\t{$i18n.t('This will delete')} <span class=\"  font-semibold\">{title}</span>.\n\t</div>\n</DeleteConfirmDialog>\n\n{#if dragged && x && y}\n\t<DragGhost {x} {y}>\n\t\t<div class=\" bg-black/80 backdrop-blur-2xl px-2 py-1 rounded-lg w-fit max-w-40\">\n\t\t\t<div class=\"flex items-center gap-1\">\n\t\t\t\t<Document className=\" size-[18px]\" strokeWidth=\"2\" />\n\t\t\t\t<div class=\" text-xs text-white line-clamp-1\">\n\t\t\t\t\t{title}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</DragGhost>\n{/if}\n\n<div bind:this={itemElement} class=\" w-full {className} relative group\" {draggable}>\n\t{#if confirmEdit}\n\t\t<div\n\t\t\tclass=\" w-full flex justify-between rounded-lg px-[11px] py-[6px] {id === $chatId ||\n\t\t\tconfirmEdit\n\t\t\t\t? 'bg-gray-200 dark:bg-gray-900'\n\t\t\t\t: selected\n\t\t\t\t\t? 'bg-gray-100 dark:bg-gray-950'\n\t\t\t\t\t: 'group-hover:bg-gray-100 dark:group-hover:bg-gray-950'}  whitespace-nowrap text-ellipsis\"\n\t\t>\n\t\t\t<input\n\t\t\t\tuse:focusEdit\n\t\t\t\tbind:value={chatTitle}\n\t\t\t\tid=\"chat-title-input-{id}\"\n\t\t\t\tclass=\" bg-transparent w-full outline-none mr-10\"\n\t\t\t/>\n\t\t</div>\n\t{:else}\n\t\t<a\n\t\t\tclass=\" w-full flex justify-between rounded-lg px-[11px] py-[6px] {id === $chatId ||\n\t\t\tconfirmEdit\n\t\t\t\t? 'bg-gray-200 dark:bg-gray-900'\n\t\t\t\t: selected\n\t\t\t\t\t? 'bg-gray-100 dark:bg-gray-950'\n\t\t\t\t\t: ' group-hover:bg-gray-100 dark:group-hover:bg-gray-950'}  whitespace-nowrap text-ellipsis\"\n\t\t\thref=\"/c/{id}\"\n\t\t\ton:click={() => {\n\t\t\t\tdispatch('select');\n\n\t\t\t\tif ($mobile) {\n\t\t\t\t\tshowSidebar.set(false);\n\t\t\t\t}\n\t\t\t}}\n\t\t\ton:dblclick={() => {\n\t\t\t\tchatTitle = title;\n\t\t\t\tconfirmEdit = true;\n\t\t\t}}\n\t\t\ton:mouseenter={(e) => {\n\t\t\t\tmouseOver = true;\n\t\t\t}}\n\t\t\ton:mouseleave={(e) => {\n\t\t\t\tmouseOver = false;\n\t\t\t}}\n\t\t\ton:focus={(e) => {}}\n\t\t\tdraggable=\"false\"\n\t\t>\n\t\t\t<div class=\" flex self-center flex-1 w-full\">\n\t\t\t\t<div class=\" text-left self-center overflow-hidden w-full h-[20px]\">\n\t\t\t\t\t{title}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</a>\n\t{/if}\n\n\t<!-- svelte-ignore a11y-no-static-element-interactions -->\n\t<div\n\t\tclass=\"\n        {id === $chatId || confirmEdit\n\t\t\t? 'from-gray-200 dark:from-gray-900'\n\t\t\t: selected\n\t\t\t\t? 'from-gray-100 dark:from-gray-950'\n\t\t\t\t: 'invisible group-hover:visible from-gray-100 dark:from-gray-950'}\n            absolute {className === 'pr-2'\n\t\t\t? 'right-[8px]'\n\t\t\t: 'right-0'}  top-[4px] py-1 pr-0.5 mr-1.5 pl-5 bg-gradient-to-l from-80%\n\n              to-transparent\"\n\t\ton:mouseenter={(e) => {\n\t\t\tmouseOver = true;\n\t\t}}\n\t\ton:mouseleave={(e) => {\n\t\t\tmouseOver = false;\n\t\t}}\n\t>\n\t\t{#if confirmEdit}\n\t\t\t<div\n\t\t\t\tclass=\"flex self-center items-center space-x-1.5 z-10 translate-y-[0.5px] -translate-x-[0.5px]\"\n\t\t\t>\n\t\t\t\t<Tooltip content={$i18n.t('Confirm')}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\" self-center dark:hover:text-white transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\teditChatTitle(id, chatTitle);\n\t\t\t\t\t\t\tconfirmEdit = false;\n\t\t\t\t\t\t\tchatTitle = '';\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Check className=\" size-3.5\" strokeWidth=\"2.5\" />\n\t\t\t\t\t</button>\n\t\t\t\t</Tooltip>\n\n\t\t\t\t<Tooltip content={$i18n.t('Cancel')}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\" self-center dark:hover:text-white transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tconfirmEdit = false;\n\t\t\t\t\t\t\tchatTitle = '';\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<XMark strokeWidth=\"2.5\" />\n\t\t\t\t\t</button>\n\t\t\t\t</Tooltip>\n\t\t\t</div>\n\t\t{:else if shiftKey && mouseOver}\n\t\t\t<div class=\" flex items-center self-center space-x-1.5\">\n\t\t\t\t<Tooltip content={$i18n.t('Archive')} className=\"flex items-center\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\" self-center dark:hover:text-white transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tarchiveChatHandler(id);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ArchiveBox className=\"size-4  translate-y-[0.5px]\" strokeWidth=\"2\" />\n\t\t\t\t\t</button>\n\t\t\t\t</Tooltip>\n\n\t\t\t\t<Tooltip content={$i18n.t('Delete')}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\" self-center dark:hover:text-white transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tdeleteChatHandler(id);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<GarbageBin strokeWidth=\"2\" />\n\t\t\t\t\t</button>\n\t\t\t\t</Tooltip>\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<div class=\"flex self-center space-x-1 z-10\">\n\t\t\t\t<ChatMenu\n\t\t\t\t\tchatId={id}\n\t\t\t\t\tcloneChatHandler={() => {\n\t\t\t\t\t\tcloneChatHandler(id);\n\t\t\t\t\t}}\n\t\t\t\t\tshareHandler={() => {\n\t\t\t\t\t\tshowShareChatModal = true;\n\t\t\t\t\t}}\n\t\t\t\t\tarchiveChatHandler={() => {\n\t\t\t\t\t\tarchiveChatHandler(id);\n\t\t\t\t\t}}\n\t\t\t\t\trenameHandler={async () => {\n\t\t\t\t\t\tchatTitle = title;\n\t\t\t\t\t\tconfirmEdit = true;\n\n\t\t\t\t\t\tawait tick();\n\t\t\t\t\t\tconst input = document.getElementById(`chat-title-input-${id}`);\n\t\t\t\t\t\tif (input) {\n\t\t\t\t\t\t\tinput.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tdeleteHandler={() => {\n\t\t\t\t\t\tshowDeleteConfirm = true;\n\t\t\t\t\t}}\n\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\tdispatch('unselect');\n\t\t\t\t\t}}\n\t\t\t\t\ton:change={async () => {\n\t\t\t\t\t\tdispatch('change');\n\t\t\t\t\t}}\n\t\t\t\t\ton:tag={(e) => {\n\t\t\t\t\t\tdispatch('tag', e.detail);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label=\"Chat Menu\"\n\t\t\t\t\t\tclass=\" self-center dark:hover:text-white transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tdispatch('select');\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\td=\"M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t</ChatMenu>\n\n\t\t\t\t{#if id === $chatId}\n\t\t\t\t\t<!-- Shortcut support using \"delete-chat-button\" id -->\n\t\t\t\t\t<button\n\t\t\t\t\t\tid=\"delete-chat-button\"\n\t\t\t\t\t\tclass=\"hidden\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tshowDeleteConfirm = true;\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\td=\"M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n</div>\n","<script lang=\"ts\">\n\timport { getAllTags } from '$lib/apis/chats';\n\timport { tags } from '$lib/stores';\n\timport { getContext, createEventDispatcher, onMount, onDestroy, tick } from 'svelte';\n\timport { fade } from 'svelte/transition';\n\n\tconst dispatch = createEventDispatcher();\n\tconst i18n = getContext('i18n');\n\n\texport let placeholder = '';\n\texport let value = '';\n\n\tlet selectedIdx = 0;\n\n\tlet lastWord = '';\n\t$: lastWord = value ? value.split(' ').at(-1) : value;\n\n\tlet options = [\n\t\t{\n\t\t\tname: 'tag:',\n\t\t\tdescription: $i18n.t('search for tags')\n\t\t}\n\t];\n\tlet focused = false;\n\tlet loading = false;\n\n\tlet filteredOptions = options;\n\t$: filteredOptions = options.filter((option) => {\n\t\treturn option.name.startsWith(lastWord);\n\t});\n\n\tlet filteredTags = [];\n\t$: filteredTags = lastWord.startsWith('tag:')\n\t\t? [\n\t\t\t\t...$tags,\n\t\t\t\t{\n\t\t\t\t\tid: 'none',\n\t\t\t\t\tname: $i18n.t('Untagged')\n\t\t\t\t}\n\t\t\t].filter((tag) => {\n\t\t\t\tconst tagName = lastWord.slice(4);\n\t\t\t\tif (tagName) {\n\t\t\t\t\tconst tagId = tagName.replace(' ', '_').toLowerCase();\n\n\t\t\t\t\tif (tag.id !== tagId) {\n\t\t\t\t\t\treturn tag.id.startsWith(tagId);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t})\n\t\t: [];\n\n\tconst initTags = async () => {\n\t\tloading = true;\n\t\tawait tags.set(await getAllTags(localStorage.token));\n\t\tloading = false;\n\t};\n\n\tconst documentClickHandler = (e) => {\n\t\tconst searchContainer = document.getElementById('search-container');\n\t\tconst chatSearch = document.getElementById('chat-search');\n\n\t\tif (!searchContainer.contains(e.target) && !chatSearch.contains(e.target)) {\n\t\t\tif (e.target.id.startsWith('search-tag-') || e.target.id.startsWith('search-option-')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfocused = false;\n\t\t}\n\t};\n\n\tonMount(() => {\n\t\tdocument.addEventListener('click', documentClickHandler);\n\t});\n\n\tonDestroy(() => {\n\t\tdocument.removeEventListener('click', documentClickHandler);\n\t});\n</script>\n\n<div class=\"px-1 mb-1 flex justify-center space-x-2 relative z-10\" id=\"search-container\">\n\t<div class=\"flex w-full rounded-xl\" id=\"chat-search\">\n\t\t<div class=\"self-center pl-3 py-2 rounded-l-xl bg-transparent\">\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\tfill=\"currentColor\"\n\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t>\n\t\t\t\t<path\n\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\td=\"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z\"\n\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t/>\n\t\t\t</svg>\n\t\t</div>\n\n\t\t<input\n\t\t\tclass=\"w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm bg-transparent dark:text-gray-300 outline-none\"\n\t\t\tplaceholder={placeholder ? placeholder : $i18n.t('Search')}\n\t\t\tbind:value\n\t\t\ton:input={() => {\n\t\t\t\tdispatch('input');\n\t\t\t}}\n\t\t\ton:focus={() => {\n\t\t\t\tfocused = true;\n\t\t\t\tinitTags();\n\t\t\t}}\n\t\t\ton:keydown={(e) => {\n\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\tif (filteredTags.length > 0) {\n\t\t\t\t\t\tconst tagElement = document.getElementById(`search-tag-${selectedIdx}`);\n\t\t\t\t\t\ttagElement.click();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (filteredOptions.length > 0) {\n\t\t\t\t\t\tconst optionElement = document.getElementById(`search-option-${selectedIdx}`);\n\t\t\t\t\t\toptionElement.click();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (e.key === 'ArrowUp') {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tselectedIdx = Math.max(0, selectedIdx - 1);\n\t\t\t\t} else if (e.key === 'ArrowDown') {\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tif (filteredTags.length > 0) {\n\t\t\t\t\t\tselectedIdx = Math.min(selectedIdx + 1, filteredTags.length - 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectedIdx = Math.min(selectedIdx + 1, filteredOptions.length - 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// if the user types something, reset to the top selection.\n\t\t\t\t\tselectedIdx = 0;\n\t\t\t\t}\n\t\t\t}}\n\t\t/>\n\t</div>\n\n\t{#if focused && (filteredOptions.length > 0 || filteredTags.length > 0)}\n\t\t<!-- svelte-ignore a11y-no-static-element-interactions -->\n\t\t<div\n\t\t\tclass=\"absolute top-0 mt-8 left-0 right-1 border dark:border-gray-900 bg-gray-50 dark:bg-gray-950 rounded-lg z-10 shadow-lg\"\n\t\t\tin:fade={{ duration: 50 }}\n\t\t\ton:mouseenter={() => {\n\t\t\t\tselectedIdx = null;\n\t\t\t}}\n\t\t\ton:mouseleave={() => {\n\t\t\t\tselectedIdx = 0;\n\t\t\t}}\n\t\t>\n\t\t\t<div class=\"px-2 py-2 text-xs group\">\n\t\t\t\t{#if filteredTags.length > 0}\n\t\t\t\t\t<div class=\"px-1 font-medium dark:text-gray-300 text-gray-700 mb-1\">Tags</div>\n\n\t\t\t\t\t<div class=\"max-h-60 overflow-auto\">\n\t\t\t\t\t\t{#each filteredTags as tag, tagIdx}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\" px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded {selectedIdx ===\n\t\t\t\t\t\t\t\ttagIdx\n\t\t\t\t\t\t\t\t\t? 'bg-gray-100 dark:bg-gray-900'\n\t\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\t\tid=\"search-tag-{tagIdx}\"\n\t\t\t\t\t\t\t\ton:click|stopPropagation={async () => {\n\t\t\t\t\t\t\t\t\tconst words = value.split(' ');\n\n\t\t\t\t\t\t\t\t\twords.pop();\n\t\t\t\t\t\t\t\t\twords.push(`tag:${tag.id} `);\n\n\t\t\t\t\t\t\t\t\tvalue = words.join(' ');\n\n\t\t\t\t\t\t\t\t\tdispatch('input');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"dark:text-gray-300 text-gray-700 font-medium line-clamp-1 flex-shrink-0\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{tag.name}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\" text-gray-500 line-clamp-1\">\n\t\t\t\t\t\t\t\t\t{tag.id}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t</div>\n\t\t\t\t{:else if filteredOptions.length > 0}\n\t\t\t\t\t<div class=\"px-1 font-medium dark:text-gray-300 text-gray-700 mb-1\">\n\t\t\t\t\t\t{$i18n.t('Search options')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\" max-h-60 overflow-auto\">\n\t\t\t\t\t\t{#each filteredOptions as option, optionIdx}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\" px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded {selectedIdx ===\n\t\t\t\t\t\t\t\toptionIdx\n\t\t\t\t\t\t\t\t\t? 'bg-gray-100 dark:bg-gray-900'\n\t\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\t\tid=\"search-option-{optionIdx}\"\n\t\t\t\t\t\t\t\ton:click|stopPropagation={async () => {\n\t\t\t\t\t\t\t\t\tconst words = value.split(' ');\n\n\t\t\t\t\t\t\t\t\twords.pop();\n\t\t\t\t\t\t\t\t\twords.push('tag:');\n\n\t\t\t\t\t\t\t\t\tvalue = words.join(' ');\n\n\t\t\t\t\t\t\t\t\tdispatch('input');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"dark:text-gray-300 text-gray-700 font-medium\">{option.name}</div>\n\n\t\t\t\t\t\t\t\t<div class=\" text-gray-500 line-clamp-1\">\n\t\t\t\t\t\t\t\t\t{option.description}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t{/if}\n</div>\n","<script lang=\"ts\">\n\timport { getContext, createEventDispatcher, onMount, onDestroy } from 'svelte';\n\n\tconst i18n = getContext('i18n');\n\tconst dispatch = createEventDispatcher();\n\n\timport ChevronDown from '../icons/ChevronDown.svelte';\n\timport ChevronRight from '../icons/ChevronRight.svelte';\n\timport Collapsible from './Collapsible.svelte';\n\timport Tooltip from './Tooltip.svelte';\n\timport Plus from '../icons/Plus.svelte';\n\n\texport let open = true;\n\n\texport let id = '';\n\texport let name = '';\n\texport let collapsible = true;\n\n\texport let onAddLabel: string = '';\n\texport let onAdd: null | Function = null;\n\n\texport let dragAndDrop = true;\n\n\texport let className = '';\n\n\tlet folderElement;\n\n\tlet draggedOver = false;\n\n\tconst onDragOver = (e) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tdraggedOver = true;\n\t};\n\n\tconst onDrop = (e) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tif (folderElement.contains(e.target)) {\n\t\t\tconsole.log('Dropped on the Button');\n\n\t\t\tif (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\n\t\t\t\t// Iterate over all items in the DataTransferItemList use functional programming\n\t\t\t\tfor (const item of Array.from(e.dataTransfer.items)) {\n\t\t\t\t\t// If dropped items aren't files, reject them\n\t\t\t\t\tif (item.kind === 'file') {\n\t\t\t\t\t\tconst file = item.getAsFile();\n\t\t\t\t\t\tif (file && file.type === 'application/json') {\n\t\t\t\t\t\t\tconsole.log('Dropped file is a JSON file!');\n\n\t\t\t\t\t\t\t// Read the JSON file with FileReader\n\t\t\t\t\t\t\tconst reader = new FileReader();\n\t\t\t\t\t\t\treader.onload = async function (event) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tconst fileContent = JSON.parse(event.target.result);\n\t\t\t\t\t\t\t\t\tconsole.log('Parsed JSON Content: ', fileContent);\n\t\t\t\t\t\t\t\t\topen = true;\n\t\t\t\t\t\t\t\t\tdispatch('import', fileContent);\n\t\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\t\tconsole.error('Error parsing JSON file:', error);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Start reading the file\n\t\t\t\t\t\t\treader.readAsText(file);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.error('Only JSON file types are supported.');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\topen = true;\n\n\t\t\t\t\t\tconst dataTransfer = e.dataTransfer.getData('text/plain');\n\t\t\t\t\t\tconst data = JSON.parse(dataTransfer);\n\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\tdispatch('drop', data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdraggedOver = false;\n\t\t}\n\t};\n\n\tconst onDragLeave = (e) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tdraggedOver = false;\n\t};\n\n\tonMount(() => {\n\t\tif (!dragAndDrop) {\n\t\t\treturn;\n\t\t}\n\t\tfolderElement.addEventListener('dragover', onDragOver);\n\t\tfolderElement.addEventListener('drop', onDrop);\n\t\tfolderElement.addEventListener('dragleave', onDragLeave);\n\t});\n\n\tonDestroy(() => {\n\t\tif (!dragAndDrop) {\n\t\t\treturn;\n\t\t}\n\t\tfolderElement.addEventListener('dragover', onDragOver);\n\t\tfolderElement.removeEventListener('drop', onDrop);\n\t\tfolderElement.removeEventListener('dragleave', onDragLeave);\n\t});\n</script>\n\n<div bind:this={folderElement} class=\"relative {className}\">\n\t{#if draggedOver}\n\t\t<div\n\t\t\tclass=\"absolute top-0 left-0 w-full h-full rounded-sm bg-gray-100/50 dark:bg-gray-700/20 bg-opacity-50 dark:bg-opacity-10 z-50 pointer-events-none touch-none\"\n\t\t></div>\n\t{/if}\n\n\t{#if collapsible}\n\t\t<Collapsible\n\t\t\tbind:open\n\t\t\tclassName=\"w-full \"\n\t\t\tbuttonClassName=\"w-full\"\n\t\t\ton:change={(e) => {\n\t\t\t\tdispatch('change', e.detail);\n\t\t\t}}\n\t\t>\n\t\t\t<!-- svelte-ignore a11y-no-static-element-interactions -->\n\t\t\t<div\n\t\t\t\tclass=\"w-full group rounded-md relative flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900 text-gray-500 dark:text-gray-500 transition\"\n\t\t\t>\n\t\t\t\t<button class=\"w-full py-1.5 pl-2 flex items-center gap-1.5 text-xs font-medium\">\n\t\t\t\t\t<div class=\"text-gray-300 dark:text-gray-600\">\n\t\t\t\t\t\t{#if open}\n\t\t\t\t\t\t\t<ChevronDown className=\" size-3\" strokeWidth=\"2.5\" />\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<ChevronRight className=\" size-3\" strokeWidth=\"2.5\" />\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"translate-y-[0.5px]\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\n\t\t\t\t{#if onAdd}\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"absolute z-10 right-2 invisible group-hover:visible self-center flex items-center dark:text-gray-300\"\n\t\t\t\t\t\ton:pointerup={(e) => {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ton:click={(e) => {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tonAdd();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tooltip content={onAddLabel}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"p-0.5 dark:hover:bg-gray-850 rounded-lg touch-auto\"\n\t\t\t\t\t\t\t\ton:click={(e) => {}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Plus className=\" size-3\" strokeWidth=\"2.5\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</button>\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t<div slot=\"content\" class=\"w-full\">\n\t\t\t\t<slot></slot>\n\t\t\t</div>\n\t\t</Collapsible>\n\t{:else}\n\t\t<slot></slot>\n\t{/if}\n</div>\n","<script lang=\"ts\">\n\timport { DropdownMenu } from 'bits-ui';\n\timport { flyAndScale } from '$lib/utils/transitions';\n\timport { getContext, createEventDispatcher } from 'svelte';\n\n\tconst i18n = getContext('i18n');\n\tconst dispatch = createEventDispatcher();\n\n\timport Dropdown from '$lib/components/common/Dropdown.svelte';\n\timport GarbageBin from '$lib/components/icons/GarbageBin.svelte';\n\timport Pencil from '$lib/components/icons/Pencil.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Download from '$lib/components/icons/Download.svelte';\n\n\tlet show = false;\n</script>\n\n<Dropdown\n\tbind:show\n\ton:change={(e) => {\n\t\tif (e.detail === false) {\n\t\t\tdispatch('close');\n\t\t}\n\t}}\n>\n\t<Tooltip content={$i18n.t('More')}>\n\t\t<slot />\n\t</Tooltip>\n\n\t<div slot=\"content\">\n\t\t<DropdownMenu.Content\n\t\t\tclass=\"w-full max-w-[160px] rounded-lg px-1 py-1.5  z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg\"\n\t\t\tsideOffset={-2}\n\t\t\tside=\"bottom\"\n\t\t\talign=\"start\"\n\t\t\ttransition={flyAndScale}\n\t\t>\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tdispatch('rename');\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Pencil strokeWidth=\"2\" />\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Rename')}</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tdispatch('export');\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Download strokeWidth=\"2\" />\n\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Export')}</div>\n\t\t\t</DropdownMenu.Item>\n\n\t\t\t<DropdownMenu.Item\n\t\t\t\tclass=\"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tdispatch('delete');\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<GarbageBin strokeWidth=\"2\" />\n\t\t\t\t<div class=\"flex items-center\">{$i18n.t('Delete')}</div>\n\t\t\t</DropdownMenu.Item>\n\t\t</DropdownMenu.Content>\n\t</div>\n</Dropdown>\n","<script>\n\timport { getContext, createEventDispatcher, onMount, onDestroy, tick } from 'svelte';\n\n\tconst i18n = getContext('i18n');\n\tconst dispatch = createEventDispatcher();\n\n\timport DOMPurify from 'dompurify';\n\timport fileSaver from 'file-saver';\n\tconst { saveAs } = fileSaver;\n\n\timport ChevronDown from '../../icons/ChevronDown.svelte';\n\timport ChevronRight from '../../icons/ChevronRight.svelte';\n\timport Collapsible from '../../common/Collapsible.svelte';\n\timport DragGhost from '$lib/components/common/DragGhost.svelte';\n\n\timport FolderOpen from '$lib/components/icons/FolderOpen.svelte';\n\timport EllipsisHorizontal from '$lib/components/icons/EllipsisHorizontal.svelte';\n\timport {\n\t\tdeleteFolderById,\n\t\tupdateFolderIsExpandedById,\n\t\tupdateFolderNameById,\n\t\tupdateFolderParentIdById\n\t} from '$lib/apis/folders';\n\timport { toast } from 'svelte-sonner';\n\timport {\n\t\tgetChatById,\n\t\tgetChatsByFolderId,\n\t\timportChat,\n\t\tupdateChatFolderIdById\n\t} from '$lib/apis/chats';\n\timport ChatItem from './ChatItem.svelte';\n\timport FolderMenu from './Folders/FolderMenu.svelte';\n\timport DeleteConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\n\texport let open = false;\n\n\texport let folders;\n\texport let folderId;\n\n\texport let className = '';\n\n\texport let parentDragged = false;\n\n\tlet folderElement;\n\n\tlet edit = false;\n\n\tlet draggedOver = false;\n\tlet dragged = false;\n\n\tlet name = '';\n\n\tconst onDragOver = (e) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tif (dragged || parentDragged) {\n\t\t\treturn;\n\t\t}\n\t\tdraggedOver = true;\n\t};\n\n\tconst onDrop = async (e) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tif (dragged || parentDragged) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (folderElement.contains(e.target)) {\n\t\t\tconsole.log('Dropped on the Button');\n\n\t\t\tif (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\n\t\t\t\t// Iterate over all items in the DataTransferItemList use functional programming\n\t\t\t\tfor (const item of Array.from(e.dataTransfer.items)) {\n\t\t\t\t\t// If dropped items aren't files, reject them\n\t\t\t\t\tif (item.kind === 'file') {\n\t\t\t\t\t\tconst file = item.getAsFile();\n\t\t\t\t\t\tif (file && file.type === 'application/json') {\n\t\t\t\t\t\t\tconsole.log('Dropped file is a JSON file!');\n\n\t\t\t\t\t\t\t// Read the JSON file with FileReader\n\t\t\t\t\t\t\tconst reader = new FileReader();\n\t\t\t\t\t\t\treader.onload = async function (event) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tconst fileContent = JSON.parse(event.target.result);\n\t\t\t\t\t\t\t\t\topen = true;\n\t\t\t\t\t\t\t\t\tdispatch('import', {\n\t\t\t\t\t\t\t\t\t\tfolderId: folderId,\n\t\t\t\t\t\t\t\t\t\titems: fileContent\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\t\tconsole.error('Error parsing JSON file:', error);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Start reading the file\n\t\t\t\t\t\t\treader.readAsText(file);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.error('Only JSON file types are supported.');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconsole.log(file);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Handle the drag-and-drop data for folders or chats (same as before)\n\t\t\t\t\t\tconst dataTransfer = e.dataTransfer.getData('text/plain');\n\t\t\t\t\t\tconst data = JSON.parse(dataTransfer);\n\t\t\t\t\t\tconsole.log(data);\n\n\t\t\t\t\t\tconst { type, id, item } = data;\n\n\t\t\t\t\t\tif (type === 'folder') {\n\t\t\t\t\t\t\topen = true;\n\t\t\t\t\t\t\tif (id === folderId) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Move the folder\n\t\t\t\t\t\t\tconst res = await updateFolderParentIdById(localStorage.token, id, folderId).catch(\n\t\t\t\t\t\t\t\t(error) => {\n\t\t\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\tdispatch('update');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (type === 'chat') {\n\t\t\t\t\t\t\topen = true;\n\n\t\t\t\t\t\t\tlet chat = await getChatById(localStorage.token, id).catch((error) => {\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (!chat && item) {\n\t\t\t\t\t\t\t\tchat = await importChat(localStorage.token, item.chat, item?.meta ?? {});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Move the chat\n\t\t\t\t\t\t\tconst res = await updateChatFolderIdById(localStorage.token, chat.id, folderId).catch(\n\t\t\t\t\t\t\t\t(error) => {\n\t\t\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\tdispatch('update');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdraggedOver = false;\n\t\t}\n\t};\n\n\tconst onDragLeave = (e) => {\n\t\te.preventDefault();\n\t\tif (dragged || parentDragged) {\n\t\t\treturn;\n\t\t}\n\n\t\tdraggedOver = false;\n\t};\n\n\tconst dragImage = new Image();\n\tdragImage.src =\n\t\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=';\n\n\tlet x;\n\tlet y;\n\n\tconst onDragStart = (event) => {\n\t\tevent.stopPropagation();\n\t\tevent.dataTransfer.setDragImage(dragImage, 0, 0);\n\n\t\t// Set the data to be transferred\n\t\tevent.dataTransfer.setData(\n\t\t\t'text/plain',\n\t\t\tJSON.stringify({\n\t\t\t\ttype: 'folder',\n\t\t\t\tid: folderId\n\t\t\t})\n\t\t);\n\n\t\tdragged = true;\n\t\tfolderElement.style.opacity = '0.5'; // Optional: Visual cue to show it's being dragged\n\t};\n\n\tconst onDrag = (event) => {\n\t\tevent.stopPropagation();\n\n\t\tx = event.clientX;\n\t\ty = event.clientY;\n\t};\n\n\tconst onDragEnd = (event) => {\n\t\tevent.stopPropagation();\n\n\t\tfolderElement.style.opacity = '1'; // Reset visual cue after drag\n\t\tdragged = false;\n\t};\n\n\tonMount(() => {\n\t\topen = folders[folderId].is_expanded;\n\t\tif (folderElement) {\n\t\t\tfolderElement.addEventListener('dragover', onDragOver);\n\t\t\tfolderElement.addEventListener('drop', onDrop);\n\t\t\tfolderElement.addEventListener('dragleave', onDragLeave);\n\n\t\t\t// Event listener for when dragging starts\n\t\t\tfolderElement.addEventListener('dragstart', onDragStart);\n\t\t\t// Event listener for when dragging occurs (optional)\n\t\t\tfolderElement.addEventListener('drag', onDrag);\n\t\t\t// Event listener for when dragging ends\n\t\t\tfolderElement.addEventListener('dragend', onDragEnd);\n\t\t}\n\t});\n\n\tonDestroy(() => {\n\t\tif (folderElement) {\n\t\t\tfolderElement.addEventListener('dragover', onDragOver);\n\t\t\tfolderElement.removeEventListener('drop', onDrop);\n\t\t\tfolderElement.removeEventListener('dragleave', onDragLeave);\n\n\t\t\tfolderElement.removeEventListener('dragstart', onDragStart);\n\t\t\tfolderElement.removeEventListener('drag', onDrag);\n\t\t\tfolderElement.removeEventListener('dragend', onDragEnd);\n\t\t}\n\t});\n\n\tlet showDeleteConfirm = false;\n\n\tconst deleteHandler = async () => {\n\t\tconst res = await deleteFolderById(localStorage.token, folderId).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Folder deleted successfully'));\n\t\t\tdispatch('update');\n\t\t}\n\t};\n\n\tconst nameUpdateHandler = async () => {\n\t\tif (name === '') {\n\t\t\ttoast.error($i18n.t('Folder name cannot be empty'));\n\t\t\treturn;\n\t\t}\n\n\t\tif (name === folders[folderId].name) {\n\t\t\tedit = false;\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentName = folders[folderId].name;\n\n\t\tname = name.trim();\n\t\tfolders[folderId].name = name;\n\n\t\tconst res = await updateFolderNameById(localStorage.token, folderId, name).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\n\t\t\tfolders[folderId].name = currentName;\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\tfolders[folderId].name = name;\n\t\t\ttoast.success($i18n.t('Folder name updated successfully'));\n\t\t\tdispatch('update');\n\t\t}\n\t};\n\n\tconst isExpandedUpdateHandler = async () => {\n\t\tconst res = await updateFolderIsExpandedById(localStorage.token, folderId, open).catch(\n\t\t\t(error) => {\n\t\t\t\ttoast.error(`${error}`);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t);\n\t};\n\n\tlet isExpandedUpdateTimeout;\n\n\tconst isExpandedUpdateDebounceHandler = (open) => {\n\t\tclearTimeout(isExpandedUpdateTimeout);\n\t\tisExpandedUpdateTimeout = setTimeout(() => {\n\t\t\tisExpandedUpdateHandler();\n\t\t}, 500);\n\t};\n\n\t$: isExpandedUpdateDebounceHandler(open);\n\n\tconst editHandler = async () => {\n\t\tconsole.log('Edit');\n\t\tawait tick();\n\t\tname = folders[folderId].name;\n\t\tedit = true;\n\n\t\tawait tick();\n\n\t\t// focus on the input\n\t\tsetTimeout(() => {\n\t\t\tconst input = document.getElementById(`folder-${folderId}-input`);\n\t\t\tinput.focus();\n\t\t}, 100);\n\t};\n\n\tconst exportHandler = async () => {\n\t\tconst chats = await getChatsByFolderId(localStorage.token, folderId).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\t\tif (!chats) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst blob = new Blob([JSON.stringify(chats)], {\n\t\t\ttype: 'application/json'\n\t\t});\n\n\t\tsaveAs(blob, `folder-${folders[folderId].name}-export-${Date.now()}.json`);\n\t};\n</script>\n\n<DeleteConfirmDialog\n\tbind:show={showDeleteConfirm}\n\ttitle={$i18n.t('Delete folder?')}\n\ton:confirm={() => {\n\t\tdeleteHandler();\n\t}}\n>\n\t<div class=\" text-sm text-gray-700 dark:text-gray-300 flex-1 line-clamp-3\">\n\t\t{@html DOMPurify.sanitize(\n\t\t\t$i18n.t('This will delete <strong>{{NAME}}</strong> and <strong>all its contents</strong>.', {\n\t\t\t\tNAME: folders[folderId].name\n\t\t\t})\n\t\t)}\n\t</div>\n</DeleteConfirmDialog>\n\n{#if dragged && x && y}\n\t<DragGhost {x} {y}>\n\t\t<div class=\" bg-black/80 backdrop-blur-2xl px-2 py-1 rounded-lg w-fit max-w-40\">\n\t\t\t<div class=\"flex items-center gap-1\">\n\t\t\t\t<FolderOpen className=\"size-3.5\" strokeWidth=\"2\" />\n\t\t\t\t<div class=\" text-xs text-white line-clamp-1\">\n\t\t\t\t\t{folders[folderId].name}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</DragGhost>\n{/if}\n\n<div bind:this={folderElement} class=\"relative {className}\" draggable=\"true\">\n\t{#if draggedOver}\n\t\t<div\n\t\t\tclass=\"absolute top-0 left-0 w-full h-full rounded-sm bg-gray-100/50 dark:bg-gray-700/20 bg-opacity-50 dark:bg-opacity-10 z-50 pointer-events-none touch-none\"\n\t\t></div>\n\t{/if}\n\n\t<Collapsible\n\t\tbind:open\n\t\tclassName=\"w-full\"\n\t\tbuttonClassName=\"w-full\"\n\t\thide={(folders[folderId]?.childrenIds ?? []).length === 0 &&\n\t\t\t(folders[folderId].items?.chats ?? []).length === 0}\n\t\ton:change={(e) => {\n\t\t\tdispatch('open', e.detail);\n\t\t}}\n\t>\n\t\t<!-- svelte-ignore a11y-no-static-element-interactions -->\n\t\t<div class=\"w-full group\">\n\t\t\t<button\n\t\t\t\tid=\"folder-{folderId}-button\"\n\t\t\t\tclass=\"relative w-full py-1.5 px-2 rounded-md flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-500 font-medium hover:bg-gray-100 dark:hover:bg-gray-900 transition\"\n\t\t\t\ton:dblclick={() => {\n\t\t\t\t\teditHandler();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\"text-gray-300 dark:text-gray-600\">\n\t\t\t\t\t{#if open}\n\t\t\t\t\t\t<ChevronDown className=\" size-3\" strokeWidth=\"2.5\" />\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<ChevronRight className=\" size-3\" strokeWidth=\"2.5\" />\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"translate-y-[0.5px] flex-1 justify-start text-start line-clamp-1\">\n\t\t\t\t\t{#if edit}\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"folder-{folderId}-input\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tbind:value={name}\n\t\t\t\t\t\t\ton:blur={() => {\n\t\t\t\t\t\t\t\tnameUpdateHandler();\n\t\t\t\t\t\t\t\tedit = false;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ton:click={(e) => {\n\t\t\t\t\t\t\t\t// Prevent accidental collapse toggling when clicking inside input\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ton:mousedown={(e) => {\n\t\t\t\t\t\t\t\t// Prevent accidental collapse toggling when clicking inside input\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ton:keydown={(e) => {\n\t\t\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\t\t\tnameUpdateHandler();\n\t\t\t\t\t\t\t\t\tedit = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclass=\"w-full h-full bg-transparent text-gray-500 dark:text-gray-500 outline-none\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t{folders[folderId].name}\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t<button\n\t\t\t\t\tclass=\"absolute z-10 right-2 invisible group-hover:visible self-center flex items-center dark:text-gray-300\"\n\t\t\t\t\ton:pointerup={(e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FolderMenu\n\t\t\t\t\t\ton:rename={() => {\n\t\t\t\t\t\t\teditHandler();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ton:delete={() => {\n\t\t\t\t\t\t\tshowDeleteConfirm = true;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ton:export={() => {\n\t\t\t\t\t\t\texportHandler();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<button class=\"p-0.5 dark:hover:bg-gray-850 rounded-lg touch-auto\" on:click={(e) => {}}>\n\t\t\t\t\t\t\t<EllipsisHorizontal className=\"size-4\" strokeWidth=\"2.5\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</FolderMenu>\n\t\t\t\t</button>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div slot=\"content\" class=\"w-full\">\n\t\t\t{#if (folders[folderId]?.childrenIds ?? []).length > 0 || (folders[folderId].items?.chats ?? []).length > 0}\n\t\t\t\t<div\n\t\t\t\t\tclass=\"ml-3 pl-1 mt-[1px] flex flex-col overflow-y-auto scrollbar-hidden border-s border-gray-100 dark:border-gray-900\"\n\t\t\t\t>\n\t\t\t\t\t{#if folders[folderId]?.childrenIds}\n\t\t\t\t\t\t{@const children = folders[folderId]?.childrenIds\n\t\t\t\t\t\t\t.map((id) => folders[id])\n\t\t\t\t\t\t\t.sort((a, b) =>\n\t\t\t\t\t\t\t\ta.name.localeCompare(b.name, undefined, {\n\t\t\t\t\t\t\t\t\tnumeric: true,\n\t\t\t\t\t\t\t\t\tsensitivity: 'base'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{#each children as childFolder (`${folderId}-${childFolder.id}`)}\n\t\t\t\t\t\t\t<svelte:self\n\t\t\t\t\t\t\t\t{folders}\n\t\t\t\t\t\t\t\tfolderId={childFolder.id}\n\t\t\t\t\t\t\t\tparentDragged={dragged}\n\t\t\t\t\t\t\t\ton:import={(e) => {\n\t\t\t\t\t\t\t\t\tdispatch('import', e.detail);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ton:update={(e) => {\n\t\t\t\t\t\t\t\t\tdispatch('update', e.detail);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\t\t\t\tdispatch('change', e.detail);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t{#if folders[folderId].items?.chats}\n\t\t\t\t\t\t{#each folders[folderId].items.chats as chat (chat.id)}\n\t\t\t\t\t\t\t<ChatItem\n\t\t\t\t\t\t\t\tid={chat.id}\n\t\t\t\t\t\t\t\ttitle={chat.title}\n\t\t\t\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\t\t\t\tdispatch('change', e.detail);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\t</Collapsible>\n</div>\n","<script lang=\"ts\">\n\timport { createEventDispatcher } from 'svelte';\n\n\tconst dispatch = createEventDispatcher();\n\timport RecursiveFolder from './RecursiveFolder.svelte';\n\texport let folders = {};\n\n\tlet folderList = [];\n\t// Get the list of folders that have no parent, sorted by name alphabetically\n\t$: folderList = Object.keys(folders)\n\t\t.filter((key) => folders[key].parent_id === null)\n\t\t.sort((a, b) =>\n\t\t\tfolders[a].name.localeCompare(folders[b].name, undefined, {\n\t\t\t\tnumeric: true,\n\t\t\t\tsensitivity: 'base'\n\t\t\t})\n\t\t);\n</script>\n\n{#each folderList as folderId (folderId)}\n\t<RecursiveFolder\n\t\tclassName=\"\"\n\t\t{folders}\n\t\t{folderId}\n\t\ton:import={(e) => {\n\t\t\tdispatch('import', e.detail);\n\t\t}}\n\t\ton:update={(e) => {\n\t\t\tdispatch('update', e.detail);\n\t\t}}\n\t\ton:change={(e) => {\n\t\t\tdispatch('change', e.detail);\n\t\t}}\n\t/>\n{/each}\n","<script lang=\"ts\">\n\timport { getContext, createEventDispatcher, onMount } from 'svelte';\n\timport { createNewChannel, deleteChannelById } from '$lib/apis/channels';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport AccessControl from '$lib/components/workspace/common/AccessControl.svelte';\n\timport DeleteConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\n\timport { toast } from 'svelte-sonner';\n\timport { page } from '$app/stores';\n\timport { goto } from '$app/navigation';\n\tconst i18n = getContext('i18n');\n\n\texport let show = false;\n\texport let onSubmit: Function = () => {};\n\texport let onUpdate: Function = () => {};\n\n\texport let channel = null;\n\texport let edit = false;\n\n\tlet name = '';\n\tlet accessControl = null;\n\n\tlet loading = false;\n\n\t$: if (name) {\n\t\tname = name.replace(/\\s/g, '-').toLocaleLowerCase();\n\t}\n\n\tconst submitHandler = async () => {\n\t\tloading = true;\n\t\tawait onSubmit({\n\t\t\tname: name.replace(/\\s/g, '-'),\n\t\t\taccess_control: accessControl\n\t\t});\n\t\tshow = false;\n\t\tloading = false;\n\t};\n\n\tconst init = () => {\n\t\tname = channel.name;\n\t\taccessControl = channel.access_control;\n\t};\n\n\t$: if (channel) {\n\t\tinit();\n\t}\n\n\tlet showDeleteConfirmDialog = false;\n\n\tconst deleteHandler = async () => {\n\t\tshowDeleteConfirmDialog = false;\n\n\t\tconst res = await deleteChannelById(localStorage.token, channel.id).catch((error) => {\n\t\t\ttoast.error(error.message);\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success('Channel deleted successfully');\n\t\t\tonUpdate();\n\n\t\t\tif ($page.url.pathname === `/channels/${channel.id}`) {\n\t\t\t\tgoto('/');\n\t\t\t}\n\t\t}\n\n\t\tshow = false;\n\t};\n</script>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-1\">\n\t\t\t<div class=\" text-lg font-medium self-center\">\n\t\t\t\t{#if edit}\n\t\t\t\t\t{$i18n.t('Edit Channel')}\n\t\t\t\t{:else}\n\t\t\t\t\t{$i18n.t('Create Channel')}\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex flex-col w-full mt-2\">\n\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Channel Name')}</div>\n\n\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tbind:value={name}\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('new-channel')}\n\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-700/10 my-2.5 w-full\" />\n\n\t\t\t\t\t<div class=\"my-2 -mx-2\">\n\t\t\t\t\t\t<div class=\"px-3 py-2 bg-gray-50 dark:bg-gray-950 rounded-lg\">\n\t\t\t\t\t\t\t<AccessControl bind:accessControl />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex justify-end pt-3 text-sm font-medium gap-1.5\">\n\t\t\t\t\t\t{#if edit}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-black/90 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tshowDeleteConfirmDialog = true;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{$i18n.t('Delete')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center {loading\n\t\t\t\t\t\t\t\t? ' cursor-not-allowed'\n\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if edit}\n\t\t\t\t\t\t\t\t{$i18n.t('Update')}\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t{$i18n.t('Create')}\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t{#if loading}\n\t\t\t\t\t\t\t\t<div class=\"ml-2 self-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t><style>\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</style><path\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\n\t\t\t\t\t\t\t\t\t\t/><path\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\n\t\t\t\t\t\t\t\t\t\t/></svg\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n\n<DeleteConfirmDialog\n\tbind:show={showDeleteConfirmDialog}\n\tmessage={$i18n.t('Are you sure you want to delete this channel?')}\n\tconfirmLabel={$i18n.t('Delete')}\n\ton:confirm={() => {\n\t\tdeleteHandler();\n\t}}\n/>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { onMount, getContext, tick, onDestroy } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport { page } from '$app/stores';\n\timport { mobile, showSidebar, user } from '$lib/stores';\n\timport { updateChannelById } from '$lib/apis/channels';\n\n\timport Cog6 from '$lib/components/icons/Cog6.svelte';\n\timport ChannelModal from './ChannelModal.svelte';\n\n\texport let onUpdate: Function = () => {};\n\n\texport let className = '';\n\texport let channel;\n\n\tlet showEditChannelModal = false;\n\n\tlet itemElement;\n</script>\n\n<ChannelModal\n\tbind:show={showEditChannelModal}\n\t{channel}\n\tedit={true}\n\t{onUpdate}\n\tonSubmit={async ({ name, access_control }) => {\n\t\tconst res = await updateChannelById(localStorage.token, channel.id, {\n\t\t\tname,\n\t\t\taccess_control\n\t\t}).catch((error) => {\n\t\t\ttoast.error(error.message);\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success('Channel updated successfully');\n\t\t}\n\n\t\tonUpdate();\n\t}}\n/>\n\n<div\n\tbind:this={itemElement}\n\tclass=\" w-full {className} rounded-lg flex relative group hover:bg-gray-100 dark:hover:bg-gray-900 {$page\n\t\t.url.pathname === `/channels/${channel.id}`\n\t\t? 'bg-gray-100 dark:bg-gray-900'\n\t\t: ''} px-2.5 py-1\"\n>\n\t<a\n\t\tclass=\" w-full flex justify-between\"\n\t\thref=\"/channels/{channel.id}\"\n\t\ton:click={() => {\n\t\t\tif ($mobile) {\n\t\t\t\tshowSidebar.set(false);\n\t\t\t}\n\t\t}}\n\t\tdraggable=\"false\"\n\t>\n\t\t<div class=\"flex items-center gap-1\">\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\tfill=\"currentColor\"\n\t\t\t\tclass=\"size-5\"\n\t\t\t>\n\t\t\t\t<path\n\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\td=\"M7.487 2.89a.75.75 0 1 0-1.474-.28l-.455 2.388H3.61a.75.75 0 0 0 0 1.5h1.663l-.571 2.998H2.75a.75.75 0 0 0 0 1.5h1.666l-.403 2.114a.75.75 0 0 0 1.474.28l.456-2.394h2.973l-.403 2.114a.75.75 0 0 0 1.474.28l.456-2.394h1.947a.75.75 0 0 0 0-1.5h-1.661l.57-2.998h1.95a.75.75 0 0 0 0-1.5h-1.664l.402-2.108a.75.75 0 0 0-1.474-.28l-.455 2.388H7.085l.402-2.108ZM6.8 6.498l-.571 2.998h2.973l.57-2.998H6.8Z\"\n\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t/>\n\t\t\t</svg>\n\n\t\t\t<div class=\" text-left self-center overflow-hidden w-full line-clamp-1\">\n\t\t\t\t{channel.name}\n\t\t\t</div>\n\t\t</div>\n\t</a>\n\n\t{#if $user?.role === 'admin'}\n\t\t<button\n\t\t\tclass=\"absolute z-10 right-2 invisible group-hover:visible self-center flex items-center dark:text-gray-300\"\n\t\t\ton:click={(e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\tshowEditChannelModal = true;\n\t\t\t}}\n\t\t>\n\t\t\t<button class=\"p-0.5 dark:hover:bg-gray-850 rounded-lg touch-auto\" on:click={(e) => {}}>\n\t\t\t\t<Cog6 className=\"size-3.5\" />\n\t\t\t</button>\n\t\t</button>\n\t{/if}\n</div>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { v4 as uuidv4 } from 'uuid';\n\n\timport { goto } from '$app/navigation';\n\timport {\n\t\tuser,\n\t\tchats,\n\t\tsettings,\n\t\tshowSettings,\n\t\tchatId,\n\t\ttags,\n\t\tshowSidebar,\n\t\tmobile,\n\t\tshowArchivedChats,\n\t\tpinnedChats,\n\t\tscrollPaginationEnabled,\n\t\tcurrentChatPage,\n\t\ttemporaryChatEnabled,\n\t\tchannels,\n\t\tsocket,\n\t\tconfig,\n\t\tisApp\n\t} from '$lib/stores';\n\timport { onMount, getContext, tick, onDestroy } from 'svelte';\n\n\tconst i18n = getContext('i18n');\n\n\timport {\n\t\tdeleteChatById,\n\t\tgetChatList,\n\t\tgetAllTags,\n\t\tgetChatListBySearchText,\n\t\tcreateNewChat,\n\t\tgetPinnedChatList,\n\t\ttoggleChatPinnedStatusById,\n\t\tgetChatPinnedStatusById,\n\t\tgetChatById,\n\t\tupdateChatFolderIdById,\n\t\timportChat\n\t} from '$lib/apis/chats';\n\timport { createNewFolder, getFolders, updateFolderParentIdById } from '$lib/apis/folders';\n\timport { WEBUI_BASE_URL } from '$lib/constants';\n\n\timport ArchivedChatsModal from './Sidebar/ArchivedChatsModal.svelte';\n\timport UserMenu from './Sidebar/UserMenu.svelte';\n\timport ChatItem from './Sidebar/ChatItem.svelte';\n\timport Spinner from '../common/Spinner.svelte';\n\timport Loader from '../common/Loader.svelte';\n\timport AddFilesPlaceholder from '../AddFilesPlaceholder.svelte';\n\timport SearchInput from './Sidebar/SearchInput.svelte';\n\timport Folder from '../common/Folder.svelte';\n\timport Plus from '../icons/Plus.svelte';\n\timport Tooltip from '../common/Tooltip.svelte';\n\timport Folders from './Sidebar/Folders.svelte';\n\timport { getChannels, createNewChannel } from '$lib/apis/channels';\n\timport ChannelModal from './Sidebar/ChannelModal.svelte';\n\timport ChannelItem from './Sidebar/ChannelItem.svelte';\n\timport PencilSquare from '../icons/PencilSquare.svelte';\n\n\tconst BREAKPOINT = 768;\n\n\tlet navElement;\n\tlet search = '';\n\n\tlet shiftKey = false;\n\n\tlet selectedChatId = null;\n\tlet showDropdown = false;\n\tlet showPinnedChat = true;\n\n\tlet showCreateChannel = false;\n\n\t// Pagination variables\n\tlet chatListLoading = false;\n\tlet allChatsLoaded = false;\n\n\tlet folders = {};\n\n\tconst initFolders = async () => {\n\t\tconst folderList = await getFolders(localStorage.token).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn [];\n\t\t});\n\n\t\tfolders = {};\n\n\t\t// First pass: Initialize all folder entries\n\t\tfor (const folder of folderList) {\n\t\t\t// Ensure folder is added to folders with its data\n\t\t\tfolders[folder.id] = { ...(folders[folder.id] || {}), ...folder };\n\t\t}\n\n\t\t// Second pass: Tie child folders to their parents\n\t\tfor (const folder of folderList) {\n\t\t\tif (folder.parent_id) {\n\t\t\t\t// Ensure the parent folder is initialized if it doesn't exist\n\t\t\t\tif (!folders[folder.parent_id]) {\n\t\t\t\t\tfolders[folder.parent_id] = {}; // Create a placeholder if not already present\n\t\t\t\t}\n\n\t\t\t\t// Initialize childrenIds array if it doesn't exist and add the current folder id\n\t\t\t\tfolders[folder.parent_id].childrenIds = folders[folder.parent_id].childrenIds\n\t\t\t\t\t? [...folders[folder.parent_id].childrenIds, folder.id]\n\t\t\t\t\t: [folder.id];\n\n\t\t\t\t// Sort the children by updated_at field\n\t\t\t\tfolders[folder.parent_id].childrenIds.sort((a, b) => {\n\t\t\t\t\treturn folders[b].updated_at - folders[a].updated_at;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tconst createFolder = async (name = 'Untitled') => {\n\t\tif (name === '') {\n\t\t\ttoast.error($i18n.t('Folder name cannot be empty.'));\n\t\t\treturn;\n\t\t}\n\n\t\tconst rootFolders = Object.values(folders).filter((folder) => folder.parent_id === null);\n\t\tif (rootFolders.find((folder) => folder.name.toLowerCase() === name.toLowerCase())) {\n\t\t\t// If a folder with the same name already exists, append a number to the name\n\t\t\tlet i = 1;\n\t\t\twhile (\n\t\t\t\trootFolders.find((folder) => folder.name.toLowerCase() === `${name} ${i}`.toLowerCase())\n\t\t\t) {\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\tname = `${name} ${i}`;\n\t\t}\n\n\t\t// Add a dummy folder to the list to show the user that the folder is being created\n\t\tconst tempId = uuidv4();\n\t\tfolders = {\n\t\t\t...folders,\n\t\t\ttempId: {\n\t\t\t\tid: tempId,\n\t\t\t\tname: name,\n\t\t\t\tcreated_at: Date.now(),\n\t\t\t\tupdated_at: Date.now()\n\t\t\t}\n\t\t};\n\n\t\tconst res = await createNewFolder(localStorage.token, name).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\tawait initFolders();\n\t\t}\n\t};\n\n\tconst initChannels = async () => {\n\t\tawait channels.set(await getChannels(localStorage.token));\n\t};\n\n\tconst initChatList = async () => {\n\t\t// Reset pagination variables\n\t\ttags.set(await getAllTags(localStorage.token));\n\t\tpinnedChats.set(await getPinnedChatList(localStorage.token));\n\t\tinitFolders();\n\n\t\tcurrentChatPage.set(1);\n\t\tallChatsLoaded = false;\n\n\t\tif (search) {\n\t\t\tawait chats.set(await getChatListBySearchText(localStorage.token, search, $currentChatPage));\n\t\t} else {\n\t\t\tawait chats.set(await getChatList(localStorage.token, $currentChatPage));\n\t\t}\n\n\t\t// Enable pagination\n\t\tscrollPaginationEnabled.set(true);\n\t};\n\n\tconst loadMoreChats = async () => {\n\t\tchatListLoading = true;\n\n\t\tcurrentChatPage.set($currentChatPage + 1);\n\n\t\tlet newChatList = [];\n\n\t\tif (search) {\n\t\t\tnewChatList = await getChatListBySearchText(localStorage.token, search, $currentChatPage);\n\t\t} else {\n\t\t\tnewChatList = await getChatList(localStorage.token, $currentChatPage);\n\t\t}\n\n\t\t// once the bottom of the list has been reached (no results) there is no need to continue querying\n\t\tallChatsLoaded = newChatList.length === 0;\n\t\tawait chats.set([...($chats ? $chats : []), ...newChatList]);\n\n\t\tchatListLoading = false;\n\t};\n\n\tlet searchDebounceTimeout;\n\n\tconst searchDebounceHandler = async () => {\n\t\tconsole.log('search', search);\n\t\tchats.set(null);\n\n\t\tif (searchDebounceTimeout) {\n\t\t\tclearTimeout(searchDebounceTimeout);\n\t\t}\n\n\t\tif (search === '') {\n\t\t\tawait initChatList();\n\t\t\treturn;\n\t\t} else {\n\t\t\tsearchDebounceTimeout = setTimeout(async () => {\n\t\t\t\tallChatsLoaded = false;\n\t\t\t\tcurrentChatPage.set(1);\n\t\t\t\tawait chats.set(await getChatListBySearchText(localStorage.token, search));\n\n\t\t\t\tif ($chats.length === 0) {\n\t\t\t\t\ttags.set(await getAllTags(localStorage.token));\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t}\n\t};\n\n\tconst importChatHandler = async (items, pinned = false, folderId = null) => {\n\t\tconsole.log('importChatHandler', items, pinned, folderId);\n\t\tfor (const item of items) {\n\t\t\tconsole.log(item);\n\t\t\tif (item.chat) {\n\t\t\t\tawait importChat(localStorage.token, item.chat, item?.meta ?? {}, pinned, folderId);\n\t\t\t}\n\t\t}\n\n\t\tinitChatList();\n\t};\n\n\tconst inputFilesHandler = async (files) => {\n\t\tconsole.log(files);\n\n\t\tfor (const file of files) {\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = async (e) => {\n\t\t\t\tconst content = e.target.result;\n\n\t\t\t\ttry {\n\t\t\t\t\tconst chatItems = JSON.parse(content);\n\t\t\t\t\timportChatHandler(chatItems);\n\t\t\t\t} catch {\n\t\t\t\t\ttoast.error($i18n.t(`Invalid file format.`));\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treader.readAsText(file);\n\t\t}\n\t};\n\n\tconst tagEventHandler = async (type, tagName, chatId) => {\n\t\tconsole.log(type, tagName, chatId);\n\t\tif (type === 'delete') {\n\t\t\tinitChatList();\n\t\t} else if (type === 'add') {\n\t\t\tinitChatList();\n\t\t}\n\t};\n\n\tlet draggedOver = false;\n\n\tconst onDragOver = (e) => {\n\t\te.preventDefault();\n\n\t\t// Check if a file is being draggedOver.\n\t\tif (e.dataTransfer?.types?.includes('Files')) {\n\t\t\tdraggedOver = true;\n\t\t} else {\n\t\t\tdraggedOver = false;\n\t\t}\n\t};\n\n\tconst onDragLeave = () => {\n\t\tdraggedOver = false;\n\t};\n\n\tconst onDrop = async (e) => {\n\t\te.preventDefault();\n\t\tconsole.log(e); // Log the drop event\n\n\t\t// Perform file drop check and handle it accordingly\n\t\tif (e.dataTransfer?.files) {\n\t\t\tconst inputFiles = Array.from(e.dataTransfer?.files);\n\n\t\t\tif (inputFiles && inputFiles.length > 0) {\n\t\t\t\tconsole.log(inputFiles); // Log the dropped files\n\t\t\t\tinputFilesHandler(inputFiles); // Handle the dropped files\n\t\t\t}\n\t\t}\n\n\t\tdraggedOver = false; // Reset draggedOver status after drop\n\t};\n\n\tlet touchstart;\n\tlet touchend;\n\n\tfunction checkDirection() {\n\t\tconst screenWidth = window.innerWidth;\n\t\tconst swipeDistance = Math.abs(touchend.screenX - touchstart.screenX);\n\t\tif (touchstart.clientX < 40 && swipeDistance >= screenWidth / 8) {\n\t\t\tif (touchend.screenX < touchstart.screenX) {\n\t\t\t\tshowSidebar.set(false);\n\t\t\t}\n\t\t\tif (touchend.screenX > touchstart.screenX) {\n\t\t\t\tshowSidebar.set(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tconst onTouchStart = (e) => {\n\t\ttouchstart = e.changedTouches[0];\n\t\tconsole.log(touchstart.clientX);\n\t};\n\n\tconst onTouchEnd = (e) => {\n\t\ttouchend = e.changedTouches[0];\n\t\tcheckDirection();\n\t};\n\n\tconst onKeyDown = (e) => {\n\t\tif (e.key === 'Shift') {\n\t\t\tshiftKey = true;\n\t\t}\n\t};\n\n\tconst onKeyUp = (e) => {\n\t\tif (e.key === 'Shift') {\n\t\t\tshiftKey = false;\n\t\t}\n\t};\n\n\tconst onFocus = () => {};\n\n\tconst onBlur = () => {\n\t\tshiftKey = false;\n\t\tselectedChatId = null;\n\t};\n\n\tonMount(async () => {\n\t\tshowPinnedChat = localStorage?.showPinnedChat ? localStorage.showPinnedChat === 'true' : true;\n\n\t\tmobile.subscribe((value) => {\n\t\t\tif ($showSidebar && value) {\n\t\t\t\tshowSidebar.set(false);\n\t\t\t}\n\n\t\t\tif ($showSidebar && !value) {\n\t\t\t\tconst navElement = document.getElementsByTagName('nav')[0];\n\t\t\t\tif (navElement) {\n\t\t\t\t\tnavElement.style['-webkit-app-region'] = 'drag';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!$showSidebar && !value) {\n\t\t\t\tshowSidebar.set(true);\n\t\t\t}\n\t\t});\n\n\t\tshowSidebar.set(!$mobile ? localStorage.sidebar === 'true' : false);\n\t\tshowSidebar.subscribe((value) => {\n\t\t\tlocalStorage.sidebar = value;\n\n\t\t\t// nav element is not available on the first render\n\t\t\tconst navElement = document.getElementsByTagName('nav')[0];\n\n\t\t\tif (navElement) {\n\t\t\t\tif ($mobile) {\n\t\t\t\t\tif (!value) {\n\t\t\t\t\t\tnavElement.style['-webkit-app-region'] = 'drag';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnavElement.style['-webkit-app-region'] = 'no-drag';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tnavElement.style['-webkit-app-region'] = 'drag';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tawait initChannels();\n\t\tawait initChatList();\n\n\t\twindow.addEventListener('keydown', onKeyDown);\n\t\twindow.addEventListener('keyup', onKeyUp);\n\n\t\twindow.addEventListener('touchstart', onTouchStart);\n\t\twindow.addEventListener('touchend', onTouchEnd);\n\n\t\twindow.addEventListener('focus', onFocus);\n\t\twindow.addEventListener('blur', onBlur);\n\n\t\tconst dropZone = document.getElementById('sidebar');\n\n\t\tdropZone?.addEventListener('dragover', onDragOver);\n\t\tdropZone?.addEventListener('drop', onDrop);\n\t\tdropZone?.addEventListener('dragleave', onDragLeave);\n\t});\n\n\tonDestroy(() => {\n\t\twindow.removeEventListener('keydown', onKeyDown);\n\t\twindow.removeEventListener('keyup', onKeyUp);\n\n\t\twindow.removeEventListener('touchstart', onTouchStart);\n\t\twindow.removeEventListener('touchend', onTouchEnd);\n\n\t\twindow.removeEventListener('focus', onFocus);\n\t\twindow.removeEventListener('blur', onBlur);\n\n\t\tconst dropZone = document.getElementById('sidebar');\n\n\t\tdropZone?.removeEventListener('dragover', onDragOver);\n\t\tdropZone?.removeEventListener('drop', onDrop);\n\t\tdropZone?.removeEventListener('dragleave', onDragLeave);\n\t});\n</script>\n\n<ArchivedChatsModal\n\tbind:show={$showArchivedChats}\n\ton:change={async () => {\n\t\tawait initChatList();\n\t}}\n/>\n\n<ChannelModal\n\tbind:show={showCreateChannel}\n\tonSubmit={async ({ name, access_control }) => {\n\t\tconst res = await createNewChannel(localStorage.token, {\n\t\t\tname: name,\n\t\t\taccess_control: access_control\n\t\t}).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\t$socket.emit('join-channels', { auth: { token: $user.token } });\n\t\t\tawait initChannels();\n\t\t\tshowCreateChannel = false;\n\t\t}\n\t}}\n/>\n\n<!-- svelte-ignore a11y-no-static-element-interactions -->\n\n{#if $showSidebar}\n\t<div\n\t\tclass=\" {$isApp\n\t\t\t? ' ml-[4.5rem] md:ml-0'\n\t\t\t: ''} fixed md:hidden z-40 top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center overflow-hidden overscroll-contain\"\n\t\ton:mousedown={() => {\n\t\t\tshowSidebar.set(!$showSidebar);\n\t\t}}\n\t/>\n{/if}\n\n<div\n\tbind:this={navElement}\n\tid=\"sidebar\"\n\tclass=\"h-screen max-h-[100dvh] min-h-screen select-none {$showSidebar\n\t\t? 'md:relative w-[260px] max-w-[260px]'\n\t\t: '-translate-x-[260px] w-[0px]'} {$isApp\n\t\t? `ml-[4.5rem] md:ml-0 `\n\t\t: 'transition-width duration-200 ease-in-out'}  flex-shrink-0 bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm fixed z-50 top-0 left-0 overflow-x-hidden\n        \"\n\tdata-state={$showSidebar}\n>\n\t<div\n\t\tclass=\"py-2 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] overflow-x-hidden z-50 {$showSidebar\n\t\t\t? ''\n\t\t\t: 'invisible'}\"\n\t>\n\t\t<div class=\"px-1.5 flex justify-between space-x-1 text-gray-600 dark:text-gray-400\">\n\t\t\t<button\n\t\t\t\tclass=\" cursor-pointer p-[7px] flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-900 transition\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshowSidebar.set(!$showSidebar);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\" m-auto self-center\">\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tclass=\"size-5\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\td=\"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t</button>\n\n\t\t\t<a\n\t\t\t\tid=\"sidebar-new-chat-button\"\n\t\t\t\tclass=\"flex justify-between items-center flex-1 rounded-lg px-2 py-1 h-full text-right hover:bg-gray-100 dark:hover:bg-gray-900 transition no-drag-region\"\n\t\t\t\thref=\"/\"\n\t\t\t\tdraggable=\"false\"\n\t\t\t\ton:click={async () => {\n\t\t\t\t\tselectedChatId = null;\n\t\t\t\t\tawait goto('/');\n\t\t\t\t\tconst newChatButton = document.getElementById('new-chat-button');\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tnewChatButton?.click();\n\t\t\t\t\t\tif ($mobile) {\n\t\t\t\t\t\t\tshowSidebar.set(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 0);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t<div class=\"self-center mx-1.5\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tcrossorigin=\"anonymous\"\n\t\t\t\t\t\t\tsrc=\"{WEBUI_BASE_URL}/static/favicon.png\"\n\t\t\t\t\t\t\tclass=\" size-5 -translate-x-1.5 rounded-full\"\n\t\t\t\t\t\t\talt=\"logo\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\" self-center font-medium text-sm text-gray-850 dark:text-white font-primary\">\n\t\t\t\t\t\t{$i18n.t('New Chat')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<PencilSquare className=\" size-5\" strokeWidth=\"2\" />\n\t\t\t\t</div>\n\t\t\t</a>\n\t\t</div>\n\n\t\t{#if $user?.role === 'admin' || $user?.permissions?.workspace?.models || $user?.permissions?.workspace?.knowledge || $user?.permissions?.workspace?.prompts || $user?.permissions?.workspace?.tools}\n\t\t\t<div class=\"px-1.5 flex justify-center text-gray-800 dark:text-gray-200\">\n\t\t\t\t<a\n\t\t\t\t\tclass=\"flex-grow flex space-x-3 rounded-lg px-2 py-[7px] hover:bg-gray-100 dark:hover:bg-gray-900 transition\"\n\t\t\t\t\thref=\"/workspace\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tselectedChatId = null;\n\t\t\t\t\t\tchatId.set('');\n\n\t\t\t\t\t\tif ($mobile) {\n\t\t\t\t\t\t\tshowSidebar.set(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tdraggable=\"false\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"self-center\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"size-[1.1rem]\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\td=\"M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex self-center\">\n\t\t\t\t\t\t<div class=\" self-center font-medium text-sm font-primary\">{$i18n.t('Workspace')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t{/if}\n\n\t\t<div class=\"relative {$temporaryChatEnabled ? 'opacity-20' : ''}\">\n\t\t\t{#if $temporaryChatEnabled}\n\t\t\t\t<div class=\"absolute z-40 w-full h-full flex justify-center\"></div>\n\t\t\t{/if}\n\n\t\t\t<SearchInput\n\t\t\t\tbind:value={search}\n\t\t\t\ton:input={searchDebounceHandler}\n\t\t\t\tplaceholder={$i18n.t('Search')}\n\t\t\t/>\n\t\t</div>\n\n\t\t<div\n\t\t\tclass=\"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden {$temporaryChatEnabled\n\t\t\t\t? 'opacity-20'\n\t\t\t\t: ''}\"\n\t\t>\n\t\t\t{#if $config?.features?.enable_channels && ($user.role === 'admin' || $channels.length > 0) && !search}\n\t\t\t\t<Folder\n\t\t\t\t\tclassName=\"px-2 mt-0.5\"\n\t\t\t\t\tname={$i18n.t('Channels')}\n\t\t\t\t\tdragAndDrop={false}\n\t\t\t\t\tonAdd={async () => {\n\t\t\t\t\t\tif ($user.role === 'admin') {\n\t\t\t\t\t\t\tawait tick();\n\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tshowCreateChannel = true;\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonAddLabel={$i18n.t('Create Channel')}\n\t\t\t\t>\n\t\t\t\t\t{#each $channels as channel}\n\t\t\t\t\t\t<ChannelItem\n\t\t\t\t\t\t\t{channel}\n\t\t\t\t\t\t\tonUpdate={async () => {\n\t\t\t\t\t\t\t\tawait initChannels();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t{/each}\n\t\t\t\t</Folder>\n\t\t\t{/if}\n\n\t\t\t<Folder\n\t\t\t\tcollapsible={!search}\n\t\t\t\tclassName=\"px-2 mt-0.5\"\n\t\t\t\tname={$i18n.t('Chats')}\n\t\t\t\tonAdd={() => {\n\t\t\t\t\tcreateFolder();\n\t\t\t\t}}\n\t\t\t\tonAddLabel={$i18n.t('New Folder')}\n\t\t\t\ton:import={(e) => {\n\t\t\t\t\timportChatHandler(e.detail);\n\t\t\t\t}}\n\t\t\t\ton:drop={async (e) => {\n\t\t\t\t\tconst { type, id, item } = e.detail;\n\n\t\t\t\t\tif (type === 'chat') {\n\t\t\t\t\t\tlet chat = await getChatById(localStorage.token, id).catch((error) => {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!chat && item) {\n\t\t\t\t\t\t\tchat = await importChat(localStorage.token, item.chat, item?.meta ?? {});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (chat) {\n\t\t\t\t\t\t\tconsole.log(chat);\n\t\t\t\t\t\t\tif (chat.folder_id) {\n\t\t\t\t\t\t\t\tconst res = await updateChatFolderIdById(localStorage.token, chat.id, null).catch(\n\t\t\t\t\t\t\t\t\t(error) => {\n\t\t\t\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (chat.pinned) {\n\t\t\t\t\t\t\t\tconst res = await toggleChatPinnedStatusById(localStorage.token, chat.id);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tinitChatList();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (type === 'folder') {\n\t\t\t\t\t\tif (folders[id].parent_id === null) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst res = await updateFolderParentIdById(localStorage.token, id, null).catch(\n\t\t\t\t\t\t\t(error) => {\n\t\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\tawait initFolders();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{#if $temporaryChatEnabled}\n\t\t\t\t\t<div class=\"absolute z-40 w-full h-full flex justify-center\"></div>\n\t\t\t\t{/if}\n\n\t\t\t\t{#if !search && $pinnedChats.length > 0}\n\t\t\t\t\t<div class=\"flex flex-col space-y-1 rounded-xl\">\n\t\t\t\t\t\t<Folder\n\t\t\t\t\t\t\tclassName=\"\"\n\t\t\t\t\t\t\tbind:open={showPinnedChat}\n\t\t\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\t\t\tlocalStorage.setItem('showPinnedChat', e.detail);\n\t\t\t\t\t\t\t\tconsole.log(e.detail);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ton:import={(e) => {\n\t\t\t\t\t\t\t\timportChatHandler(e.detail, true);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ton:drop={async (e) => {\n\t\t\t\t\t\t\t\tconst { type, id, item } = e.detail;\n\n\t\t\t\t\t\t\t\tif (type === 'chat') {\n\t\t\t\t\t\t\t\t\tlet chat = await getChatById(localStorage.token, id).catch((error) => {\n\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (!chat && item) {\n\t\t\t\t\t\t\t\t\t\tchat = await importChat(localStorage.token, item.chat, item?.meta ?? {});\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (chat) {\n\t\t\t\t\t\t\t\t\t\tconsole.log(chat);\n\t\t\t\t\t\t\t\t\t\tif (chat.folder_id) {\n\t\t\t\t\t\t\t\t\t\t\tconst res = await updateChatFolderIdById(\n\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t\t\t\t\t\t\t\tchat.id,\n\t\t\t\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t\t\t\t).catch((error) => {\n\t\t\t\t\t\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (!chat.pinned) {\n\t\t\t\t\t\t\t\t\t\t\tconst res = await toggleChatPinnedStatusById(localStorage.token, chat.id);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tinitChatList();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tname={$i18n.t('Pinned')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"ml-3 pl-1 mt-[1px] flex flex-col overflow-y-auto scrollbar-hidden border-s border-gray-100 dark:border-gray-900\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{#each $pinnedChats as chat, idx}\n\t\t\t\t\t\t\t\t\t<ChatItem\n\t\t\t\t\t\t\t\t\t\tclassName=\"\"\n\t\t\t\t\t\t\t\t\t\tid={chat.id}\n\t\t\t\t\t\t\t\t\t\ttitle={chat.title}\n\t\t\t\t\t\t\t\t\t\t{shiftKey}\n\t\t\t\t\t\t\t\t\t\tselected={selectedChatId === chat.id}\n\t\t\t\t\t\t\t\t\t\ton:select={() => {\n\t\t\t\t\t\t\t\t\t\t\tselectedChatId = chat.id;\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ton:unselect={() => {\n\t\t\t\t\t\t\t\t\t\t\tselectedChatId = null;\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ton:change={async () => {\n\t\t\t\t\t\t\t\t\t\t\tinitChatList();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ton:tag={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tconst { type, name } = e.detail;\n\t\t\t\t\t\t\t\t\t\t\ttagEventHandler(type, name, chat.id);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Folder>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t{#if !search && folders}\n\t\t\t\t\t<Folders\n\t\t\t\t\t\t{folders}\n\t\t\t\t\t\ton:import={(e) => {\n\t\t\t\t\t\t\tconst { folderId, items } = e.detail;\n\t\t\t\t\t\t\timportChatHandler(items, false, folderId);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ton:update={async (e) => {\n\t\t\t\t\t\t\tinitChatList();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ton:change={async () => {\n\t\t\t\t\t\t\tinitChatList();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t{/if}\n\n\t\t\t\t<div class=\" flex-1 flex flex-col overflow-y-auto scrollbar-hidden\">\n\t\t\t\t\t<div class=\"pt-1.5\">\n\t\t\t\t\t\t{#if $chats}\n\t\t\t\t\t\t\t{#each $chats as chat, idx}\n\t\t\t\t\t\t\t\t{#if idx === 0 || (idx > 0 && chat.time_range !== $chats[idx - 1].time_range)}\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium {idx ===\n\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t\t\t: 'pt-5'} pb-1.5\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t(chat.time_range)}\n\t\t\t\t\t\t\t\t\t\t<!-- localisation keys for time_range to be recognized from the i18next parser (so they don't get automatically removed):\n\t\t\t\t\t\t\t{$i18n.t('Today')}\n\t\t\t\t\t\t\t{$i18n.t('Yesterday')}\n\t\t\t\t\t\t\t{$i18n.t('Previous 7 days')}\n\t\t\t\t\t\t\t{$i18n.t('Previous 30 days')}\n\t\t\t\t\t\t\t{$i18n.t('January')}\n\t\t\t\t\t\t\t{$i18n.t('February')}\n\t\t\t\t\t\t\t{$i18n.t('March')}\n\t\t\t\t\t\t\t{$i18n.t('April')}\n\t\t\t\t\t\t\t{$i18n.t('May')}\n\t\t\t\t\t\t\t{$i18n.t('June')}\n\t\t\t\t\t\t\t{$i18n.t('July')}\n\t\t\t\t\t\t\t{$i18n.t('August')}\n\t\t\t\t\t\t\t{$i18n.t('September')}\n\t\t\t\t\t\t\t{$i18n.t('October')}\n\t\t\t\t\t\t\t{$i18n.t('November')}\n\t\t\t\t\t\t\t{$i18n.t('December')}\n\t\t\t\t\t\t\t-->\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t<ChatItem\n\t\t\t\t\t\t\t\t\tclassName=\"\"\n\t\t\t\t\t\t\t\t\tid={chat.id}\n\t\t\t\t\t\t\t\t\ttitle={chat.title}\n\t\t\t\t\t\t\t\t\t{shiftKey}\n\t\t\t\t\t\t\t\t\tselected={selectedChatId === chat.id}\n\t\t\t\t\t\t\t\t\ton:select={() => {\n\t\t\t\t\t\t\t\t\t\tselectedChatId = chat.id;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ton:unselect={() => {\n\t\t\t\t\t\t\t\t\t\tselectedChatId = null;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ton:change={async () => {\n\t\t\t\t\t\t\t\t\t\tinitChatList();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ton:tag={(e) => {\n\t\t\t\t\t\t\t\t\t\tconst { type, name } = e.detail;\n\t\t\t\t\t\t\t\t\t\ttagEventHandler(type, name, chat.id);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{/each}\n\n\t\t\t\t\t\t\t{#if $scrollPaginationEnabled && !allChatsLoaded}\n\t\t\t\t\t\t\t\t<Loader\n\t\t\t\t\t\t\t\t\ton:visible={(e) => {\n\t\t\t\t\t\t\t\t\t\tif (!chatListLoading) {\n\t\t\t\t\t\t\t\t\t\t\tloadMoreChats();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Spinner className=\" size-4\" />\n\t\t\t\t\t\t\t\t\t\t<div class=\" \">Loading...</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Loader>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<div class=\"w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2\">\n\t\t\t\t\t\t\t\t<Spinner className=\" size-4\" />\n\t\t\t\t\t\t\t\t<div class=\" \">Loading...</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Folder>\n\t\t</div>\n\n\t\t<div class=\"px-2\">\n\t\t\t<div class=\"flex flex-col font-primary\">\n\t\t\t\t{#if $user !== undefined}\n\t\t\t\t\t<UserMenu\n\t\t\t\t\t\trole={$user.role}\n\t\t\t\t\t\ton:show={(e) => {\n\t\t\t\t\t\t\tif (e.detail === 'archived-chat') {\n\t\t\t\t\t\t\t\tshowArchivedChats.set(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\" flex items-center rounded-xl py-2.5 px-2.5 w-full hover:bg-gray-100 dark:hover:bg-gray-900 transition\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tshowDropdown = !showDropdown;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\" self-center mr-3\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={$user.profile_image_url}\n\t\t\t\t\t\t\t\t\tclass=\" max-w-[30px] object-cover rounded-full\"\n\t\t\t\t\t\t\t\t\talt=\"User profile\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\" self-center font-medium\">{$user.name}</div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</UserMenu>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<style>\n\t.scrollbar-hidden:active::-webkit-scrollbar-thumb,\n\t.scrollbar-hidden:focus::-webkit-scrollbar-thumb,\n\t.scrollbar-hidden:hover::-webkit-scrollbar-thumb {\n\t\tvisibility: visible;\n\t}\n\t.scrollbar-hidden::-webkit-scrollbar-thumb {\n\t\tvisibility: hidden;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { getContext } from 'svelte';\n\timport { toast } from 'svelte-sonner';\n\timport { updateUserPassword } from '$lib/apis/auths';\n\n\tconst i18n = getContext('i18n');\n\n\tlet show = false;\n\tlet currentPassword = '';\n\tlet newPassword = '';\n\tlet newPasswordConfirm = '';\n\n\tconst updatePasswordHandler = async () => {\n\t\tif (newPassword === newPasswordConfirm) {\n\t\t\tconst res = await updateUserPassword(localStorage.token, currentPassword, newPassword).catch(\n\t\t\t\t(error) => {\n\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (res) {\n\t\t\t\ttoast.success($i18n.t('Successfully updated.'));\n\t\t\t}\n\n\t\t\tcurrentPassword = '';\n\t\t\tnewPassword = '';\n\t\t\tnewPasswordConfirm = '';\n\t\t} else {\n\t\t\ttoast.error(\n\t\t\t\t`The passwords you entered don't quite match. Please double-check and try again.`\n\t\t\t);\n\t\t\tnewPassword = '';\n\t\t\tnewPasswordConfirm = '';\n\t\t}\n\t};\n</script>\n\n<form\n\tclass=\"flex flex-col text-sm\"\n\ton:submit|preventDefault={() => {\n\t\tupdatePasswordHandler();\n\t}}\n>\n\t<div class=\"flex justify-between items-center text-sm\">\n\t\t<div class=\"  font-medium\">{$i18n.t('Change Password')}</div>\n\t\t<button\n\t\t\tclass=\" text-xs font-medium text-gray-500\"\n\t\t\ttype=\"button\"\n\t\t\ton:click={() => {\n\t\t\t\tshow = !show;\n\t\t\t}}>{show ? $i18n.t('Hide') : $i18n.t('Show')}</button\n\t\t>\n\t</div>\n\n\t{#if show}\n\t\t<div class=\" py-2.5 space-y-1.5\">\n\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Current Password')}</div>\n\n\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"w-full bg-transparent dark:text-gray-300 outline-none placeholder:opacity-30\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tbind:value={currentPassword}\n\t\t\t\t\t\tplaceholder={$i18n.t('Enter your current password')}\n\t\t\t\t\t\tautocomplete=\"current-password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('New Password')}</div>\n\n\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"w-full bg-transparent text-sm dark:text-gray-300 outline-none placeholder:opacity-30\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tbind:value={newPassword}\n\t\t\t\t\t\tplaceholder={$i18n.t('Enter your new password')}\n\t\t\t\t\t\tautocomplete=\"new-password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Confirm Password')}</div>\n\n\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"w-full bg-transparent text-sm dark:text-gray-300 outline-none placeholder:opacity-30\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tbind:value={newPasswordConfirm}\n\t\t\t\t\t\tplaceholder={$i18n.t('Confirm your new password')}\n\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"mt-3 flex justify-end\">\n\t\t\t<button\n\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\t>\n\t\t\t\t{$i18n.t('Update password')}\n\t\t\t</button>\n\t\t</div>\n\t{/if}\n</form>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { onMount, getContext } from 'svelte';\n\n\timport { user, config, settings } from '$lib/stores';\n\timport { updateUserProfile, createAPIKey, getAPIKey } from '$lib/apis/auths';\n\n\timport UpdatePassword from './Account/UpdatePassword.svelte';\n\timport { getGravatarUrl } from '$lib/apis/utils';\n\timport { generateInitialsImage, canvasPixelTest } from '$lib/utils';\n\timport { copyToClipboard } from '$lib/utils';\n\timport Plus from '$lib/components/icons/Plus.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let saveHandler: Function;\n\texport let saveSettings: Function;\n\n\tlet profileImageUrl = '';\n\tlet name = '';\n\n\tlet webhookUrl = '';\n\tlet showAPIKeys = false;\n\n\tlet JWTTokenCopied = false;\n\n\tlet APIKey = '';\n\tlet APIKeyCopied = false;\n\tlet profileImageInputElement: HTMLInputElement;\n\n\tconst submitHandler = async () => {\n\t\tif (name !== $user.name) {\n\t\t\tif (profileImageUrl === generateInitialsImage($user.name) || profileImageUrl === '') {\n\t\t\t\tprofileImageUrl = generateInitialsImage(name);\n\t\t\t}\n\t\t}\n\n\t\tif (webhookUrl !== $settings?.notifications?.webhook_url) {\n\t\t\tsaveSettings({\n\t\t\t\tnotifications: {\n\t\t\t\t\t...$settings.notifications,\n\t\t\t\t\twebhook_url: webhookUrl\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tconst updatedUser = await updateUserProfile(localStorage.token, name, profileImageUrl).catch(\n\t\t\t(error) => {\n\t\t\t\ttoast.error(`${error}`);\n\t\t\t}\n\t\t);\n\n\t\tif (updatedUser) {\n\t\t\tawait user.set(updatedUser);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst createAPIKeyHandler = async () => {\n\t\tAPIKey = await createAPIKey(localStorage.token);\n\t\tif (APIKey) {\n\t\t\ttoast.success($i18n.t('API Key created.'));\n\t\t} else {\n\t\t\ttoast.error($i18n.t('Failed to create API Key.'));\n\t\t}\n\t};\n\n\tonMount(async () => {\n\t\tname = $user.name;\n\t\tprofileImageUrl = $user.profile_image_url;\n\t\twebhookUrl = $settings?.notifications?.webhook_url ?? '';\n\n\t\tAPIKey = await getAPIKey(localStorage.token).catch((error) => {\n\t\t\tconsole.log(error);\n\t\t\treturn '';\n\t\t});\n\t});\n</script>\n\n<div class=\"flex flex-col h-full justify-between text-sm\">\n\t<div class=\" space-y-3 overflow-y-scroll max-h-[28rem] lg:max-h-full\">\n\t\t<input\n\t\t\tid=\"profile-image-input\"\n\t\t\tbind:this={profileImageInputElement}\n\t\t\ttype=\"file\"\n\t\t\thidden\n\t\t\taccept=\"image/*\"\n\t\t\ton:change={(e) => {\n\t\t\t\tconst files = profileImageInputElement.files ?? [];\n\t\t\t\tlet reader = new FileReader();\n\t\t\t\treader.onload = (event) => {\n\t\t\t\t\tlet originalImageUrl = `${event.target.result}`;\n\n\t\t\t\t\tconst img = new Image();\n\t\t\t\t\timg.src = originalImageUrl;\n\n\t\t\t\t\timg.onload = function () {\n\t\t\t\t\t\tconst canvas = document.createElement('canvas');\n\t\t\t\t\t\tconst ctx = canvas.getContext('2d');\n\n\t\t\t\t\t\t// Calculate the aspect ratio of the image\n\t\t\t\t\t\tconst aspectRatio = img.width / img.height;\n\n\t\t\t\t\t\t// Calculate the new width and height to fit within 250x250\n\t\t\t\t\t\tlet newWidth, newHeight;\n\t\t\t\t\t\tif (aspectRatio > 1) {\n\t\t\t\t\t\t\tnewWidth = 250 * aspectRatio;\n\t\t\t\t\t\t\tnewHeight = 250;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewWidth = 250;\n\t\t\t\t\t\t\tnewHeight = 250 / aspectRatio;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Set the canvas size\n\t\t\t\t\t\tcanvas.width = 250;\n\t\t\t\t\t\tcanvas.height = 250;\n\n\t\t\t\t\t\t// Calculate the position to center the image\n\t\t\t\t\t\tconst offsetX = (250 - newWidth) / 2;\n\t\t\t\t\t\tconst offsetY = (250 - newHeight) / 2;\n\n\t\t\t\t\t\t// Draw the image on the canvas\n\t\t\t\t\t\tctx.drawImage(img, offsetX, offsetY, newWidth, newHeight);\n\n\t\t\t\t\t\t// Get the base64 representation of the compressed image\n\t\t\t\t\t\tconst compressedSrc = canvas.toDataURL('image/jpeg');\n\n\t\t\t\t\t\t// Display the compressed image\n\t\t\t\t\t\tprofileImageUrl = compressedSrc;\n\n\t\t\t\t\t\tprofileImageInputElement.files = null;\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\tif (\n\t\t\t\t\tfiles.length > 0 &&\n\t\t\t\t\t['image/gif', 'image/webp', 'image/jpeg', 'image/png'].includes(files[0]['type'])\n\t\t\t\t) {\n\t\t\t\t\treader.readAsDataURL(files[0]);\n\t\t\t\t}\n\t\t\t}}\n\t\t/>\n\n\t\t<div class=\"space-y-1\">\n\t\t\t<!-- <div class=\" text-sm font-medium\">{$i18n.t('Account')}</div> -->\n\n\t\t\t<div class=\"flex space-x-5\">\n\t\t\t\t<div class=\"flex flex-col\">\n\t\t\t\t\t<div class=\"self-center mt-2\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"relative rounded-full dark:bg-gray-700\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tprofileImageInputElement.click();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={profileImageUrl !== '' ? profileImageUrl : generateInitialsImage(name)}\n\t\t\t\t\t\t\t\talt=\"profile\"\n\t\t\t\t\t\t\t\tclass=\" rounded-full size-16 object-cover\"\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"my-auto text-gray-100\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"flex-1 flex flex-col self-center gap-0.5\">\n\t\t\t\t\t<div class=\" mb-0.5 text-sm font-medium\">{$i18n.t('Profile Image')}</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\" text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850\"\n\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\tif (canvasPixelTest()) {\n\t\t\t\t\t\t\t\t\tprofileImageUrl = generateInitialsImage(name);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttoast.info(\n\t\t\t\t\t\t\t\t\t\t$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\t'Fingerprint spoofing detected: Unable to use initials as avatar. Defaulting to default profile image.'\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tduration: 1000 * 10\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}>{$i18n.t('Use Initials')}</button\n\t\t\t\t\t\t>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\" text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850\"\n\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\tconst url = await getGravatarUrl($user.email);\n\n\t\t\t\t\t\t\t\tprofileImageUrl = url;\n\t\t\t\t\t\t\t}}>{$i18n.t('Use Gravatar')}</button\n\t\t\t\t\t\t>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\" text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg px-2 py-1\"\n\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\tprofileImageUrl = '/user.png';\n\t\t\t\t\t\t\t}}>{$i18n.t('Remove')}</button\n\t\t\t\t\t\t>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"pt-0.5\">\n\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('Name')}</div>\n\n\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tbind:value={name}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"pt-2\">\n\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('Notification Webhook')}</div>\n\n\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\n\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter your webhook URL')}\n\t\t\t\t\t\t\tbind:value={webhookUrl}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"py-0.5\">\n\t\t\t<UpdatePassword />\n\t\t</div>\n\n\t\t<hr class=\" dark:border-gray-850 my-4\" />\n\n\t\t<div class=\"flex justify-between items-center text-sm\">\n\t\t\t<div class=\"  font-medium\">{$i18n.t('API keys')}</div>\n\t\t\t<button\n\t\t\t\tclass=\" text-xs font-medium text-gray-500\"\n\t\t\t\ttype=\"button\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshowAPIKeys = !showAPIKeys;\n\t\t\t\t}}>{showAPIKeys ? $i18n.t('Hide') : $i18n.t('Show')}</button\n\t\t\t>\n\t\t</div>\n\n\t\t{#if showAPIKeys}\n\t\t\t<div class=\"flex flex-col gap-4\">\n\t\t\t\t<div class=\"justify-between w-full\">\n\t\t\t\t\t<div class=\"flex justify-between w-full\">\n\t\t\t\t\t\t<div class=\"self-center text-xs font-medium\">{$i18n.t('JWT Token')}</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex mt-2\">\n\t\t\t\t\t\t<SensitiveInput value={localStorage.token} readOnly={true} />\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tcopyToClipboard(localStorage.token);\n\t\t\t\t\t\t\t\tJWTTokenCopied = true;\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tJWTTokenCopied = false;\n\t\t\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if JWTTokenCopied}\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\td=\"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z\"\n\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\td=\"M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z\"\n\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\td=\"M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z\"\n\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{#if $config?.features?.enable_api_key ?? true}\n\t\t\t\t\t<div class=\"justify-between w-full\">\n\t\t\t\t\t\t<div class=\"flex justify-between w-full\">\n\t\t\t\t\t\t\t<div class=\"self-center text-xs font-medium\">{$i18n.t('API Key')}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex mt-2\">\n\t\t\t\t\t\t\t{#if APIKey}\n\t\t\t\t\t\t\t\t<SensitiveInput value={APIKey} readOnly={true} />\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tcopyToClipboard(APIKey);\n\t\t\t\t\t\t\t\t\t\tAPIKeyCopied = true;\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\t\tAPIKeyCopied = false;\n\t\t\t\t\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{#if APIKeyCopied}\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z\"\n\t\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Create new key')}>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\" px-1.5 py-1 dark:hover:bg-gray-850transition rounded-lg\"\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\tcreateAPIKeyHandler();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"flex gap-1.5 items-center font-medium px-3.5 py-1.5 rounded-lg bg-gray-100/70 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-850 transition\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tcreateAPIKeyHandler();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Plus strokeWidth=\"2\" className=\" size-3.5\" />\n\n\t\t\t\t\t\t\t\t\t{$i18n.t('Create new secret key')}</button\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t<button\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\ton:click={async () => {\n\t\t\t\tconst res = await submitHandler();\n\n\t\t\t\tif (res) {\n\t\t\t\t\tsaveHandler();\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t{$i18n.t('Save')}\n\t\t</button>\n\t</div>\n</div>\n","<script lang=\"ts\">\n\timport { getVersionUpdates } from '$lib/apis';\n\timport { getOllamaVersion } from '$lib/apis/ollama';\n\timport { WEBUI_BUILD_HASH, WEBUI_VERSION } from '$lib/constants';\n\timport { WEBUI_NAME, config, showChangelog } from '$lib/stores';\n\timport { compareVersion } from '$lib/utils';\n\timport { onMount, getContext } from 'svelte';\n\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\tlet ollamaVersion = '';\n\n\tlet updateAvailable = null;\n\tlet version = {\n\t\tcurrent: '',\n\t\tlatest: ''\n\t};\n\n\tconst checkForVersionUpdates = async () => {\n\t\tupdateAvailable = null;\n\t\tversion = await getVersionUpdates(localStorage.token).catch((error) => {\n\t\t\treturn {\n\t\t\t\tcurrent: WEBUI_VERSION,\n\t\t\t\tlatest: WEBUI_VERSION\n\t\t\t};\n\t\t});\n\n\t\tconsole.log(version);\n\n\t\tupdateAvailable = compareVersion(version.latest, version.current);\n\t\tconsole.log(updateAvailable);\n\t};\n\n\tonMount(async () => {\n\t\tollamaVersion = await getOllamaVersion(localStorage.token).catch((error) => {\n\t\t\treturn '';\n\t\t});\n\n\t\tcheckForVersionUpdates();\n\t});\n</script>\n\n<div class=\"flex flex-col h-full justify-between space-y-3 text-sm mb-6\">\n\t<div class=\" space-y-3 overflow-y-scroll max-h-[28rem] lg:max-h-full\">\n\t\t<div>\n\t\t\t<div class=\" mb-2.5 text-sm font-medium flex space-x-2 items-center\">\n\t\t\t\t<div>\n\t\t\t\t\t{$WEBUI_NAME}\n\t\t\t\t\t{$i18n.t('Version')}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t<div class=\"flex flex-col text-xs text-gray-700 dark:text-gray-200\">\n\t\t\t\t\t<div class=\"flex gap-1\">\n\t\t\t\t\t\t<Tooltip content={WEBUI_BUILD_HASH}>\n\t\t\t\t\t\t\tv{WEBUI_VERSION}\n\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://github.com/open-webui/open-webui/releases/tag/v{version.latest}\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{updateAvailable === null\n\t\t\t\t\t\t\t\t? $i18n.t('Checking for updates...')\n\t\t\t\t\t\t\t\t: updateAvailable\n\t\t\t\t\t\t\t\t\t? `(v${version.latest} ${$i18n.t('available!')})`\n\t\t\t\t\t\t\t\t\t: $i18n.t('(latest)')}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\" underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tshowChangelog.set(true);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>{$i18n.t(\"See what's new\")}</div>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t<button\n\t\t\t\t\tclass=\" text-xs px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tcheckForVersionUpdates();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{$i18n.t('Check for updates')}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t{#if ollamaVersion}\n\t\t\t<hr class=\" dark:border-gray-850\" />\n\n\t\t\t<div>\n\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">{$i18n.t('Ollama Version')}</div>\n\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t<div class=\"flex-1 text-xs text-gray-700 dark:text-gray-200\">\n\t\t\t\t\t\t{ollamaVersion ?? 'N/A'}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\n\t\t<hr class=\" dark:border-gray-850\" />\n\n\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\tEmoji graphics provided by\n\t\t\t<a href=\"https://github.com/jdecked/twemoji\" target=\"_blank\">Twemoji</a>, licensed under\n\t\t\t<a href=\"https://creativecommons.org/licenses/by/4.0/\" target=\"_blank\">CC-BY 4.0</a>.\n\t\t</div>\n\n\t\t<div class=\"flex space-x-1\">\n\t\t\t<a href=\"https://discord.gg/5rJgQTnV4s\" target=\"_blank\">\n\t\t\t\t<img\n\t\t\t\t\talt=\"Discord\"\n\t\t\t\t\tsrc=\"https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&logoColor=white\"\n\t\t\t\t/>\n\t\t\t</a>\n\n\t\t\t<a href=\"https://twitter.com/OpenWebUI\" target=\"_blank\">\n\t\t\t\t<img\n\t\t\t\t\talt=\"X (formerly Twitter) Follow\"\n\t\t\t\t\tsrc=\"https://img.shields.io/twitter/follow/OpenWebUI\"\n\t\t\t\t/>\n\t\t\t</a>\n\n\t\t\t<a href=\"https://github.com/open-webui/open-webui\" target=\"_blank\">\n\t\t\t\t<img\n\t\t\t\t\talt=\"Github Repo\"\n\t\t\t\t\tsrc=\"https://img.shields.io/github/stars/open-webui/open-webui?style=social&label=Star us on Github\"\n\t\t\t\t/>\n\t\t\t</a>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<pre\n\t\t\t\tclass=\"text-xs text-gray-400 dark:text-gray-500\">Copyright (c) {new Date().getFullYear()} <a\n\t\t\t\t\thref=\"https://openwebui.com\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\tclass=\"underline\">Open WebUI (Timothy Jaeryang Baek)</a\n\t\t\t\t>\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n1. Redistributions of source code must retain the above copyright notice, this\n   list of conditions and the following disclaimer.\n\n2. Redistributions in binary form must reproduce the above copyright notice,\n   this list of conditions and the following disclaimer in the documentation\n   and/or other materials provided with the distribution.\n\n3. Neither the name of the copyright holder nor the names of its\n   contributors may be used to endorse or promote products derived from\n   this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n</pre>\n\t\t</div>\n\n\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t{#if !$WEBUI_NAME.includes('Open WebUI')}\n\t\t\t\t<span class=\" text-gray-500 dark:text-gray-300 font-medium\">{$WEBUI_NAME}</span> -\n\t\t\t{/if}\n\t\t\t{$i18n.t('Created by')}\n\t\t\t<a\n\t\t\t\tclass=\" text-gray-500 dark:text-gray-300 font-medium\"\n\t\t\t\thref=\"https://github.com/tjbck\"\n\t\t\t\ttarget=\"_blank\">Timothy J. Baek</a\n\t\t\t>\n\t\t</div>\n\t</div>\n</div>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { createEventDispatcher, onMount, getContext } from 'svelte';\n\timport { getLanguages } from '$lib/i18n';\n\tconst dispatch = createEventDispatcher();\n\n\timport { models, settings, theme, user } from '$lib/stores';\n\n\tconst i18n = getContext('i18n');\n\n\timport AdvancedParams from './Advanced/AdvancedParams.svelte';\n\n\texport let saveSettings: Function;\n\texport let getModels: Function;\n\n\t// General\n\tlet themes = ['dark', 'light', 'rose-pine dark', 'rose-pine-dawn light', 'oled-dark'];\n\tlet selectedTheme = 'system';\n\n\tlet languages: Awaited<ReturnType<typeof getLanguages>> = [];\n\tlet lang = $i18n.language;\n\tlet notificationEnabled = false;\n\tlet system = '';\n\n\tlet showAdvanced = false;\n\n\tconst toggleNotification = async () => {\n\t\tconst permission = await Notification.requestPermission();\n\n\t\tif (permission === 'granted') {\n\t\t\tnotificationEnabled = !notificationEnabled;\n\t\t\tsaveSettings({ notificationEnabled: notificationEnabled });\n\t\t} else {\n\t\t\ttoast.error(\n\t\t\t\t$i18n.t(\n\t\t\t\t\t'Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access.'\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t};\n\n\t// Advanced\n\tlet requestFormat = '';\n\tlet keepAlive: string | null = null;\n\n\tlet params = {\n\t\t// Advanced\n\t\tstream_response: null,\n\t\tseed: null,\n\t\ttemperature: null,\n\t\tfrequency_penalty: null,\n\t\trepeat_last_n: null,\n\t\tmirostat: null,\n\t\tmirostat_eta: null,\n\t\tmirostat_tau: null,\n\t\ttop_k: null,\n\t\ttop_p: null,\n\t\tmin_p: null,\n\t\tstop: null,\n\t\ttfs_z: null,\n\t\tnum_ctx: null,\n\t\tnum_batch: null,\n\t\tnum_keep: null,\n\t\tmax_tokens: null,\n\t\tnum_gpu: null\n\t};\n\n\tconst toggleRequestFormat = async () => {\n\t\tif (requestFormat === '') {\n\t\t\trequestFormat = 'json';\n\t\t} else {\n\t\t\trequestFormat = '';\n\t\t}\n\n\t\tsaveSettings({ requestFormat: requestFormat !== '' ? requestFormat : undefined });\n\t};\n\n\tonMount(async () => {\n\t\tselectedTheme = localStorage.theme ?? 'system';\n\n\t\tlanguages = await getLanguages();\n\n\t\tnotificationEnabled = $settings.notificationEnabled ?? false;\n\t\tsystem = $settings.system ?? '';\n\n\t\trequestFormat = $settings.requestFormat ?? '';\n\t\tkeepAlive = $settings.keepAlive ?? null;\n\n\t\tparams = { ...params, ...$settings.params };\n\t\tparams.stop = $settings?.params?.stop ? ($settings?.params?.stop ?? []).join(',') : null;\n\t});\n\n\tconst applyTheme = (_theme: string) => {\n\t\tlet themeToApply = _theme === 'oled-dark' ? 'dark' : _theme;\n\n\t\tif (_theme === 'system') {\n\t\t\tthemeToApply = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n\t\t}\n\n\t\tif (themeToApply === 'dark' && !_theme.includes('oled')) {\n\t\t\tdocument.documentElement.style.setProperty('--color-gray-800', '#333');\n\t\t\tdocument.documentElement.style.setProperty('--color-gray-850', '#262626');\n\t\t\tdocument.documentElement.style.setProperty('--color-gray-900', '#171717');\n\t\t\tdocument.documentElement.style.setProperty('--color-gray-950', '#0d0d0d');\n\t\t}\n\n\t\tthemes\n\t\t\t.filter((e) => e !== themeToApply)\n\t\t\t.forEach((e) => {\n\t\t\t\te.split(' ').forEach((e) => {\n\t\t\t\t\tdocument.documentElement.classList.remove(e);\n\t\t\t\t});\n\t\t\t});\n\n\t\tthemeToApply.split(' ').forEach((e) => {\n\t\t\tdocument.documentElement.classList.add(e);\n\t\t});\n\n\t\tconst metaThemeColor = document.querySelector('meta[name=\"theme-color\"]');\n\t\tif (metaThemeColor) {\n\t\t\tif (_theme.includes('system')) {\n\t\t\t\tconst systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches\n\t\t\t\t\t? 'dark'\n\t\t\t\t\t: 'light';\n\t\t\t\tconsole.log('Setting system meta theme color: ' + systemTheme);\n\t\t\t\tmetaThemeColor.setAttribute('content', systemTheme === 'light' ? '#ffffff' : '#171717');\n\t\t\t} else {\n\t\t\t\tconsole.log('Setting meta theme color: ' + _theme);\n\t\t\t\tmetaThemeColor.setAttribute(\n\t\t\t\t\t'content',\n\t\t\t\t\t_theme === 'dark'\n\t\t\t\t\t\t? '#171717'\n\t\t\t\t\t\t: _theme === 'oled-dark'\n\t\t\t\t\t\t\t? '#000000'\n\t\t\t\t\t\t\t: _theme === 'her'\n\t\t\t\t\t\t\t\t? '#983724'\n\t\t\t\t\t\t\t\t: '#ffffff'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tconsole.log(_theme);\n\t};\n\n\tconst themeChangeHandler = (_theme: string) => {\n\t\ttheme.set(_theme);\n\t\tlocalStorage.setItem('theme', _theme);\n\t\tif (_theme.includes('oled')) {\n\t\t\tdocument.documentElement.style.setProperty('--color-gray-800', '#101010');\n\t\t\tdocument.documentElement.style.setProperty('--color-gray-850', '#050505');\n\t\t\tdocument.documentElement.style.setProperty('--color-gray-900', '#000000');\n\t\t\tdocument.documentElement.style.setProperty('--color-gray-950', '#000000');\n\t\t\tdocument.documentElement.classList.add('dark');\n\t\t}\n\t\tapplyTheme(_theme);\n\t};\n</script>\n\n<div class=\"flex flex-col h-full justify-between text-sm\">\n\t<div class=\"  overflow-y-scroll max-h-[28rem] lg:max-h-full\">\n\t\t<div class=\"\">\n\t\t\t<div class=\" mb-1 text-sm font-medium\">{$i18n.t('WebUI Settings')}</div>\n\n\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Theme')}</div>\n\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t<select\n\t\t\t\t\t\tclass=\" dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right\"\n\t\t\t\t\t\tbind:value={selectedTheme}\n\t\t\t\t\t\tplaceholder=\"Select a theme\"\n\t\t\t\t\t\ton:change={() => themeChangeHandler(selectedTheme)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"system\">⚙️ {$i18n.t('System')}</option>\n\t\t\t\t\t\t<option value=\"dark\">🌑 {$i18n.t('Dark')}</option>\n\t\t\t\t\t\t<option value=\"oled-dark\">🌃 {$i18n.t('OLED Dark')}</option>\n\t\t\t\t\t\t<option value=\"light\">☀️ {$i18n.t('Light')}</option>\n\t\t\t\t\t\t<option value=\"her\">🌷 Her</option>\n\t\t\t\t\t\t<!-- <option value=\"rose-pine dark\">🪻 {$i18n.t('Rosé Pine')}</option>\n\t\t\t\t\t\t<option value=\"rose-pine-dawn light\">🌷 {$i18n.t('Rosé Pine Dawn')}</option> -->\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\" flex w-full justify-between\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Language')}</div>\n\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t<select\n\t\t\t\t\t\tclass=\" dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right\"\n\t\t\t\t\t\tbind:value={lang}\n\t\t\t\t\t\tplaceholder=\"Select a language\"\n\t\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\t\t$i18n.changeLanguage(lang);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{#each languages as language}\n\t\t\t\t\t\t\t<option value={language['code']}>{language['title']}</option>\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{#if $i18n.language === 'en-US'}\n\t\t\t\t<div class=\"mb-2 text-xs text-gray-400 dark:text-gray-500\">\n\t\t\t\t\tCouldn't find your language?\n\t\t\t\t\t<a\n\t\t\t\t\t\tclass=\" text-gray-300 font-medium underline\"\n\t\t\t\t\t\thref=\"https://github.com/open-webui/open-webui/blob/main/docs/CONTRIBUTING.md#-translations-and-internationalization\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t>\n\t\t\t\t\t\tHelp us translate Open WebUI!\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t{/if}\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Notifications')}</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttoggleNotification();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if notificationEnabled === true}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t{#if $user.role === 'admin' || $user?.permissions.chat?.controls}\n\t\t\t<hr class=\" dark:border-gray-850 my-3\" />\n\n\t\t\t<div>\n\t\t\t\t<div class=\" my-2.5 text-sm font-medium\">{$i18n.t('System Prompt')}</div>\n\t\t\t\t<textarea\n\t\t\t\t\tbind:value={system}\n\t\t\t\t\tclass=\"w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none\"\n\t\t\t\t\trows=\"4\"\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div class=\"mt-2 space-y-3 pr-1.5\">\n\t\t\t\t<div class=\"flex justify-between items-center text-sm\">\n\t\t\t\t\t<div class=\"  font-medium\">{$i18n.t('Advanced Parameters')}</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\" text-xs font-medium text-gray-500\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tshowAdvanced = !showAdvanced;\n\t\t\t\t\t\t}}>{showAdvanced ? $i18n.t('Hide') : $i18n.t('Show')}</button\n\t\t\t\t\t>\n\t\t\t\t</div>\n\n\t\t\t\t{#if showAdvanced}\n\t\t\t\t\t<AdvancedParams admin={$user?.role === 'admin'} bind:params />\n\t\t\t\t\t<hr class=\" dark:border-gray-850\" />\n\n\t\t\t\t\t<div class=\" py-1 w-full justify-between\">\n\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Keep Alive')}</div>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tkeepAlive = keepAlive === null ? '5m' : null;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{#if keepAlive === null}\n\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\"> {$i18n.t('Default')} </span>\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\"> {$i18n.t('Custom')} </span>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if keepAlive !== null}\n\t\t\t\t\t\t\t<div class=\"flex mt-1 space-x-2\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\"e.g. '30s','10m'. Valid time units are 's', 'm', 'h'.\")}\n\t\t\t\t\t\t\t\t\tbind:value={keepAlive}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\" py-1 flex w-full justify-between\">\n\t\t\t\t\t\t\t<div class=\" self-center text-sm font-medium\">{$i18n.t('Request Mode')}</div>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\ttoggleRequestFormat();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{#if requestFormat === ''}\n\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\"> {$i18n.t('Default')} </span>\n\t\t\t\t\t\t\t\t{:else if requestFormat === 'json'}\n\t\t\t\t\t\t\t\t\t<!-- <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            viewBox=\"0 0 20 20\"\n                            fill=\"currentColor\"\n                            class=\"w-4 h-4 self-center\"\n                        >\n                            <path\n                                d=\"M10 2a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 2zM10 15a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 15zM10 7a3 3 0 100 6 3 3 0 000-6zM15.657 5.404a.75.75 0 10-1.06-1.06l-1.061 1.06a.75.75 0 001.06 1.06l1.06-1.06zM6.464 14.596a.75.75 0 10-1.06-1.06l-1.06 1.06a.75.75 0 001.06 1.06l1.06-1.06zM18 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0118 10zM5 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 015 10zM14.596 15.657a.75.75 0 001.06-1.06l-1.06-1.061a.75.75 0 10-1.06 1.06l1.06 1.06zM5.404 6.464a.75.75 0 001.06-1.06l-1.06-1.06a.75.75 0 10-1.061 1.06l1.06 1.06z\"\n                            />\n                        </svg> -->\n\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\"> {$i18n.t('JSON')} </span>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t<button\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\ton:click={() => {\n\t\t\t\tsaveSettings({\n\t\t\t\t\tsystem: system !== '' ? system : undefined,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tstream_response: params.stream_response !== null ? params.stream_response : undefined,\n\t\t\t\t\t\tseed: (params.seed !== null ? params.seed : undefined) ?? undefined,\n\t\t\t\t\t\tstop: params.stop ? params.stop.split(',').filter((e) => e) : undefined,\n\t\t\t\t\t\ttemperature: params.temperature !== null ? params.temperature : undefined,\n\t\t\t\t\t\tfrequency_penalty:\n\t\t\t\t\t\t\tparams.frequency_penalty !== null ? params.frequency_penalty : undefined,\n\t\t\t\t\t\trepeat_last_n: params.repeat_last_n !== null ? params.repeat_last_n : undefined,\n\t\t\t\t\t\tmirostat: params.mirostat !== null ? params.mirostat : undefined,\n\t\t\t\t\t\tmirostat_eta: params.mirostat_eta !== null ? params.mirostat_eta : undefined,\n\t\t\t\t\t\tmirostat_tau: params.mirostat_tau !== null ? params.mirostat_tau : undefined,\n\t\t\t\t\t\ttop_k: params.top_k !== null ? params.top_k : undefined,\n\t\t\t\t\t\ttop_p: params.top_p !== null ? params.top_p : undefined,\n\t\t\t\t\t\tmin_p: params.min_p !== null ? params.min_p : undefined,\n\t\t\t\t\t\ttfs_z: params.tfs_z !== null ? params.tfs_z : undefined,\n\t\t\t\t\t\tnum_ctx: params.num_ctx !== null ? params.num_ctx : undefined,\n\t\t\t\t\t\tnum_batch: params.num_batch !== null ? params.num_batch : undefined,\n\t\t\t\t\t\tnum_keep: params.num_keep !== null ? params.num_keep : undefined,\n\t\t\t\t\t\tmax_tokens: params.max_tokens !== null ? params.max_tokens : undefined,\n\t\t\t\t\t\tuse_mmap: params.use_mmap !== null ? params.use_mmap : undefined,\n\t\t\t\t\t\tuse_mlock: params.use_mlock !== null ? params.use_mlock : undefined,\n\t\t\t\t\t\tnum_thread: params.num_thread !== null ? params.num_thread : undefined,\n\t\t\t\t\t\tnum_gpu: params.num_gpu !== null ? params.num_gpu : undefined\n\t\t\t\t\t},\n\t\t\t\t\tkeepAlive: keepAlive ? (isNaN(keepAlive) ? keepAlive : parseInt(keepAlive)) : undefined\n\t\t\t\t});\n\t\t\t\tdispatch('save');\n\t\t\t}}\n\t\t>\n\t\t\t{$i18n.t('Save')}\n\t\t</button>\n\t</div>\n</div>\n","<script lang=\"ts\">\n\timport { getBackendConfig } from '$lib/apis';\n\timport { setDefaultPromptSuggestions } from '$lib/apis/configs';\n\timport { config, models, settings, user } from '$lib/stores';\n\timport { createEventDispatcher, onMount, getContext } from 'svelte';\n\timport { toast } from 'svelte-sonner';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport { updateUserInfo } from '$lib/apis/users';\n\timport { getUserPosition } from '$lib/utils';\n\tconst dispatch = createEventDispatcher();\n\n\tconst i18n = getContext('i18n');\n\n\texport let saveSettings: Function;\n\n\tlet backgroundImageUrl = null;\n\tlet inputFiles = null;\n\tlet filesInputElement;\n\n\t// Addons\n\tlet titleAutoGenerate = true;\n\tlet autoTags = true;\n\n\tlet responseAutoCopy = false;\n\tlet widescreenMode = false;\n\tlet splitLargeChunks = false;\n\tlet scrollOnBranchChange = true;\n\tlet userLocation = false;\n\n\t// Interface\n\tlet defaultModelId = '';\n\tlet showUsername = false;\n\tlet richTextInput = true;\n\tlet largeTextAsFile = false;\n\tlet notificationSound = true;\n\n\tlet landingPageMode = '';\n\tlet chatBubble = true;\n\tlet chatDirection: 'LTR' | 'RTL' = 'LTR';\n\n\tlet imageCompression = false;\n\tlet imageCompressionSize = {\n\t\twidth: '',\n\t\theight: ''\n\t};\n\n\t// Admin - Show Update Available Toast\n\tlet showUpdateToast = true;\n\tlet showChangelog = true;\n\n\tlet showEmojiInCall = false;\n\tlet voiceInterruption = false;\n\tlet hapticFeedback = false;\n\n\tconst toggleSplitLargeChunks = async () => {\n\t\tsplitLargeChunks = !splitLargeChunks;\n\t\tsaveSettings({ splitLargeChunks: splitLargeChunks });\n\t};\n\n\tconst togglesScrollOnBranchChange = async () => {\n\t\tscrollOnBranchChange = !scrollOnBranchChange;\n\t\tsaveSettings({ scrollOnBranchChange: scrollOnBranchChange });\n\t};\n\n\tconst toggleWidescreenMode = async () => {\n\t\twidescreenMode = !widescreenMode;\n\t\tsaveSettings({ widescreenMode: widescreenMode });\n\t};\n\n\tconst toggleChatBubble = async () => {\n\t\tchatBubble = !chatBubble;\n\t\tsaveSettings({ chatBubble: chatBubble });\n\t};\n\n\tconst toggleLandingPageMode = async () => {\n\t\tlandingPageMode = landingPageMode === '' ? 'chat' : '';\n\t\tsaveSettings({ landingPageMode: landingPageMode });\n\t};\n\n\tconst toggleShowUpdateToast = async () => {\n\t\tshowUpdateToast = !showUpdateToast;\n\t\tsaveSettings({ showUpdateToast: showUpdateToast });\n\t};\n\n\tconst toggleNotificationSound = async () => {\n\t\tnotificationSound = !notificationSound;\n\t\tsaveSettings({ notificationSound: notificationSound });\n\t};\n\n\tconst toggleShowChangelog = async () => {\n\t\tshowChangelog = !showChangelog;\n\t\tsaveSettings({ showChangelog: showChangelog });\n\t};\n\n\tconst toggleShowUsername = async () => {\n\t\tshowUsername = !showUsername;\n\t\tsaveSettings({ showUsername: showUsername });\n\t};\n\n\tconst toggleEmojiInCall = async () => {\n\t\tshowEmojiInCall = !showEmojiInCall;\n\t\tsaveSettings({ showEmojiInCall: showEmojiInCall });\n\t};\n\n\tconst toggleVoiceInterruption = async () => {\n\t\tvoiceInterruption = !voiceInterruption;\n\t\tsaveSettings({ voiceInterruption: voiceInterruption });\n\t};\n\n\tconst toggleImageCompression = async () => {\n\t\timageCompression = !imageCompression;\n\t\tsaveSettings({ imageCompression });\n\t};\n\n\tconst toggleHapticFeedback = async () => {\n\t\thapticFeedback = !hapticFeedback;\n\t\tsaveSettings({ hapticFeedback: hapticFeedback });\n\t};\n\n\tconst toggleUserLocation = async () => {\n\t\tuserLocation = !userLocation;\n\n\t\tif (userLocation) {\n\t\t\tconst position = await getUserPosition().catch((error) => {\n\t\t\t\ttoast.error(error.message);\n\t\t\t\treturn null;\n\t\t\t});\n\n\t\t\tif (position) {\n\t\t\t\tawait updateUserInfo(localStorage.token, { location: position });\n\t\t\t\ttoast.success($i18n.t('User location successfully retrieved.'));\n\t\t\t} else {\n\t\t\t\tuserLocation = false;\n\t\t\t}\n\t\t}\n\n\t\tsaveSettings({ userLocation });\n\t};\n\n\tconst toggleTitleAutoGenerate = async () => {\n\t\ttitleAutoGenerate = !titleAutoGenerate;\n\t\tsaveSettings({\n\t\t\ttitle: {\n\t\t\t\t...$settings.title,\n\t\t\t\tauto: titleAutoGenerate\n\t\t\t}\n\t\t});\n\t};\n\n\tconst toggleAutoTags = async () => {\n\t\tautoTags = !autoTags;\n\t\tsaveSettings({ autoTags });\n\t};\n\n\tconst toggleRichTextInput = async () => {\n\t\trichTextInput = !richTextInput;\n\t\tsaveSettings({ richTextInput });\n\t};\n\n\tconst toggleLargeTextAsFile = async () => {\n\t\tlargeTextAsFile = !largeTextAsFile;\n\t\tsaveSettings({ largeTextAsFile });\n\t};\n\n\tconst toggleResponseAutoCopy = async () => {\n\t\tconst permission = await navigator.clipboard\n\t\t\t.readText()\n\t\t\t.then(() => {\n\t\t\t\treturn 'granted';\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn '';\n\t\t\t});\n\n\t\tconsole.log(permission);\n\n\t\tif (permission === 'granted') {\n\t\t\tresponseAutoCopy = !responseAutoCopy;\n\t\t\tsaveSettings({ responseAutoCopy: responseAutoCopy });\n\t\t} else {\n\t\t\ttoast.error(\n\t\t\t\t$i18n.t(\n\t\t\t\t\t'Clipboard write permission denied. Please check your browser settings to grant the necessary access.'\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t};\n\n\tconst toggleChangeChatDirection = async () => {\n\t\tchatDirection = chatDirection === 'LTR' ? 'RTL' : 'LTR';\n\t\tsaveSettings({ chatDirection });\n\t};\n\n\tconst updateInterfaceHandler = async () => {\n\t\tsaveSettings({\n\t\t\tmodels: [defaultModelId],\n\t\t\timageCompressionSize: imageCompressionSize\n\t\t});\n\t};\n\n\tonMount(async () => {\n\t\ttitleAutoGenerate = $settings?.title?.auto ?? true;\n\t\tautoTags = $settings.autoTags ?? true;\n\n\t\tresponseAutoCopy = $settings.responseAutoCopy ?? false;\n\n\t\tshowUsername = $settings.showUsername ?? false;\n\t\tshowUpdateToast = $settings.showUpdateToast ?? true;\n\t\tshowChangelog = $settings.showChangelog ?? true;\n\n\t\tshowEmojiInCall = $settings.showEmojiInCall ?? false;\n\t\tvoiceInterruption = $settings.voiceInterruption ?? false;\n\n\t\trichTextInput = $settings.richTextInput ?? true;\n\t\tlargeTextAsFile = $settings.largeTextAsFile ?? false;\n\n\t\tlandingPageMode = $settings.landingPageMode ?? '';\n\t\tchatBubble = $settings.chatBubble ?? true;\n\t\twidescreenMode = $settings.widescreenMode ?? false;\n\t\tsplitLargeChunks = $settings.splitLargeChunks ?? false;\n\t\tscrollOnBranchChange = $settings.scrollOnBranchChange ?? true;\n\t\tchatDirection = $settings.chatDirection ?? 'LTR';\n\t\tuserLocation = $settings.userLocation ?? false;\n\n\t\tnotificationSound = $settings.notificationSound ?? true;\n\n\t\thapticFeedback = $settings.hapticFeedback ?? false;\n\n\t\timageCompression = $settings.imageCompression ?? false;\n\t\timageCompressionSize = $settings.imageCompressionSize ?? { width: '', height: '' };\n\n\t\tdefaultModelId = $settings?.models?.at(0) ?? '';\n\t\tif ($config?.default_models) {\n\t\t\tdefaultModelId = $config.default_models.split(',')[0];\n\t\t}\n\n\t\tbackgroundImageUrl = $settings.backgroundImageUrl ?? null;\n\t});\n</script>\n\n<form\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\n\ton:submit|preventDefault={() => {\n\t\tupdateInterfaceHandler();\n\t\tdispatch('save');\n\t}}\n>\n\t<input\n\t\tbind:this={filesInputElement}\n\t\tbind:files={inputFiles}\n\t\ttype=\"file\"\n\t\thidden\n\t\taccept=\"image/*\"\n\t\ton:change={() => {\n\t\t\tlet reader = new FileReader();\n\t\t\treader.onload = (event) => {\n\t\t\t\tlet originalImageUrl = `${event.target.result}`;\n\n\t\t\t\tbackgroundImageUrl = originalImageUrl;\n\t\t\t\tsaveSettings({ backgroundImageUrl });\n\t\t\t};\n\n\t\t\tif (\n\t\t\t\tinputFiles &&\n\t\t\t\tinputFiles.length > 0 &&\n\t\t\t\t['image/gif', 'image/webp', 'image/jpeg', 'image/png'].includes(inputFiles[0]['type'])\n\t\t\t) {\n\t\t\t\treader.readAsDataURL(inputFiles[0]);\n\t\t\t} else {\n\t\t\t\tconsole.log(`Unsupported File Type '${inputFiles[0]['type']}'.`);\n\t\t\t\tinputFiles = null;\n\t\t\t}\n\t\t}}\n\t/>\n\n\t<div class=\" space-y-3 overflow-y-scroll max-h-[28rem] lg:max-h-full\">\n\t\t<div>\n\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('UI')}</div>\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">{$i18n.t('Landing Page Mode')}</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttoggleLandingPageMode();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if landingPageMode === ''}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Default')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Chat')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">{$i18n.t('Chat Bubble UI')}</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttoggleChatBubble();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if chatBubble === true}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{#if !$settings.chatBubble}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs\">\n\t\t\t\t\t\t\t{$i18n.t('Display the username instead of You in the Chat')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\ttoggleShowUsername();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if showUsername === true}\n\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">{$i18n.t('Widescreen Mode')}</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttoggleWidescreenMode();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if widescreenMode === true}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">{$i18n.t('Chat direction')}</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={toggleChangeChatDirection}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if chatDirection === 'LTR'}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('LTR')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('RTL')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">\n\t\t\t\t\t\t{$i18n.t('Notification Sound')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttoggleNotificationSound();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if notificationSound === true}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{#if $user.role === 'admin'}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs\">\n\t\t\t\t\t\t\t{$i18n.t('Toast notifications for new updates')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\ttoggleShowUpdateToast();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if showUpdateToast === true}\n\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs\">\n\t\t\t\t\t\t\t{$i18n.t(`Show \"What's New\" modal on login`)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\ttoggleShowChangelog();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if showChangelog === true}\n\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\n\t\t\t<div class=\" my-1.5 text-sm font-medium\">{$i18n.t('Chat')}</div>\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">{$i18n.t('Title Auto-Generation')}</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttoggleTitleAutoGenerate();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if titleAutoGenerate === true}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">{$i18n.t('Chat Tags Auto-Generation')}</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttoggleAutoTags();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if autoTags === true}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">\n\t\t\t\t\t\t{$i18n.t('Auto-Copy Response to Clipboard')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttoggleResponseAutoCopy();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if responseAutoCopy === true}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">\n\t\t\t\t\t\t{$i18n.t('Rich Text Input for Chat')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttoggleRichTextInput();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if richTextInput === true}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">\n\t\t\t\t\t\t{$i18n.t('Paste Large Text as File')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttoggleLargeTextAsFile();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if largeTextAsFile === true}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">\n\t\t\t\t\t\t{$i18n.t('Chat Background Image')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tif (backgroundImageUrl !== null) {\n\t\t\t\t\t\t\t\tbackgroundImageUrl = null;\n\t\t\t\t\t\t\t\tsaveSettings({ backgroundImageUrl });\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfilesInputElement.click();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if backgroundImageUrl !== null}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Reset')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Upload')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">{$i18n.t('Allow User Location')}</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttoggleUserLocation();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if userLocation === true}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">{$i18n.t('Haptic Feedback')}</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttoggleHapticFeedback();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if hapticFeedback === true}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- <div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">\n\t\t\t\t\t\t{$i18n.t('Fluidly stream large external response chunks')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttoggleSplitLargeChunks();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if splitLargeChunks === true}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div> -->\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">\n\t\t\t\t\t\t{$i18n.t('Scroll to bottom when switching between branches')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttogglesScrollOnBranchChange();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if scrollOnBranchChange === true}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\" my-1.5 text-sm font-medium\">{$i18n.t('Voice')}</div>\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">{$i18n.t('Allow Voice Interruption in Call')}</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttoggleVoiceInterruption();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if voiceInterruption === true}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">{$i18n.t('Display Emoji in Call')}</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttoggleEmojiInCall();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if showEmojiInCall === true}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\" my-1.5 text-sm font-medium\">{$i18n.t('File')}</div>\n\n\t\t\t<div>\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs\">{$i18n.t('Image Compression')}</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\ttoggleImageCompression();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if imageCompression === true}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{#if imageCompression}\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\" py-0.5 flex w-full justify-between text-xs\">\n\t\t\t\t\t\t<div class=\" self-center text-xs\">{$i18n.t('Image Max Compression Size')}</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tbind:value={imageCompressionSize.width}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tclass=\"w-20 bg-transparent outline-none text-center\"\n\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\tplaceholder=\"Width\"\n\t\t\t\t\t\t\t/>x\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tbind:value={imageCompressionSize.height}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tclass=\"w-20 bg-transparent outline-none text-center\"\n\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\tplaceholder=\"Height\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\t</div>\n\n\t<div class=\"flex justify-end text-sm font-medium\">\n\t\t<button\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\ttype=\"submit\"\n\t\t>\n\t\t\t{$i18n.t('Save')}\n\t\t</button>\n\t</div>\n</form>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { createEventDispatcher, onMount, getContext } from 'svelte';\n\n\timport { user, settings, config } from '$lib/stores';\n\timport { getVoices as _getVoices } from '$lib/apis/audio';\n\n\timport Switch from '$lib/components/common/Switch.svelte';\n\tconst dispatch = createEventDispatcher();\n\n\tconst i18n = getContext('i18n');\n\n\texport let saveSettings: Function;\n\n\t// Audio\n\tlet conversationMode = false;\n\tlet speechAutoSend = false;\n\tlet responseAutoPlayback = false;\n\tlet nonLocalVoices = false;\n\n\tlet STTEngine = '';\n\n\tlet voices = [];\n\tlet voice = '';\n\n\t// Audio speed control\n\tlet playbackRate = 1;\n\tconst speedOptions = [2, 1.75, 1.5, 1.25, 1, 0.75, 0.5];\n\n\tconst getVoices = async () => {\n\t\tif ($config.audio.tts.engine === '') {\n\t\t\tconst getVoicesLoop = setInterval(async () => {\n\t\t\t\tvoices = await speechSynthesis.getVoices();\n\n\t\t\t\t// do your loop\n\t\t\t\tif (voices.length > 0) {\n\t\t\t\t\tclearInterval(getVoicesLoop);\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t} else {\n\t\t\tconst res = await _getVoices(localStorage.token).catch((e) => {\n\t\t\t\ttoast.error(e);\n\t\t\t});\n\n\t\t\tif (res) {\n\t\t\t\tconsole.log(res);\n\t\t\t\tvoices = res.voices;\n\t\t\t}\n\t\t}\n\t};\n\n\tconst toggleResponseAutoPlayback = async () => {\n\t\tresponseAutoPlayback = !responseAutoPlayback;\n\t\tsaveSettings({ responseAutoPlayback: responseAutoPlayback });\n\t};\n\n\tconst toggleSpeechAutoSend = async () => {\n\t\tspeechAutoSend = !speechAutoSend;\n\t\tsaveSettings({ speechAutoSend: speechAutoSend });\n\t};\n\n\tonMount(async () => {\n\t\tplaybackRate = $settings.audio?.tts?.playbackRate ?? 1;\n\t\tconversationMode = $settings.conversationMode ?? false;\n\t\tspeechAutoSend = $settings.speechAutoSend ?? false;\n\t\tresponseAutoPlayback = $settings.responseAutoPlayback ?? false;\n\n\t\tSTTEngine = $settings?.audio?.stt?.engine ?? '';\n\n\t\tif ($settings?.audio?.tts?.defaultVoice === $config.audio.tts.voice) {\n\t\t\tvoice = $settings?.audio?.tts?.voice ?? $config.audio.tts.voice ?? '';\n\t\t} else {\n\t\t\tvoice = $config.audio.tts.voice ?? '';\n\t\t}\n\n\t\tnonLocalVoices = $settings.audio?.tts?.nonLocalVoices ?? false;\n\n\t\tawait getVoices();\n\t});\n</script>\n\n<form\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\n\ton:submit|preventDefault={async () => {\n\t\tsaveSettings({\n\t\t\taudio: {\n\t\t\t\tstt: {\n\t\t\t\t\tengine: STTEngine !== '' ? STTEngine : undefined\n\t\t\t\t},\n\t\t\t\ttts: {\n\t\t\t\t\tplaybackRate: playbackRate,\n\t\t\t\t\tvoice: voice !== '' ? voice : undefined,\n\t\t\t\t\tdefaultVoice: $config?.audio?.tts?.voice ?? '',\n\t\t\t\t\tnonLocalVoices: $config.audio.tts.engine === '' ? nonLocalVoices : undefined\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tdispatch('save');\n\t}}\n>\n\t<div class=\" space-y-3 overflow-y-scroll max-h-[28rem] lg:max-h-full\">\n\t\t<div>\n\t\t\t<div class=\" mb-1 text-sm font-medium\">{$i18n.t('STT Settings')}</div>\n\n\t\t\t{#if $config.audio.stt.engine !== 'web'}\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Speech-to-Text Engine')}</div>\n\t\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right\"\n\t\t\t\t\t\t\tbind:value={STTEngine}\n\t\t\t\t\t\t\tplaceholder=\"Select an engine\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">{$i18n.t('Default')}</option>\n\t\t\t\t\t\t\t<option value=\"web\">{$i18n.t('Web API')}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\n\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\n\t\t\t\t\t{$i18n.t('Instant Auto-Send After Voice Transcription')}\n\t\t\t\t</div>\n\n\t\t\t\t<button\n\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\ttoggleSpeechAutoSend();\n\t\t\t\t\t}}\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t>\n\t\t\t\t\t{#if speechAutoSend === true}\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t{/if}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<div class=\" mb-1 text-sm font-medium\">{$i18n.t('TTS Settings')}</div>\n\n\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Auto-playback response')}</div>\n\n\t\t\t\t<button\n\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\ttoggleResponseAutoPlayback();\n\t\t\t\t\t}}\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t>\n\t\t\t\t\t{#if responseAutoPlayback === true}\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\n\t\t\t\t\t{/if}\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\n\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Speech Playback Speed')}</div>\n\n\t\t\t\t<div class=\"flex items-center relative\">\n\t\t\t\t\t<select\n\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right\"\n\t\t\t\t\t\tbind:value={playbackRate}\n\t\t\t\t\t>\n\t\t\t\t\t\t{#each speedOptions as option}\n\t\t\t\t\t\t\t<option value={option} selected={playbackRate === option}>{option}x</option>\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<hr class=\" dark:border-gray-850\" />\n\n\t\t{#if $config.audio.tts.engine === ''}\n\t\t\t<div>\n\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">{$i18n.t('Set Voice')}</div>\n\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\n\t\t\t\t\t\t\tbind:value={voice}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\" selected={voice !== ''}>{$i18n.t('Default')}</option>\n\t\t\t\t\t\t\t{#each voices.filter((v) => nonLocalVoices || v.localService === true) as _voice}\n\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\tvalue={_voice.name}\n\t\t\t\t\t\t\t\t\tclass=\"bg-gray-100 dark:bg-gray-700\"\n\t\t\t\t\t\t\t\t\tselected={voice === _voice.name}>{_voice.name}</option\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex items-center justify-between my-1.5\">\n\t\t\t\t\t<div class=\"text-xs\">\n\t\t\t\t\t\t{$i18n.t('Allow non-local voices')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mt-1\">\n\t\t\t\t\t\t<Switch bind:state={nonLocalVoices} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{:else if $config.audio.tts.engine !== ''}\n\t\t\t<div>\n\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">{$i18n.t('Set Voice')}</div>\n\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tlist=\"voice-list\"\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\n\t\t\t\t\t\t\tbind:value={voice}\n\t\t\t\t\t\t\tplaceholder=\"Select a voice\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<datalist id=\"voice-list\">\n\t\t\t\t\t\t\t{#each voices as voice}\n\t\t\t\t\t\t\t\t<option value={voice.id}>{voice.name}</option>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</datalist>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\n\t<div class=\"flex justify-end text-sm font-medium\">\n\t\t<button\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\ttype=\"submit\"\n\t\t>\n\t\t\t{$i18n.t('Save')}\n\t\t</button>\n\t</div>\n</form>\n","<script lang=\"ts\">\n\timport fileSaver from 'file-saver';\n\tconst { saveAs } = fileSaver;\n\n\timport { chats, user, settings, scrollPaginationEnabled, currentChatPage } from '$lib/stores';\n\n\timport {\n\t\tarchiveAllChats,\n\t\tcreateNewChat,\n\t\tdeleteAllChats,\n\t\tgetAllChats,\n\t\tgetAllUserChats,\n\t\tgetChatList\n\t} from '$lib/apis/chats';\n\timport { getImportOrigin, convertOpenAIChats } from '$lib/utils';\n\timport { onMount, getContext } from 'svelte';\n\timport { goto } from '$app/navigation';\n\timport { toast } from 'svelte-sonner';\n\n\tconst i18n = getContext('i18n');\n\n\texport let saveSettings: Function;\n\n\t// Chats\n\tlet importFiles;\n\n\tlet showArchiveConfirm = false;\n\tlet showDeleteConfirm = false;\n\n\tlet chatImportInputElement: HTMLInputElement;\n\n\t$: if (importFiles) {\n\t\tconsole.log(importFiles);\n\n\t\tlet reader = new FileReader();\n\t\treader.onload = (event) => {\n\t\t\tlet chats = JSON.parse(event.target.result);\n\t\t\tconsole.log(chats);\n\t\t\tif (getImportOrigin(chats) == 'openai') {\n\t\t\t\ttry {\n\t\t\t\t\tchats = convertOpenAIChats(chats);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log('Unable to import chats:', error);\n\t\t\t\t}\n\t\t\t}\n\t\t\timportChats(chats);\n\t\t};\n\n\t\tif (importFiles.length > 0) {\n\t\t\treader.readAsText(importFiles[0]);\n\t\t}\n\t}\n\n\tconst importChats = async (_chats) => {\n\t\tfor (const chat of _chats) {\n\t\t\tconsole.log(chat);\n\n\t\t\tif (chat.chat) {\n\t\t\t\tawait createNewChat(localStorage.token, chat.chat);\n\t\t\t} else {\n\t\t\t\tawait createNewChat(localStorage.token, chat);\n\t\t\t}\n\t\t}\n\n\t\tcurrentChatPage.set(1);\n\t\tawait chats.set(await getChatList(localStorage.token, $currentChatPage));\n\t\tscrollPaginationEnabled.set(true);\n\t};\n\n\tconst exportChats = async () => {\n\t\tlet blob = new Blob([JSON.stringify(await getAllChats(localStorage.token))], {\n\t\t\ttype: 'application/json'\n\t\t});\n\t\tsaveAs(blob, `chat-export-${Date.now()}.json`);\n\t};\n\n\tconst archiveAllChatsHandler = async () => {\n\t\tawait goto('/');\n\t\tawait archiveAllChats(localStorage.token).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t});\n\n\t\tcurrentChatPage.set(1);\n\t\tawait chats.set(await getChatList(localStorage.token, $currentChatPage));\n\t\tscrollPaginationEnabled.set(true);\n\t};\n\n\tconst deleteAllChatsHandler = async () => {\n\t\tawait goto('/');\n\t\tawait deleteAllChats(localStorage.token).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t});\n\n\t\tcurrentChatPage.set(1);\n\t\tawait chats.set(await getChatList(localStorage.token, $currentChatPage));\n\t\tscrollPaginationEnabled.set(true);\n\t};\n</script>\n\n<div class=\"flex flex-col h-full justify-between space-y-3 text-sm\">\n\t<div class=\" space-y-2 overflow-y-scroll max-h-[28rem] lg:max-h-full\">\n\t\t<div class=\"flex flex-col\">\n\t\t\t<input\n\t\t\t\tid=\"chat-import-input\"\n\t\t\t\tbind:this={chatImportInputElement}\n\t\t\t\tbind:files={importFiles}\n\t\t\t\ttype=\"file\"\n\t\t\t\taccept=\".json\"\n\t\t\t\thidden\n\t\t\t/>\n\t\t\t<button\n\t\t\t\tclass=\" flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tchatImportInputElement.click();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\" self-center mr-3\">\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z\"\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t<div class=\" self-center text-sm font-medium\">{$i18n.t('Import Chats')}</div>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tclass=\" flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\texportChats();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\" self-center mr-3\">\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z\"\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t<div class=\" self-center text-sm font-medium\">{$i18n.t('Export Chats')}</div>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<hr class=\" dark:border-gray-850\" />\n\n\t\t<div class=\"flex flex-col\">\n\t\t\t{#if showArchiveConfirm}\n\t\t\t\t<div class=\"flex justify-between rounded-md items-center py-2 px-3.5 w-full transition\">\n\t\t\t\t\t<div class=\"flex items-center space-x-3\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path d=\"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z\" />\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t<span>{$i18n.t('Are you sure?')}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex space-x-1.5 items-center\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"hover:text-white transition\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tarchiveAllChatsHandler();\n\t\t\t\t\t\t\t\tshowArchiveConfirm = false;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\td=\"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z\"\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"hover:text-white transition\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tshowArchiveConfirm = false;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{:else}\n\t\t\t\t<button\n\t\t\t\t\tclass=\" flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tshowArchiveConfirm = true;\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\" self-center mr-3\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\td=\"M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087Zm6.163 3.75A.75.75 0 0 1 10 12h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\" self-center text-sm font-medium\">{$i18n.t('Archive All Chats')}</div>\n\t\t\t\t</button>\n\t\t\t{/if}\n\n\t\t\t{#if showDeleteConfirm}\n\t\t\t\t<div class=\"flex justify-between rounded-md items-center py-2 px-3.5 w-full transition\">\n\t\t\t\t\t<div class=\"flex items-center space-x-3\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path d=\"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z\" />\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t<span>{$i18n.t('Are you sure?')}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex space-x-1.5 items-center\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"hover:text-white transition\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tdeleteAllChatsHandler();\n\t\t\t\t\t\t\t\tshowDeleteConfirm = false;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\td=\"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z\"\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"hover:text-white transition\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tshowDeleteConfirm = false;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{:else}\n\t\t\t\t<button\n\t\t\t\t\tclass=\" flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tshowDeleteConfirm = true;\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\" self-center mr-3\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\" self-center text-sm font-medium\">{$i18n.t('Delete All Chats')}</div>\n\t\t\t\t</button>\n\t\t\t{/if}\n\t\t</div>\n\t</div>\n</div>\n","<script>\n\timport { createEventDispatcher, getContext } from 'svelte';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport { addNewMemory, updateMemoryById } from '$lib/apis/memories';\n\timport { toast } from 'svelte-sonner';\n\n\tconst dispatch = createEventDispatcher();\n\n\texport let show;\n\tconst i18n = getContext('i18n');\n\n\tlet loading = false;\n\tlet content = '';\n\n\tconst submitHandler = async () => {\n\t\tloading = true;\n\n\t\tconst res = await addNewMemory(localStorage.token, content).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\tconsole.log(res);\n\t\t\ttoast.success($i18n.t('Memory added successfully'));\n\t\t\tcontent = '';\n\t\t\tshow = false;\n\t\t\tdispatch('save');\n\t\t}\n\n\t\tloading = false;\n\t};\n</script>\n\n<Modal bind:show size=\"sm\">\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-2\">\n\t\t\t<div class=\" text-lg font-medium self-center\">\n\t\t\t\t{$i18n.t('Add Memory')}\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\tbind:value={content}\n\t\t\t\t\t\t\tclass=\" bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800\"\n\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter a detail about yourself for your LLMs to recall')}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\tⓘ {$i18n.t('Refer to yourself as \"User\" (e.g., \"User is learning Spanish\")')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex justify-end pt-1 text-sm font-medium\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center {loading\n\t\t\t\t\t\t\t\t? ' cursor-not-allowed'\n\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{$i18n.t('Add')}\n\n\t\t\t\t\t\t\t{#if loading}\n\t\t\t\t\t\t\t\t<div class=\"ml-2 self-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t><style>\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</style><path\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\n\t\t\t\t\t\t\t\t\t\t/><path\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\n\t\t\t\t\t\t\t\t\t\t/></svg\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n","<script>\n\timport { createEventDispatcher, getContext } from 'svelte';\n\timport { toast } from 'svelte-sonner';\n\n\timport { updateMemoryById } from '$lib/apis/memories';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\n\tconst dispatch = createEventDispatcher();\n\n\texport let show;\n\texport let memory = {};\n\n\tconst i18n = getContext('i18n');\n\n\tlet loading = false;\n\tlet content = '';\n\n\t$: if (show) {\n\t\tsetContent();\n\t}\n\n\tconst setContent = () => {\n\t\tcontent = memory.content;\n\t};\n\n\tconst submitHandler = async () => {\n\t\tloading = true;\n\n\t\tconst res = await updateMemoryById(localStorage.token, memory.id, content).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\tconsole.log(res);\n\t\t\ttoast.success($i18n.t('Memory updated successfully'));\n\t\t\tdispatch('save');\n\t\t\tshow = false;\n\t\t}\n\n\t\tloading = false;\n\t};\n</script>\n\n<Modal bind:show size=\"sm\">\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-2\">\n\t\t\t<div class=\" text-lg font-medium self-center\">\n\t\t\t\t{$i18n.t('Edit Memory')}\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\tbind:value={content}\n\t\t\t\t\t\t\tclass=\" bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800\"\n\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter a detail about yourself for your LLMs to recall')}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\tⓘ {$i18n.t('Refer to yourself as \"User\" (e.g., \"User is learning Spanish\")')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex justify-end pt-1 text-sm font-medium\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center {loading\n\t\t\t\t\t\t\t\t? ' cursor-not-allowed'\n\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{$i18n.t('Update')}\n\n\t\t\t\t\t\t\t{#if loading}\n\t\t\t\t\t\t\t\t<div class=\"ml-2 self-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t><style>\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</style><path\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\n\t\t\t\t\t\t\t\t\t\t/><path\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\n\t\t\t\t\t\t\t\t\t\t/></svg\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport dayjs from 'dayjs';\n\timport { getContext, createEventDispatcher } from 'svelte';\n\n\tconst dispatch = createEventDispatcher();\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport AddMemoryModal from './AddMemoryModal.svelte';\n\timport { deleteMemoriesByUserId, deleteMemoryById, getMemories } from '$lib/apis/memories';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport { error } from '@sveltejs/kit';\n\timport EditMemoryModal from './EditMemoryModal.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let show = false;\n\n\tlet memories = [];\n\tlet loading = true;\n\n\tlet showAddMemoryModal = false;\n\tlet showEditMemoryModal = false;\n\n\tlet selectedMemory = null;\n\n\t$: if (show && memories.length === 0 && loading) {\n\t\t(async () => {\n\t\t\tmemories = await getMemories(localStorage.token);\n\t\t\tloading = false;\n\t\t})();\n\t}\n</script>\n\n<Modal size=\"xl\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-1\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Memory')}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full px-5 pb-5 dark:text-gray-200\">\n\t\t\t<div\n\t\t\t\tclass=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6 h-[28rem] max-h-screen outline outline-1 rounded-xl outline-gray-100 dark:outline-gray-800 mb-4 mt-1\"\n\t\t\t>\n\t\t\t\t{#if memories.length > 0}\n\t\t\t\t\t<div class=\"text-left text-sm w-full mb-4 overflow-y-scroll\">\n\t\t\t\t\t\t<div class=\"relative overflow-x-auto\">\n\t\t\t\t\t\t\t<table class=\"w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto\">\n\t\t\t\t\t\t\t\t<thead\n\t\t\t\t\t\t\t\t\tclass=\"text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"px-3 py-2\"> {$i18n.t('Name')} </th>\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"px-3 py-2 hidden md:flex\">\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Last Modified')}\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"px-3 py-2 text-right\" />\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{#each memories as memory}\n\t\t\t\t\t\t\t\t\t\t<tr class=\"border-b dark:border-gray-800 items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"px-3 py-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{memory.content}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\" px-3 py-1 hidden md:flex h-[2.5rem]\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"my-auto whitespace-nowrap\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{dayjs(memory.updated_at * 1000).format(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$i18n.t('MMMM DD, YYYY hh:mm:ss A')\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"px-3 py-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex justify-end w-full\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content=\"Edit\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedMemory = memory;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowEditMemoryModal = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4 s-FoVA_WMOgxUD\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"s-FoVA_WMOgxUD\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content=\"Delete\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst res = await deleteMemoryById(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmemory.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).catch((error) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoast.success($i18n.t('Memory deleted successfully'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmemories = await getMemories(localStorage.token);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"text-center flex h-full text-sm w-full\">\n\t\t\t\t\t\t<div class=\" my-auto pb-10 px-4 w-full text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t('Memories accessible by LLMs will be shown here.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"flex text-sm font-medium gap-1.5\">\n\t\t\t\t<button\n\t\t\t\t\tclass=\" px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tshowAddMemoryModal = true;\n\t\t\t\t\t}}>{$i18n.t('Add Memory')}</button\n\t\t\t\t>\n\t\t\t\t<button\n\t\t\t\t\tclass=\" px-3.5 py-1.5 font-medium text-red-500 hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-red-300 dark:outline-red-800 rounded-3xl\"\n\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\tconst res = await deleteMemoriesByUserId(localStorage.token).catch((error) => {\n\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\ttoast.success($i18n.t('Memory cleared successfully'));\n\t\t\t\t\t\t\tmemories = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t}}>{$i18n.t('Clear memory')}</button\n\t\t\t\t>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n\n<AddMemoryModal\n\tbind:show={showAddMemoryModal}\n\ton:save={async () => {\n\t\tmemories = await getMemories(localStorage.token);\n\t}}\n/>\n\n<EditMemoryModal\n\tbind:show={showEditMemoryModal}\n\tmemory={selectedMemory}\n\ton:save={async () => {\n\t\tmemories = await getMemories(localStorage.token);\n\t}}\n/>\n","<script lang=\"ts\">\n\timport { getBackendConfig } from '$lib/apis';\n\timport { setDefaultPromptSuggestions } from '$lib/apis/configs';\n\timport Switch from '$lib/components/common/Switch.svelte';\n\timport { config, models, settings, user } from '$lib/stores';\n\timport { createEventDispatcher, onMount, getContext, tick } from 'svelte';\n\timport { toast } from 'svelte-sonner';\n\timport ManageModal from './Personalization/ManageModal.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\tconst dispatch = createEventDispatcher();\n\n\tconst i18n = getContext('i18n');\n\n\texport let saveSettings: Function;\n\n\tlet showManageModal = false;\n\n\t// Addons\n\tlet enableMemory = false;\n\n\tonMount(async () => {\n\t\tenableMemory = $settings?.memory ?? false;\n\t});\n</script>\n\n<ManageModal bind:show={showManageModal} />\n\n<form\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\n\ton:submit|preventDefault={() => {\n\t\tdispatch('save');\n\t}}\n>\n\t<div class=\"py-1 overflow-y-scroll max-h-[28rem] lg:max-h-full\">\n\t\t<div>\n\t\t\t<div class=\"flex items-center justify-between mb-1\">\n\t\t\t\t<Tooltip\n\t\t\t\t\tcontent={$i18n.t(\n\t\t\t\t\t\t'This is an experimental feature, it may not function as expected and is subject to change at any time.'\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"text-sm font-medium\">\n\t\t\t\t\t\t{$i18n.t('Memory')}\n\n\t\t\t\t\t\t<span class=\" text-xs text-gray-500\">({$i18n.t('Experimental')})</span>\n\t\t\t\t\t</div>\n\t\t\t\t</Tooltip>\n\n\t\t\t\t<div class=\"\">\n\t\t\t\t\t<Switch\n\t\t\t\t\t\tbind:state={enableMemory}\n\t\t\t\t\t\ton:change={async () => {\n\t\t\t\t\t\t\tsaveSettings({ memory: enableMemory });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"text-xs text-gray-600 dark:text-gray-400\">\n\t\t\t<div>\n\t\t\t\t{$i18n.t(\n\t\t\t\t\t\"You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.\"\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<!-- <div class=\"mt-3\">\n\t\t\t\tTo understand what LLM remembers or teach it something new, just chat with it:\n\n\t\t\t\t<div>- “Remember that I like concise responses.”</div>\n\t\t\t\t<div>- “I just got a puppy!”</div>\n\t\t\t\t<div>- “What do you remember about me?”</div>\n\t\t\t\t<div>- “Where did we leave off on my last project?”</div>\n\t\t\t</div> -->\n\t\t</div>\n\n\t\t<div class=\"mt-3 mb-1 ml-1\">\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclass=\" px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshowManageModal = true;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{$i18n.t('Manage')}\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\n\t<div class=\"flex justify-end text-sm font-medium\">\n\t\t<button\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\ttype=\"submit\"\n\t\t>\n\t\t\t{$i18n.t('Save')}\n\t\t</button>\n\t</div>\n</form>\n","<script lang=\"ts\">\n\timport { getContext, tick } from 'svelte';\n\timport { toast } from 'svelte-sonner';\n\timport { models, settings, user } from '$lib/stores';\n\timport { updateUserSettings } from '$lib/apis/users';\n\timport { getModels as _getModels } from '$lib/apis';\n\timport { goto } from '$app/navigation';\n\n\timport Modal from '../common/Modal.svelte';\n\timport Account from './Settings/Account.svelte';\n\timport About from './Settings/About.svelte';\n\timport General from './Settings/General.svelte';\n\timport Interface from './Settings/Interface.svelte';\n\timport Audio from './Settings/Audio.svelte';\n\timport Chats from './Settings/Chats.svelte';\n\timport User from '../icons/User.svelte';\n\timport Personalization from './Settings/Personalization.svelte';\n\timport SearchInput from '../layout/Sidebar/SearchInput.svelte';\n\timport Search from '../icons/Search.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let show = false;\n\n\tinterface SettingsTab {\n\t\tid: string;\n\t\ttitle: string;\n\t\tkeywords: string[];\n\t}\n\n\tconst searchData: SettingsTab[] = [\n\t\t{\n\t\t\tid: 'general',\n\t\t\ttitle: 'General',\n\t\t\tkeywords: [\n\t\t\t\t'general',\n\t\t\t\t'theme',\n\t\t\t\t'language',\n\t\t\t\t'notifications',\n\t\t\t\t'system',\n\t\t\t\t'systemprompt',\n\t\t\t\t'prompt',\n\t\t\t\t'advanced',\n\t\t\t\t'settings',\n\t\t\t\t'defaultsettings',\n\t\t\t\t'configuration',\n\t\t\t\t'systemsettings',\n\t\t\t\t'notificationsettings',\n\t\t\t\t'systempromptconfig',\n\t\t\t\t'languageoptions',\n\t\t\t\t'defaultparameters',\n\t\t\t\t'systemparameters'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: 'interface',\n\t\t\ttitle: 'Interface',\n\t\t\tkeywords: [\n\t\t\t\t'defaultmodel',\n\t\t\t\t'selectmodel',\n\t\t\t\t'ui',\n\t\t\t\t'userinterface',\n\t\t\t\t'display',\n\t\t\t\t'layout',\n\t\t\t\t'design',\n\t\t\t\t'landingpage',\n\t\t\t\t'landingpagemode',\n\t\t\t\t'default',\n\t\t\t\t'chat',\n\t\t\t\t'chatbubble',\n\t\t\t\t'chatui',\n\t\t\t\t'username',\n\t\t\t\t'showusername',\n\t\t\t\t'displayusername',\n\t\t\t\t'widescreen',\n\t\t\t\t'widescreenmode',\n\t\t\t\t'fullscreen',\n\t\t\t\t'expandmode',\n\t\t\t\t'chatdirection',\n\t\t\t\t'lefttoright',\n\t\t\t\t'ltr',\n\t\t\t\t'righttoleft',\n\t\t\t\t'rtl',\n\t\t\t\t'notifications',\n\t\t\t\t'toast',\n\t\t\t\t'toastnotifications',\n\t\t\t\t'largechunks',\n\t\t\t\t'streamlargechunks',\n\t\t\t\t'scroll',\n\t\t\t\t'scrollonbranchchange',\n\t\t\t\t'scrollbehavior',\n\t\t\t\t'richtext',\n\t\t\t\t'richtextinput',\n\t\t\t\t'background',\n\t\t\t\t'chatbackground',\n\t\t\t\t'chatbackgroundimage',\n\t\t\t\t'backgroundimage',\n\t\t\t\t'uploadbackground',\n\t\t\t\t'resetbackground',\n\t\t\t\t'titleautogen',\n\t\t\t\t'titleautogeneration',\n\t\t\t\t'autotitle',\n\t\t\t\t'chattags',\n\t\t\t\t'autochattags',\n\t\t\t\t'responseautocopy',\n\t\t\t\t'clipboard',\n\t\t\t\t'location',\n\t\t\t\t'userlocation',\n\t\t\t\t'userlocationaccess',\n\t\t\t\t'haptic',\n\t\t\t\t'hapticfeedback',\n\t\t\t\t'vibration',\n\t\t\t\t'voice',\n\t\t\t\t'voicecontrol',\n\t\t\t\t'voiceinterruption',\n\t\t\t\t'call',\n\t\t\t\t'emojis',\n\t\t\t\t'displayemoji',\n\t\t\t\t'save',\n\t\t\t\t'interfaceoptions',\n\t\t\t\t'interfacecustomization'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: 'personalization',\n\t\t\ttitle: 'Personalization',\n\t\t\tkeywords: [\n\t\t\t\t'personalization',\n\t\t\t\t'memory',\n\t\t\t\t'personalize',\n\t\t\t\t'preferences',\n\t\t\t\t'profile',\n\t\t\t\t'personalsettings',\n\t\t\t\t'customsettings',\n\t\t\t\t'userpreferences',\n\t\t\t\t'accountpreferences'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: 'audio',\n\t\t\ttitle: 'Audio',\n\t\t\tkeywords: [\n\t\t\t\t'audio',\n\t\t\t\t'sound',\n\t\t\t\t'soundsettings',\n\t\t\t\t'audiocontrol',\n\t\t\t\t'volume',\n\t\t\t\t'speech',\n\t\t\t\t'speechrecognition',\n\t\t\t\t'stt',\n\t\t\t\t'speechtotext',\n\t\t\t\t'tts',\n\t\t\t\t'texttospeech',\n\t\t\t\t'playback',\n\t\t\t\t'playbackspeed',\n\t\t\t\t'voiceplayback',\n\t\t\t\t'speechplayback',\n\t\t\t\t'audiooutput',\n\t\t\t\t'speechengine',\n\t\t\t\t'voicecontrol',\n\t\t\t\t'audioplayback',\n\t\t\t\t'transcription',\n\t\t\t\t'autotranscribe',\n\t\t\t\t'autosend',\n\t\t\t\t'speechsettings',\n\t\t\t\t'audiovoice',\n\t\t\t\t'voiceoptions',\n\t\t\t\t'setvoice',\n\t\t\t\t'nonlocalvoices',\n\t\t\t\t'savesettings',\n\t\t\t\t'audioconfig',\n\t\t\t\t'speechconfig',\n\t\t\t\t'voicerecognition',\n\t\t\t\t'speechsynthesis',\n\t\t\t\t'speechmode',\n\t\t\t\t'voicespeed',\n\t\t\t\t'speechrate',\n\t\t\t\t'speechspeed',\n\t\t\t\t'audioinput',\n\t\t\t\t'audiofeatures',\n\t\t\t\t'voicemodes'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: 'chats',\n\t\t\ttitle: 'Chats',\n\t\t\tkeywords: [\n\t\t\t\t'chat',\n\t\t\t\t'messages',\n\t\t\t\t'conversations',\n\t\t\t\t'chatsettings',\n\t\t\t\t'history',\n\t\t\t\t'chathistory',\n\t\t\t\t'messagehistory',\n\t\t\t\t'messagearchive',\n\t\t\t\t'convo',\n\t\t\t\t'chats',\n\t\t\t\t'conversationhistory',\n\t\t\t\t'exportmessages',\n\t\t\t\t'chatactivity'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: 'account',\n\t\t\ttitle: 'Account',\n\t\t\tkeywords: [\n\t\t\t\t'account',\n\t\t\t\t'profile',\n\t\t\t\t'security',\n\t\t\t\t'privacy',\n\t\t\t\t'settings',\n\t\t\t\t'login',\n\t\t\t\t'useraccount',\n\t\t\t\t'userdata',\n\t\t\t\t'api',\n\t\t\t\t'apikey',\n\t\t\t\t'userprofile',\n\t\t\t\t'profiledetails',\n\t\t\t\t'accountsettings',\n\t\t\t\t'accountpreferences',\n\t\t\t\t'securitysettings',\n\t\t\t\t'privacysettings'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: 'admin',\n\t\t\ttitle: 'Admin',\n\t\t\tkeywords: [\n\t\t\t\t'admin',\n\t\t\t\t'administrator',\n\t\t\t\t'adminsettings',\n\t\t\t\t'adminpanel',\n\t\t\t\t'systemadmin',\n\t\t\t\t'administratoraccess',\n\t\t\t\t'systemcontrol',\n\t\t\t\t'manage',\n\t\t\t\t'management',\n\t\t\t\t'admincontrols',\n\t\t\t\t'adminfeatures',\n\t\t\t\t'usercontrol',\n\t\t\t\t'arenamodel',\n\t\t\t\t'evaluations',\n\t\t\t\t'websearch',\n\t\t\t\t'database',\n\t\t\t\t'pipelines',\n\t\t\t\t'images',\n\t\t\t\t'audio',\n\t\t\t\t'documents',\n\t\t\t\t'rag',\n\t\t\t\t'models',\n\t\t\t\t'ollama',\n\t\t\t\t'openai',\n\t\t\t\t'users'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: 'about',\n\t\t\ttitle: 'About',\n\t\t\tkeywords: [\n\t\t\t\t'about',\n\t\t\t\t'info',\n\t\t\t\t'information',\n\t\t\t\t'version',\n\t\t\t\t'documentation',\n\t\t\t\t'help',\n\t\t\t\t'support',\n\t\t\t\t'details',\n\t\t\t\t'aboutus',\n\t\t\t\t'softwareinfo',\n\t\t\t\t'timothyjaeryangbaek',\n\t\t\t\t'openwebui',\n\t\t\t\t'release',\n\t\t\t\t'updates',\n\t\t\t\t'updateinfo',\n\t\t\t\t'versioninfo',\n\t\t\t\t'aboutapp',\n\t\t\t\t'terms',\n\t\t\t\t'termsandconditions',\n\t\t\t\t'contact',\n\t\t\t\t'aboutpage'\n\t\t\t]\n\t\t}\n\t];\n\n\tlet search = '';\n\tlet visibleTabs = searchData.map((tab) => tab.id);\n\tlet searchDebounceTimeout;\n\n\tconst searchSettings = (query: string): string[] => {\n\t\tconst lowerCaseQuery = query.toLowerCase().trim();\n\t\treturn searchData\n\t\t\t.filter(\n\t\t\t\t(tab) =>\n\t\t\t\t\ttab.title.toLowerCase().includes(lowerCaseQuery) ||\n\t\t\t\t\ttab.keywords.some((keyword) => keyword.includes(lowerCaseQuery))\n\t\t\t)\n\t\t\t.map((tab) => tab.id);\n\t};\n\n\tconst searchDebounceHandler = () => {\n\t\tclearTimeout(searchDebounceTimeout);\n\t\tsearchDebounceTimeout = setTimeout(() => {\n\t\t\tvisibleTabs = searchSettings(search);\n\t\t\tif (visibleTabs.length > 0 && !visibleTabs.includes(selectedTab)) {\n\t\t\t\tselectedTab = visibleTabs[0];\n\t\t\t}\n\t\t}, 100);\n\t};\n\n\tconst saveSettings = async (updated) => {\n\t\tconsole.log(updated);\n\t\tawait settings.set({ ...$settings, ...updated });\n\t\tawait models.set(await getModels());\n\t\tawait updateUserSettings(localStorage.token, { ui: $settings });\n\t};\n\n\tconst getModels = async () => {\n\t\treturn await _getModels(localStorage.token);\n\t};\n\n\tlet selectedTab = 'general';\n\n\t// Function to handle sideways scrolling\n\tconst scrollHandler = (event) => {\n\t\tconst settingsTabsContainer = document.getElementById('settings-tabs-container');\n\t\tif (settingsTabsContainer) {\n\t\t\tevent.preventDefault(); // Prevent default vertical scrolling\n\t\t\tsettingsTabsContainer.scrollLeft += event.deltaY; // Scroll sideways\n\t\t}\n\t};\n\n\tconst addScrollListener = async () => {\n\t\tawait tick();\n\t\tconst settingsTabsContainer = document.getElementById('settings-tabs-container');\n\t\tif (settingsTabsContainer) {\n\t\t\tsettingsTabsContainer.addEventListener('wheel', scrollHandler);\n\t\t}\n\t};\n\n\tconst removeScrollListener = async () => {\n\t\tawait tick();\n\t\tconst settingsTabsContainer = document.getElementById('settings-tabs-container');\n\t\tif (settingsTabsContainer) {\n\t\t\tsettingsTabsContainer.removeEventListener('wheel', scrollHandler);\n\t\t}\n\t};\n\n\t$: if (show) {\n\t\taddScrollListener();\n\t} else {\n\t\tremoveScrollListener();\n\t}\n</script>\n\n<Modal size=\"xl\" bind:show>\n\t<div class=\"text-gray-700 dark:text-gray-100\">\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-1\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Settings')}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-4 pt-1 pb-4 md:space-x-4\">\n\t\t\t<div\n\t\t\t\tid=\"settings-tabs-container\"\n\t\t\t\tclass=\"tabs flex flex-row overflow-x-auto gap-2.5 md:gap-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-sm font-medium text-left mb-1 md:mb-0 -translate-y-1\"\n\t\t\t>\n\t\t\t\t<div class=\"hidden md:flex w-full rounded-xl -mb-1 px-0.5 gap-2\" id=\"settings-search\">\n\t\t\t\t\t<div class=\"self-center rounded-l-xl bg-transparent\">\n\t\t\t\t\t\t<Search className=\"size-3.5\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"w-full py-1.5 text-sm bg-transparent dark:text-gray-300 outline-none\"\n\t\t\t\t\t\tbind:value={search}\n\t\t\t\t\t\ton:input={searchDebounceHandler}\n\t\t\t\t\t\tplaceholder={$i18n.t('Search')}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t{#if visibleTabs.length > 0}\n\t\t\t\t\t{#each visibleTabs as tabId (tabId)}\n\t\t\t\t\t\t{#if tabId === 'general'}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition {selectedTab ===\n\t\t\t\t\t\t\t\t'general'\n\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tselectedTab = 'general';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\td=\"M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z\"\n\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\" self-center\">{$i18n.t('General')}</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{:else if tabId === 'interface'}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition {selectedTab ===\n\t\t\t\t\t\t\t\t'interface'\n\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tselectedTab = 'interface';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\td=\"M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z\"\n\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\" self-center\">{$i18n.t('Interface')}</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{:else if tabId === 'personalization'}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition {selectedTab ===\n\t\t\t\t\t\t\t\t'personalization'\n\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tselectedTab = 'personalization';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t\t\t\t\t\t<User />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\" self-center\">{$i18n.t('Personalization')}</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{:else if tabId === 'audio'}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition {selectedTab ===\n\t\t\t\t\t\t\t\t'audio'\n\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tselectedTab = 'audio';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\" self-center\">{$i18n.t('Audio')}</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{:else if tabId === 'chats'}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition {selectedTab ===\n\t\t\t\t\t\t\t\t'chats'\n\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tselectedTab = 'chats';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\td=\"M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z\"\n\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\" self-center\">{$i18n.t('Chats')}</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{:else if tabId === 'account'}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition {selectedTab ===\n\t\t\t\t\t\t\t\t'account'\n\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tselectedTab = 'account';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\td=\"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z\"\n\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\" self-center\">{$i18n.t('Account')}</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{:else if tabId === 'about'}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition {selectedTab ===\n\t\t\t\t\t\t\t\t'about'\n\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tselectedTab = 'about';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\td=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z\"\n\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\" self-center\">{$i18n.t('About')}</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{:else if tabId === 'admin'}\n\t\t\t\t\t\t\t{#if $user.role === 'admin'}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition {selectedTab ===\n\t\t\t\t\t\t\t\t\t'admin'\n\t\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\tawait goto('/admin/settings');\n\t\t\t\t\t\t\t\t\t\tshow = false;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\" self-center\">{$i18n.t('Admin Settings')}</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t{/each}\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"text-center text-gray-500 mt-4\">\n\t\t\t\t\t\t{$i18n.t('No results found')}\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"flex-1 md:min-h-[32rem] max-h-[32rem]\">\n\t\t\t\t{#if selectedTab === 'general'}\n\t\t\t\t\t<General\n\t\t\t\t\t\t{getModels}\n\t\t\t\t\t\t{saveSettings}\n\t\t\t\t\t\ton:save={() => {\n\t\t\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t{:else if selectedTab === 'interface'}\n\t\t\t\t\t<Interface\n\t\t\t\t\t\t{saveSettings}\n\t\t\t\t\t\ton:save={() => {\n\t\t\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t{:else if selectedTab === 'personalization'}\n\t\t\t\t\t<Personalization\n\t\t\t\t\t\t{saveSettings}\n\t\t\t\t\t\ton:save={() => {\n\t\t\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t{:else if selectedTab === 'audio'}\n\t\t\t\t\t<Audio\n\t\t\t\t\t\t{saveSettings}\n\t\t\t\t\t\ton:save={() => {\n\t\t\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t{:else if selectedTab === 'chats'}\n\t\t\t\t\t<Chats {saveSettings} />\n\t\t\t\t{:else if selectedTab === 'account'}\n\t\t\t\t\t<Account\n\t\t\t\t\t\t{saveSettings}\n\t\t\t\t\t\tsaveHandler={() => {\n\t\t\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t{:else if selectedTab === 'about'}\n\t\t\t\t\t<About />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n\n<style>\n\tinput::-webkit-outer-spin-button,\n\tinput::-webkit-inner-spin-button {\n\t\t/* display: none; <- Crashes Chrome on hover */\n\t\t-webkit-appearance: none;\n\t\tmargin: 0; /* <-- Apparently some margin are still there even though it's hidden */\n\t}\n\n\t.tabs::-webkit-scrollbar {\n\t\tdisplay: none; /* for Chrome, Safari and Opera */\n\t}\n\n\t.tabs {\n\t\t-ms-overflow-style: none; /* IE and Edge */\n\t\tscrollbar-width: none; /* Firefox */\n\t}\n\n\tinput[type='number'] {\n\t\t-moz-appearance: textfield; /* Firefox */\n\t}\n</style>\n","<script>\r\n  import { onMount } from \"svelte\"\r\n\r\n  export let size = 10\r\n  export let x = [-0.5, 0.5]\r\n  export let y = [0.25, 1]\r\n  export let duration = 2000\r\n  export let infinite = false\r\n  export let delay = [0, 50]\r\n  export let colorRange = [0, 360]\r\n  export let colorArray = []\r\n  export let amount = 50\r\n  export let iterationCount = 1\r\n  export let fallDistance = \"100px\"\r\n  export let rounded = false\r\n  export let cone = false\r\n  export let noGravity = false\r\n  export let xSpread = 0.15\r\n  export let destroyOnComplete = true\r\n\r\n  let complete = false\r\n\r\n  onMount(() => {\r\n    if (!destroyOnComplete || infinite || iterationCount == \"infinite\") return\r\n\r\n    setTimeout(() => complete = true, (duration + delay[1]) * iterationCount)\r\n  })\r\n\r\n  function randomBetween(min, max) {\r\n    return Math.random() * (max - min) + min\r\n  }\r\n\r\n  function getColor() {\r\n    if (colorArray.length) return colorArray[Math.round(Math.random() * (colorArray.length - 1))]\r\n    else return `hsl(${Math.round(randomBetween(colorRange[0], colorRange[1]))}, 75%, 50%)`\r\n  }\r\n</script>\r\n\r\n{#if !complete}\r\n  <div class=\"confetti-holder\" class:rounded class:cone class:no-gravity={noGravity}>\r\n    {#each { length: amount } as _}\r\n      <div\r\n        class=\"confetti\"\r\n        style=\"\r\n        --fall-distance: {fallDistance};\r\n        --size: {size}px;\r\n        --color: {getColor()};\r\n        --skew: {randomBetween(-45, 45)}deg,{randomBetween(-45, 45)}deg;\r\n        --rotation-xyz: {randomBetween(-10, 10)}, {randomBetween(-10, 10)}, {randomBetween(-10, 10)};\r\n        --rotation-deg: {randomBetween(0, 360)}deg;\r\n        --translate-y-multiplier: {randomBetween(y[0], y[1])};\r\n        --translate-x-multiplier: {randomBetween(x[0], x[1])};\r\n        --scale: {0.1 * randomBetween(2, 10)};\r\n        --transition-duration: {infinite ? `calc(${duration}ms * var(--scale))` : `${duration}ms`};\r\n        --transition-delay: {randomBetween(delay[0], delay[1])}ms;\r\n        --transition-iteration-count: {infinite ? 'infinite' : iterationCount};\r\n        --x-spread: {(1 - xSpread)}\" />\r\n    {/each}\r\n  </div>\r\n{/if}\r\n\r\n<style>\r\n  .confetti-holder {\r\n    position: relative;\r\n  }\r\n\r\n  @keyframes rotate {\r\n    0% {\r\n      transform: skew(var(--skew)) rotate3d(var(--full-rotation));\r\n    }\r\n\r\n    100% {\r\n      transform: skew(var(--skew)) rotate3d(var(--rotation-xyz), calc(var(--rotation-deg) + 360deg));\r\n    }\r\n  }\r\n\r\n  @keyframes translate {\r\n    0% {\r\n      opacity: 1;\r\n    }\r\n\r\n    8% {\r\n      transform: translateY(calc(var(--translate-y) * 0.95)) translateX(calc(var(--translate-x) * (var(--x-spread) * 0.9)));\r\n      opacity: 1;\r\n    }\r\n\r\n    12% {\r\n      transform: translateY(var(--translate-y)) translateX(calc(var(--translate-x) * (var(--x-spread) * 0.95)));\r\n      opacity: 1;\r\n    }\r\n\r\n    16% {\r\n      transform: translateY(var(--translate-y)) translateX(calc(var(--translate-x) * var(--x-spread)));\r\n      opacity: 1;\r\n    }\r\n\r\n    100% {\r\n      transform: translateY(calc(var(--translate-y) + var(--fall-distance))) translateX(var(--translate-x));\r\n      opacity: 0;\r\n    }\r\n  }\r\n\r\n  @keyframes no-gravity-translate {\r\n    0% {\r\n      opacity: 1;\r\n    }\r\n\r\n    100% {\r\n      transform: translateY(var(--translate-y)) translateX(var(--translate-x));\r\n      opacity: 0;\r\n    }\r\n  }\r\n\r\n  .confetti {\r\n    --translate-y: calc(-200px * var(--translate-y-multiplier));\r\n    --translate-x: calc(200px * var(--translate-x-multiplier));\r\n    position: absolute;\r\n    height: calc(var(--size) * var(--scale));\r\n    width: calc(var(--size) * var(--scale));\r\n    animation: translate var(--transition-duration) var(--transition-delay) var(--transition-iteration-count) linear;\r\n    opacity: 0;\r\n    pointer-events: none;\r\n  }\r\n\r\n  .confetti::before {\r\n    --full-rotation: var(--rotation-xyz), var(--rotation-deg);\r\n    content: '';\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: var(--color);\r\n    background-size: contain;\r\n    transform: skew(var(--skew)) rotate3d(var(--full-rotation));\r\n    animation: rotate var(--transition-duration) var(--transition-delay) var(--transition-iteration-count) linear;\r\n  }\r\n\r\n  .rounded .confetti::before {\r\n    border-radius: 50%;\r\n  }\r\n\r\n  .cone .confetti {\r\n    --translate-x: calc(200px * var(--translate-y-multiplier) * var(--translate-x-multiplier));\r\n  }\r\n\r\n  .no-gravity .confetti {\r\n    animation-name: no-gravity-translate;\r\n    animation-timing-function: ease-out;\r\n  }\r\n\r\n  @media (prefers-reduced-motion) {\r\n    .confetti,\r\n    .confetti::before {\r\n      animation: none;\r\n    }\r\n  }\r\n</style>\r\n","<script lang=\"ts\">\n\timport { onMount, getContext } from 'svelte';\n\timport { Confetti } from 'svelte-confetti';\n\n\timport { WEBUI_NAME, config, settings } from '$lib/stores';\n\n\timport { WEBUI_VERSION } from '$lib/constants';\n\timport { getChangelog } from '$lib/apis';\n\n\timport Modal from './common/Modal.svelte';\n\timport { updateUserSettings } from '$lib/apis/users';\n\n\tconst i18n = getContext('i18n');\n\n\texport let show = false;\n\n\tlet changelog = null;\n\n\tonMount(async () => {\n\t\tconst res = await getChangelog();\n\t\tchangelog = res;\n\t});\n</script>\n\n<Modal bind:show size=\"lg\">\n\t<div class=\"px-5 pt-4 dark:text-gray-300 text-gray-700\">\n\t\t<div class=\"flex justify-between items-start\">\n\t\t\t<div class=\"text-xl font-semibold\">\n\t\t\t\t{$i18n.t('What’s New in')}\n\t\t\t\t{$WEBUI_NAME}\n\t\t\t\t<Confetti x={[-1, -0.25]} y={[0, 0.5]} />\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tlocalStorage.version = $config.version;\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\t\t<div class=\"flex items-center mt-1\">\n\t\t\t<div class=\"text-sm dark:text-gray-200\">{$i18n.t('Release Notes')}</div>\n\t\t\t<div class=\"flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700\" />\n\t\t\t<div class=\"text-sm dark:text-gray-200\">\n\t\t\t\tv{WEBUI_VERSION}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class=\" w-full p-4 px-5 text-gray-700 dark:text-gray-100\">\n\t\t<div class=\" overflow-y-scroll max-h-96 scrollbar-hidden\">\n\t\t\t<div class=\"mb-3\">\n\t\t\t\t{#if changelog}\n\t\t\t\t\t{#each Object.keys(changelog) as version}\n\t\t\t\t\t\t<div class=\" mb-3 pr-2\">\n\t\t\t\t\t\t\t<div class=\"font-semibold text-xl mb-1 dark:text-white\">\n\t\t\t\t\t\t\t\tv{version} - {changelog[version].date}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<hr class=\" dark:border-gray-800 my-2\" />\n\n\t\t\t\t\t\t\t{#each Object.keys(changelog[version]).filter((section) => section !== 'date') as section}\n\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"font-semibold uppercase text-xs {section === 'added'\n\t\t\t\t\t\t\t\t\t\t\t? 'text-white bg-blue-600'\n\t\t\t\t\t\t\t\t\t\t\t: section === 'fixed'\n\t\t\t\t\t\t\t\t\t\t\t\t? 'text-white bg-green-600'\n\t\t\t\t\t\t\t\t\t\t\t\t: section === 'changed'\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'text-white bg-yellow-600'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: section === 'removed'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'text-white bg-red-600'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: ''}  w-fit px-3 rounded-full my-2.5\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{section}\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"my-2.5 px-1.5\">\n\t\t\t\t\t\t\t\t\t\t{#each Object.keys(changelog[version][section]) as item}\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-sm mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"font-semibold uppercase\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{changelog[version][section][item].title}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mb-2 mt-1\">{changelog[version][section][item].content}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/each}\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t\t<button\n\t\t\t\ton:click={async () => {\n\t\t\t\t\tlocalStorage.version = $config.version;\n\t\t\t\t\tawait settings.set({ ...$settings, ...{ version: $config.version } });\n\t\t\t\t\tawait updateUserSettings(localStorage.token, { ui: $settings });\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\t>\n\t\t\t\t<span class=\"relative\">{$i18n.t(\"Okay, Let's Go!\")}</span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</Modal>\n","<script lang=\"ts\">\n\timport { getAdminDetails } from '$lib/apis/auths';\n\timport { onMount, tick, getContext } from 'svelte';\n\n\tconst i18n = getContext('i18n');\n\n\tlet adminDetails = null;\n\n\tonMount(async () => {\n\t\tadminDetails = await getAdminDetails(localStorage.token).catch((err) => {\n\t\t\tconsole.error(err);\n\t\t\treturn null;\n\t\t});\n\t});\n</script>\n\n<div class=\"fixed w-full h-full flex z-[999]\">\n\t<div\n\t\tclass=\"absolute w-full h-full backdrop-blur-lg bg-white/10 dark:bg-gray-900/50 flex justify-center\"\n\t>\n\t\t<div class=\"m-auto pb-10 flex flex-col justify-center\">\n\t\t\t<div class=\"max-w-md\">\n\t\t\t\t<div class=\"text-center dark:text-white text-2xl font-medium z-50\">\n\t\t\t\t\t{$i18n.t('Account Activation Pending')}<br />\n\t\t\t\t\t{$i18n.t('Contact Admin for WebUI Access')}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\" mt-4 text-center text-sm dark:text-gray-200 w-full\">\n\t\t\t\t\t{$i18n.t('Your account status is currently pending activation.')}<br />\n\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t'To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.'\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{#if adminDetails}\n\t\t\t\t\t<div class=\"mt-4 text-sm font-medium text-center\">\n\t\t\t\t\t\t<div>{$i18n.t('Admin')}: {adminDetails.name} ({adminDetails.email})</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t<div class=\" mt-6 mx-auto relative group w-fit\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 text-gray-700 transition font-medium text-sm\"\n\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\tlocation.href = '/';\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{$i18n.t('Check Again')}\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"text-xs text-center w-full mt-2 text-gray-400 underline\"\n\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\tlocalStorage.removeItem('token');\n\t\t\t\t\t\t\tlocation.href = '/auth';\n\t\t\t\t\t\t}}>{$i18n.t('Sign Out')}</button\n\t\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n","<script lang=\"ts\">\n\timport { getContext, createEventDispatcher } from 'svelte';\n\n\tconst dispatch = createEventDispatcher();\n\tconst i18n = getContext('i18n');\n\n\timport { WEBUI_VERSION } from '$lib/constants';\n\timport XMark from '../icons/XMark.svelte';\n\n\texport let version = {\n\t\tcurrent: WEBUI_VERSION,\n\t\tlatest: WEBUI_VERSION\n\t};\n</script>\n\n<div\n\tclass=\"flex items-start bg-[#F1F8FE] dark:bg-[#020C1D] border border-[3371D5] dark:border-[#03113B] text-[#3371D5] dark:text-[#6795EC] rounded-lg px-3.5 py-3 text-xs max-w-80 pr-2 w-full shadow-lg\"\n>\n\t<div class=\"flex-1 font-medium\">\n\t\t{$i18n.t(`A new version (v{{LATEST_VERSION}}) is now available.`, {\n\t\t\tLATEST_VERSION: version.latest\n\t\t})}\n\n\t\t<a href=\"https://github.com/open-webui/open-webui/releases\" target=\"_blank\" class=\"underline\">\n\t\t\t{$i18n.t('Update for the latest features and improvements.')}</a\n\t\t>\n\t</div>\n\n\t<div class=\" flex-shrink-0 pr-1\">\n\t\t<button\n\t\t\tclass=\" hover:text-blue-900 dark:hover:text-blue-300 transition\"\n\t\t\ton:click={() => {\n\t\t\t\tdispatch('close');\n\t\t\t}}\n\t\t>\n\t\t\t<XMark />\n\t\t</button>\n\t</div>\n</div>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { onMount, tick, getContext } from 'svelte';\n\timport { openDB, deleteDB } from 'idb';\n\timport fileSaver from 'file-saver';\n\tconst { saveAs } = fileSaver;\n\timport mermaid from 'mermaid';\n\n\timport { goto } from '$app/navigation';\n\timport { page } from '$app/stores';\n\timport { fade } from 'svelte/transition';\n\n\timport { getKnowledgeBases } from '$lib/apis/knowledge';\n\timport { getFunctions } from '$lib/apis/functions';\n\timport { getModels, getVersionUpdates } from '$lib/apis';\n\timport { getAllTags } from '$lib/apis/chats';\n\timport { getPrompts } from '$lib/apis/prompts';\n\timport { getTools } from '$lib/apis/tools';\n\timport { getBanners } from '$lib/apis/configs';\n\timport { getUserSettings } from '$lib/apis/users';\n\n\timport { WEBUI_VERSION } from '$lib/constants';\n\timport { compareVersion } from '$lib/utils';\n\n\timport {\n\t\tconfig,\n\t\tuser,\n\t\tsettings,\n\t\tmodels,\n\t\tprompts,\n\t\tknowledge,\n\t\ttools,\n\t\tfunctions,\n\t\ttags,\n\t\tbanners,\n\t\tshowSettings,\n\t\tshowChangelog,\n\t\ttemporaryChatEnabled\n\t} from '$lib/stores';\n\n\timport Sidebar from '$lib/components/layout/Sidebar.svelte';\n\timport SettingsModal from '$lib/components/chat/SettingsModal.svelte';\n\timport ChangelogModal from '$lib/components/ChangelogModal.svelte';\n\timport AccountPending from '$lib/components/layout/Overlay/AccountPending.svelte';\n\timport UpdateInfoToast from '$lib/components/layout/UpdateInfoToast.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\tlet loaded = false;\n\tlet DB = null;\n\tlet localDBChats = [];\n\n\tlet version;\n\n\tonMount(async () => {\n\t\tif ($user === undefined) {\n\t\t\tawait goto('/auth');\n\t\t} else if (['user', 'admin'].includes($user.role)) {\n\t\t\ttry {\n\t\t\t\t// Check if IndexedDB exists\n\t\t\t\tDB = await openDB('Chats', 1);\n\n\t\t\t\tif (DB) {\n\t\t\t\t\tconst chats = await DB.getAllFromIndex('chats', 'timestamp');\n\t\t\t\t\tlocalDBChats = chats.map((item, idx) => chats[chats.length - 1 - idx]);\n\n\t\t\t\t\tif (localDBChats.length === 0) {\n\t\t\t\t\t\tawait deleteDB('Chats');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconsole.log(DB);\n\t\t\t} catch (error) {\n\t\t\t\t// IndexedDB Not Found\n\t\t\t}\n\n\t\t\tconst userSettings = await getUserSettings(localStorage.token).catch((error) => {\n\t\t\t\tconsole.error(error);\n\t\t\t\treturn null;\n\t\t\t});\n\n\t\t\tif (userSettings) {\n\t\t\t\tsettings.set(userSettings.ui);\n\t\t\t} else {\n\t\t\t\tlet localStorageSettings = {} as Parameters<(typeof settings)['set']>[0];\n\n\t\t\t\ttry {\n\t\t\t\t\tlocalStorageSettings = JSON.parse(localStorage.getItem('settings') ?? '{}');\n\t\t\t\t} catch (e: unknown) {\n\t\t\t\t\tconsole.error('Failed to parse settings from localStorage', e);\n\t\t\t\t}\n\n\t\t\t\tsettings.set(localStorageSettings);\n\t\t\t}\n\n\t\t\tmodels.set(await getModels(localStorage.token));\n\t\t\tbanners.set(await getBanners(localStorage.token));\n\t\t\ttools.set(await getTools(localStorage.token));\n\n\t\t\tdocument.addEventListener('keydown', async function (event) {\n\t\t\t\tconst isCtrlPressed = event.ctrlKey || event.metaKey; // metaKey is for Cmd key on Mac\n\t\t\t\t// Check if the Shift key is pressed\n\t\t\t\tconst isShiftPressed = event.shiftKey;\n\n\t\t\t\t// Check if Ctrl + Shift + O is pressed\n\t\t\t\tif (isCtrlPressed && isShiftPressed && event.key.toLowerCase() === 'o') {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tconsole.log('newChat');\n\t\t\t\t\tdocument.getElementById('sidebar-new-chat-button')?.click();\n\t\t\t\t}\n\n\t\t\t\t// Check if Shift + Esc is pressed\n\t\t\t\tif (isShiftPressed && event.key === 'Escape') {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tconsole.log('focusInput');\n\t\t\t\t\tdocument.getElementById('chat-input')?.focus();\n\t\t\t\t}\n\n\t\t\t\t// Check if Ctrl + Shift + ; is pressed\n\t\t\t\tif (isCtrlPressed && isShiftPressed && event.key === ';') {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tconsole.log('copyLastCodeBlock');\n\t\t\t\t\tconst button = [...document.getElementsByClassName('copy-code-button')]?.at(-1);\n\t\t\t\t\tbutton?.click();\n\t\t\t\t}\n\n\t\t\t\t// Check if Ctrl + Shift + C is pressed\n\t\t\t\tif (isCtrlPressed && isShiftPressed && event.key.toLowerCase() === 'c') {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tconsole.log('copyLastResponse');\n\t\t\t\t\tconst button = [...document.getElementsByClassName('copy-response-button')]?.at(-1);\n\t\t\t\t\tconsole.log(button);\n\t\t\t\t\tbutton?.click();\n\t\t\t\t}\n\n\t\t\t\t// Check if Ctrl + Shift + S is pressed\n\t\t\t\tif (isCtrlPressed && isShiftPressed && event.key.toLowerCase() === 's') {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tconsole.log('toggleSidebar');\n\t\t\t\t\tdocument.getElementById('sidebar-toggle-button')?.click();\n\t\t\t\t}\n\n\t\t\t\t// Check if Ctrl + Shift + Backspace is pressed\n\t\t\t\tif (\n\t\t\t\t\tisCtrlPressed &&\n\t\t\t\t\tisShiftPressed &&\n\t\t\t\t\t(event.key === 'Backspace' || event.key === 'Delete')\n\t\t\t\t) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tconsole.log('deleteChat');\n\t\t\t\t\tdocument.getElementById('delete-chat-button')?.click();\n\t\t\t\t}\n\n\t\t\t\t// Check if Ctrl + . is pressed\n\t\t\t\tif (isCtrlPressed && event.key === '.') {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tconsole.log('openSettings');\n\t\t\t\t\tshowSettings.set(!$showSettings);\n\t\t\t\t}\n\n\t\t\t\t// Check if Ctrl + / is pressed\n\t\t\t\tif (isCtrlPressed && event.key === '/') {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tconsole.log('showShortcuts');\n\t\t\t\t\tdocument.getElementById('show-shortcuts-button')?.click();\n\t\t\t\t}\n\n\t\t\t\t// Check if Ctrl + Shift + ' is pressed\n\t\t\t\tif (isCtrlPressed && isShiftPressed && event.key.toLowerCase() === `'`) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tconsole.log('temporaryChat');\n\t\t\t\t\ttemporaryChatEnabled.set(!$temporaryChatEnabled);\n\t\t\t\t\tawait goto('/');\n\t\t\t\t\tconst newChatButton = document.getElementById('new-chat-button');\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tnewChatButton?.click();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif ($user.role === 'admin' && ($settings?.showChangelog ?? true)) {\n\t\t\t\tshowChangelog.set($settings?.version !== $config.version);\n\t\t\t}\n\n\t\t\tif ($page.url.searchParams.get('temporary-chat') === 'true') {\n\t\t\t\ttemporaryChatEnabled.set(true);\n\t\t\t}\n\n\t\t\t// Check for version updates\n\t\t\tif ($user.role === 'admin') {\n\t\t\t\t// Check if the user has dismissed the update toast in the last 24 hours\n\t\t\t\tif (localStorage.dismissedUpdateToast) {\n\t\t\t\t\tconst dismissedUpdateToast = new Date(Number(localStorage.dismissedUpdateToast));\n\t\t\t\t\tconst now = new Date();\n\n\t\t\t\t\tif (now - dismissedUpdateToast > 24 * 60 * 60 * 1000) {\n\t\t\t\t\t\tcheckForVersionUpdates();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcheckForVersionUpdates();\n\t\t\t\t}\n\t\t\t}\n\t\t\tawait tick();\n\t\t}\n\n\t\tloaded = true;\n\t});\n\n\tconst checkForVersionUpdates = async () => {\n\t\tversion = await getVersionUpdates(localStorage.token).catch((error) => {\n\t\t\treturn {\n\t\t\t\tcurrent: WEBUI_VERSION,\n\t\t\t\tlatest: WEBUI_VERSION\n\t\t\t};\n\t\t});\n\t};\n</script>\n\n<SettingsModal bind:show={$showSettings} />\n<ChangelogModal bind:show={$showChangelog} />\n\n{#if version && compareVersion(version.latest, version.current) && ($settings?.showUpdateToast ?? true)}\n\t<div class=\" absolute bottom-8 right-8 z-50\" in:fade={{ duration: 100 }}>\n\t\t<UpdateInfoToast\n\t\t\t{version}\n\t\t\ton:close={() => {\n\t\t\t\tlocalStorage.setItem('dismissedUpdateToast', Date.now().toString());\n\t\t\t\tversion = null;\n\t\t\t}}\n\t\t/>\n\t</div>\n{/if}\n\n<div class=\"app relative\">\n\t<div\n\t\tclass=\" text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 h-screen max-h-[100dvh] overflow-auto flex flex-row justify-end\"\n\t>\n\t\t{#if loaded}\n\t\t\t{#if !['user', 'admin'].includes($user.role)}\n\t\t\t\t<AccountPending />\n\t\t\t{:else if localDBChats.length > 0}\n\t\t\t\t<div class=\"fixed w-full h-full flex z-50\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"m-auto pb-44 flex flex-col justify-center\">\n\t\t\t\t\t\t\t<div class=\"max-w-md\">\n\t\t\t\t\t\t\t\t<div class=\"text-center dark:text-white text-2xl font-medium z-50\">\n\t\t\t\t\t\t\t\t\tImportant Update<br /> Action Required for Chat Log Storage\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\" mt-4 text-center text-sm dark:text-gray-200 w-full\">\n\t\t\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t\t\t\"Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through\"\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<span class=\"font-semibold dark:text-white\"\n\t\t\t\t\t\t\t\t\t\t>{$i18n.t('Settings')} > {$i18n.t('Chats')} > {$i18n.t('Import Chats')}</span\n\t\t\t\t\t\t\t\t\t>. {$i18n.t(\n\t\t\t\t\t\t\t\t\t\t'This ensures that your valuable conversations are securely saved to your backend database. Thank you!'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\" mt-6 mx-auto relative group w-fit\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm\"\n\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\tlet blob = new Blob([JSON.stringify(localDBChats)], {\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'application/json'\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tsaveAs(blob, `chat-export-${Date.now()}.json`);\n\n\t\t\t\t\t\t\t\t\t\t\tconst tx = DB.transaction('chats', 'readwrite');\n\t\t\t\t\t\t\t\t\t\t\tawait Promise.all([tx.store.clear(), tx.done]);\n\t\t\t\t\t\t\t\t\t\t\tawait deleteDB('Chats');\n\n\t\t\t\t\t\t\t\t\t\t\tlocalDBChats = [];\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tDownload & Delete\n\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"text-xs text-center w-full mt-2 text-gray-400 underline\"\n\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\tlocalDBChats = [];\n\t\t\t\t\t\t\t\t\t\t}}>{$i18n.t('Close')}</button\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\n\t\t\t<Sidebar />\n\t\t\t<slot />\n\t\t{/if}\n\t</div>\n</div>\n\n<style>\n\t.loading {\n\t\tdisplay: inline-block;\n\t\tclip-path: inset(0 1ch 0 0);\n\t\tanimation: l 1s steps(3) infinite;\n\t\tletter-spacing: -0.5px;\n\t}\n\n\t@keyframes l {\n\t\tto {\n\t\t\tclip-path: inset(0 -1ch 0 0);\n\t\t}\n\t}\n\n\tpre[class*='language-'] {\n\t\tposition: relative;\n\t\toverflow: auto;\n\n\t\t/* make space  */\n\t\tmargin: 5px 0;\n\t\tpadding: 1.75rem 0 1.75rem 1rem;\n\t\tborder-radius: 10px;\n\t}\n\n\tpre[class*='language-'] button {\n\t\tposition: absolute;\n\t\ttop: 5px;\n\t\tright: 5px;\n\n\t\tfont-size: 0.9rem;\n\t\tpadding: 0.15rem;\n\t\tbackground-color: #828282;\n\n\t\tborder: ridge 1px #7b7b7c;\n\t\tborder-radius: 5px;\n\t\ttext-shadow: #c4c4c4 0 0 2px;\n\t}\n\n\tpre[class*='language-'] button:hover {\n\t\tcursor: pointer;\n\t\tbackground-color: #bcbabb;\n\t}\n</style>\n"],"names":["instanceOfAny","object","constructors","c","idbProxyableTypes","cursorAdvanceMethods","getIdbProxyableTypes","getCursorAdvanceMethods","cursorRequestMap","transactionDoneMap","transactionStoreNamesMap","transformCache","reverseTransformCache","promisifyRequest","request","promise","resolve","reject","unlisten","success","error","wrap","value","cacheDonePromiseForTransaction","tx","done","complete","idbProxyTraps","target","prop","receiver","replaceTraps","callback","wrapFunction","func","storeNames","args","unwrap","transformCachableValue","newValue","openDB","name","version","blocked","upgrade","blocking","terminated","openPromise","event","db","deleteDB","readMethods","writeMethods","cachedMethods","getMethod","targetFuncName","useIndex","isWrite","method","storeName","oldTraps","createNewFolder","token","res","WEBUI_API_BASE_URL","err","getFolders","json","updateFolderNameById","id","updateFolderIsExpandedById","isExpanded","updateFolderParentIdById","parentId","deleteFolderById","ctx","insert_hydration","div","anchor","set_data","t","t_value","each_value","ensure_array_like","i","div3","append_hydration","div1","div0","table","thead","tr","th0","th1","th2","tbody","div2","button0","button1","t0","t0_value","t2","t2_value","each_blocks","t6","t6_value","t8","t8_value","button","dayjs","attr","a","a_href_value","tr_class_value","td0","td1","td2","current","dirty","div7","div6","div4","input","hr","div5","saveAs","fileSaver","dispatch","createEventDispatcher","i18n","getContext","show","$$props","chats","searchValue","showUnarchiveAllConfirmDialog","unarchiveChatHandler","chatId","archiveChatById","toast","getArchivedChatList","deleteChatHandler","deleteChatById","exportChatsHandler","getAllArchivedChats","blob","$i18n","unarchiveAllHandler","chat","$$invalidate","svg","path","className","strokeWidth","t1","t1_value","flyAndScale","shareHandler","cloneChatHandler","archiveChatHandler","renameHandler","deleteHandler","onClose","pinned","pinHandler","toggleChatPinnedStatusById","checkPinned","getChatPinnedStatusById","getChatAsText","history","createMessagesList","message","arr","downloadTxt","getChatById","chatText","downloadPdf","messages","downloadChatAsPDF","url","downloadJSONExport","e","set_style","x","y","popupElement","onMount","onDestroy","$$value","span","if_block","create_if_block_2","create_if_block_4","create_if_block_3","title","selected","shiftKey","mouseOver","draggable","loadChat","showShareChatModal","confirmEdit","chatTitle","editChatTitle","updateChatById","$chatId","_chatTitle","currentChatPage","getChatList","$currentChatPage","pinnedChats","getPinnedChatList","cloneChatById","goto","tags","getAllTags","tick","focusEdit","node","itemElement","dragged","dragImage","onDragStart","onDrag","onDragEnd","showDeleteConfirm","$mobile","showSidebar","create_if_block_1","div1_intro","create_in_transition","fade","button_class_value","create_if_block","placeholder","selectedIdx","lastWord","options","focused","filteredOptions","filteredTags","initTags","documentClickHandler","searchContainer","chatSearch","words","tag","option","$tags","tagName","tagId","open","collapsible","onAddLabel","onAdd","dragAndDrop","folderElement","draggedOver","onDragOver","onDrop","item","file","reader","fileContent","dataTransfer","data","onDragLeave","constants_0","_a","child_ctx","b","raw_value","DOMPurify","get_if_ctx","if_block1","_b","recursivefolder_changes","get_key","chatitem_changes","create_if_block_6","create_if_block_5","collapsible_changes","folders","folderId","parentDragged","edit","type","importChat","updateChatFolderIdById","nameUpdateHandler","currentName","isExpandedUpdateHandler","isExpandedUpdateTimeout","isExpandedUpdateDebounceHandler","editHandler","exportHandler","getChatsByFolderId","folderList","key","div10","div9","div8","form","onSubmit","onUpdate","channel","accessControl","loading","submitHandler","init","showDeleteConfirmDialog","deleteChannelById","$page","showEditChannelModal","access_control","updateChannelById","if_block2","usermenu_changes","src_url_equal","img","img_src_value","WEBUI_BASE_URL","create_if_block_10","_d","_c","_g","_f","_e","_j","_i","_h","_m","_l","_k","create_if_block_9","create_if_block_8","if_block3","_o","_n","create_if_block_7","if_block4","div11","t5","t5_value","navElement","search","selectedChatId","showDropdown","showPinnedChat","showCreateChannel","chatListLoading","allChatsLoaded","initFolders","folder","createFolder","rootFolders","tempId","uuidv4","initChannels","channels","getChannels","initChatList","getChatListBySearchText","scrollPaginationEnabled","loadMoreChats","newChatList","$chats","searchDebounceTimeout","searchDebounceHandler","importChatHandler","items","inputFilesHandler","files","content","chatItems","tagEventHandler","inputFiles","touchstart","touchend","checkDirection","screenWidth","swipeDistance","onTouchStart","onTouchEnd","onKeyDown","onKeyUp","onFocus","onBlur","mobile","$showSidebar","dropZone","$showArchivedChats","createNewChannel","$socket","$user","newChatButton","showArchivedChats","input0","input1","input2","t3","t3_value","t9","t9_value","currentPassword","newPassword","newPasswordConfirm","updatePasswordHandler","updateUserPassword","path0","path1","img_1","img_1_src_value","generateInitialsImage","div22","div20","div16","button2","button3","div15","div14","div12","div13","div17","div19","div18","button4","div21","button5","t7","t7_value","t11","t11_value","t14","t14_value","t19","t19_value","t21","t21_value","t24","t24_value","saveHandler","saveSettings","profileImageUrl","webhookUrl","showAPIKeys","JWTTokenCopied","APIKey","APIKeyCopied","profileImageInputElement","$settings","updatedUser","updateUserProfile","user","createAPIKeyHandler","createAPIKey","getAPIKey","originalImageUrl","canvas","aspectRatio","newWidth","newHeight","offsetX","offsetY","compressedSrc","canvasPixelTest","getGravatarUrl","copyToClipboard","WEBUI_VERSION","t23_value","WEBUI_BUILD_HASH","a0","a0_href_value","pre","a6","a7","t29","t29_value","ollamaVersion","updateAvailable","checkForVersionUpdates","getVersionUpdates","compareVersion","getOllamaVersion","showChangelog","option_value_value","textarea","t4","t4_value","add_render_callback","select0","select1","option0","option1","option2","option3","option4","t18","t18_value","t22","t22_value","getModels","themes","selectedTheme","languages","lang","notificationEnabled","system","showAdvanced","toggleNotification","requestFormat","keepAlive","params","toggleRequestFormat","getLanguages","applyTheme","_theme","themeToApply","metaThemeColor","systemTheme","themeChangeHandler","theme","select_value","change_handler","create_if_block_20","create_if_block_15","create_if_block_14","set_input_value","to_number","create_if_block_22","create_if_block_21","create_if_block_19","create_if_block_18","create_if_block_17","create_if_block_16","create_if_block_13","create_if_block_12","create_if_block_11","div56","div55","button6","div25","div24","div23","button7","div28","div27","div26","button8","div31","div30","div29","button9","div34","div33","div32","button10","div37","div36","div35","button11","div40","div39","div38","button12","div43","div42","div41","button13","div44","div47","div46","div45","button14","div50","div49","div48","button15","div51","div54","div53","div52","button16","div57","button17","t10","t10_value","t13","t13_value","t16","t16_value","t20","t20_value","t25","t25_value","t28","t28_value","t31","t31_value","t34","t34_value","t37","t37_value","t40","t40_value","t43","t43_value","t46","t46_value","t49","t49_value","t51","t51_value","t54","t54_value","t57","t57_value","t59","t59_value","t63","t63_value","backgroundImageUrl","filesInputElement","titleAutoGenerate","autoTags","responseAutoCopy","widescreenMode","scrollOnBranchChange","userLocation","defaultModelId","showUsername","richTextInput","largeTextAsFile","notificationSound","landingPageMode","chatBubble","chatDirection","imageCompression","imageCompressionSize","showUpdateToast","showEmojiInCall","voiceInterruption","hapticFeedback","togglesScrollOnBranchChange","toggleWidescreenMode","toggleChatBubble","toggleLandingPageMode","toggleShowUpdateToast","toggleNotificationSound","toggleShowChangelog","toggleShowUsername","toggleEmojiInCall","toggleVoiceInterruption","toggleImageCompression","toggleHapticFeedback","toggleUserLocation","position","getUserPosition","updateUserInfo","toggleTitleAutoGenerate","toggleAutoTags","toggleRichTextInput","toggleLargeTextAsFile","toggleResponseAutoCopy","permission","toggleChangeChatDirection","updateInterfaceHandler","$config","select","option_1","option_1_selected_value","datalist","option_1_value_value","if_block0","speechAutoSend","responseAutoPlayback","nonLocalVoices","STTEngine","voices","voice","playbackRate","speedOptions","getVoices","getVoicesLoop","_getVoices","toggleResponseAutoPlayback","toggleSpeechAutoSend","v","svg0","importFiles","showArchiveConfirm","chatImportInputElement","importChats","_chats","createNewChat","exportChats","getAllChats","archiveAllChatsHandler","archiveAllChats","deleteAllChatsHandler","deleteAllChats","getImportOrigin","convertOpenAIChats","addNewMemory","memory","setContent","updateMemoryById","memories","showAddMemoryModal","showEditMemoryModal","selectedMemory","deleteMemoryById","getMemories","deleteMemoriesByUserId","showManageModal","enableMemory","searchData","visibleTabs","tab","searchSettings","query","lowerCaseQuery","keyword","selectedTab","updated","settings","models","updateUserSettings","_getModels","scrollHandler","settingsTabsContainer","addScrollListener","removeScrollListener","randomBetween","min","max","size","duration","infinite","delay","colorRange","colorArray","amount","iterationCount","fallDistance","rounded","cone","noGravity","xSpread","destroyOnComplete","getColor","each_value_2","div0_class_value","each_value_1","confetti","Confetti","section","changelog","getChangelog","br0","br1","adminDetails","getAdminDetails","div_intro","show_if","t15","t15_value","loaded","DB","localDBChats","idx","userSettings","getUserSettings","localStorageSettings","banners","getBanners","tools","getTools","isCtrlPressed","isShiftPressed","showSettings","$showSettings","temporaryChatEnabled","$temporaryChatEnabled","dismissedUpdateToast","$showChangelog"],"mappings":"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mC,EAAApC,CAAA,EATJC,EAEKD,EAAAW,CAAA,sBACLV,EAKCD,EAAAqC,CAAA,OAHY/C,EAAM,CAAA,CAAA,+BAyNrBW,EA0CKkC,EAAAI,CAAA,sFAlQQjD,EAAqB,CAAA,CAAA,uCAhCaA,EAAK,CAAA,EAAC,EAAE,UAAU,EAAA,KAAAI,EAAAoB,EAAAC,CAAA,uBAiCjDzB,EAAK,CAAA,EAAC,EAAE,QAAQ,4CAFjBA,EAAM,CAAA,QAANA,EAAM,CAAA,CAAA,i8BAhXjB,MAAAsD,EAAOC,GAAW,MAAM,0BAEnB,KAAAC,EAAO,EAAA,EAAAC,EAQZ,MAAAwkB,EAAA,EAEJ,GAAI,UACJ,MAAO,UACP,SAAA,CACC,UACA,QACA,WACA,gBACA,SACA,eACA,SACA,WACA,WACA,kBACA,gBACA,iBACA,uBACA,qBACA,kBACA,oBACA,sBAID,GAAI,YACJ,MAAO,YACP,SAAA,CACC,eACA,cACA,KACA,gBACA,UACA,SACA,SACA,cACA,kBACA,UACA,OACA,aACA,SACA,WACA,eACA,kBACA,aACA,iBACA,aACA,aACA,gBACA,cACA,MACA,cACA,MACA,gBACA,QACA,qBACA,cACA,oBACA,SACA,uBACA,iBACA,WACA,gBACA,aACA,iBACA,sBACA,kBACA,mBACA,kBACA,eACA,sBACA,YACA,WACA,eACA,mBACA,YACA,WACA,eACA,qBACA,SACA,iBACA,YACA,QACA,eACA,oBACA,OACA,SACA,eACA,OACA,mBACA,4BAID,GAAI,kBACJ,MAAO,kBACP,SAAA,CACC,kBACA,SACA,cACA,cACA,UACA,mBACA,iBACA,kBACA,wBAID,GAAI,QACJ,MAAO,QACP,SAAA,CACC,QACA,QACA,gBACA,eACA,SACA,SACA,oBACA,MACA,eACA,MACA,eACA,WACA,gBACA,gBACA,iBACA,cACA,eACA,eACA,gBACA,gBACA,iBACA,WACA,iBACA,aACA,eACA,WACA,iBACA,eACA,cACA,eACA,mBACA,kBACA,aACA,aACA,aACA,cACA,aACA,gBACA,gBAID,GAAI,QACJ,MAAO,QACP,SAAA,CACC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","x_google_ignoreList":[0,1,31]}