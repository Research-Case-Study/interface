import{s as at,y as lt,k as A,o as C,i as M,A as dt,d as f,B as At,p as wt,j as Ee,e as m,t as H,c as p,a as g,b as P,I as Ye,f as u,g as c,C as je,u as te,h as z,H as rt,n as Ce,Q as $t,E as gt,F as bt,r as Gl,v as Jl,w as Kl,x as ql,l as ut,T as kt,q as Ct,N as Xl,D as Dl,Y as zi,P as Nl,a0 as pi,ai as Fi,aj as Wi,z as Ol,S as _n,O as al,R as _s,G as vn,ao as Zl}from"../chunks/scheduler.BXITcVIL.js";import{S as ot,i as it,f as ht,b as ae,d as oe,m as ie,t as F,a as Z,e as ce,g as Qe,c as et,h as _i}from"../chunks/index.CKC1pLeO.js";import{t as Me}from"../chunks/Toaster.svelte_svelte_type_style_lang.D8ruyfxE.js";import{f as ws}from"../chunks/FileSaver.min.CimDdHIv.js";import{g as _l}from"../chunks/entry.B71ECrEP.js";import{p as lr}from"../chunks/stores.CTYjQQ_n.js";import{f as vi}from"../chunks/index.tP7o4U0v.js";import{b as Ql,g as Gn,z as nl,h as gn,J as Yi,B as sl,K as bn,q as bs,s as Lt,u as Tl,E as Rn,r as Zi,o as Gi,l as hn,e as es,L as Sa,N as vs,c as Ji,k as Ht,P as Ki,W as gi,a as ol,Q as mn,y as qi,m as bi,j as xn,H as Xi,t as Qi}from"../chunks/index.DGiyb8ll.js";import{o as wi,g as ki,p as ec}from"../chunks/index.DppQFxdV.js";import{b as $a,v as tc,k as gs,x as lc,l as Na,c as Jn,a as sc,y as nc,z as rc}from"../chunks/index.CaHcOjnl.js";import{g as ac}from"../chunks/index.dM6VPaKA.js";import{S as yi,g as oc}from"../chunks/SensitiveInput.CxPfMoNt.js";import{f as ic,h as Ei,i as cc}from"../chunks/index.I0UnpWOX.js";import{e as st,u as yn,o as En}from"../chunks/each.CeC5znru.js";import{m as un,n as Kn,k as Ii,o as fc,t as qn,f as Sl,p as uc,u as dc,i as $l,q as Xn,r as hc,d as wn,v as mc,w as pn,x as Qn,y as zn,z as pc,A as _c,B as vc,C as Oa}from"../chunks/index.CsC5nGr8.js";import{d as kn}from"../chunks/relativeTime.BDz4fsXT.js";import{M as Ll}from"../chunks/Modal.DzDM0HzR.js";import{T as Ot}from"../chunks/Tooltip.Bk1C4ypY.js";import{C as In}from"../chunks/ConfirmDialog.D3WfRuej.js";import{A as Di,U as gc}from"../chunks/UserMenu.CrdK-gvS.js";import"../chunks/updater.DQM2zBRb.js";import{M as bc,T as wc,a as kc,b as yc,S as Ec,P as Ic,c as Dc,u as Tc,g as dn,d as Vc,e as Ac}from"../chunks/index.BsHuebVy.js";import{D as Ti,M as Ut}from"../chunks/Dropdown.B45Ky_zR.js";import{b as Vi}from"../chunks/menu-trigger.CKZC45Md.js";import{f as sr}from"../chunks/index.BFuekP1B.js";import{G as nr}from"../chunks/GarbageBin.BX9-VV8q.js";import{P as Ai}from"../chunks/Pencil.Bn7Q7q1C.js";import{D as Cc,S as Sc}from"../chunks/DocumentDuplicate.CAXHzbaT.js";import{a as $c,g as Nc}from"../chunks/index.-d1fEAWE.js";import{C as Oc}from"../chunks/Check.D1vNMA1z.js";import{X as Ci}from"../chunks/XMark.DBrT1hqs.js";import{S as Si}from"../chunks/Spinner.Ds4ZYjMW.js";import{L as Lc}from"../chunks/Loader.B3t5FLIZ.js";import{C as $i}from"../chunks/ChevronDown.42HMvR_9.js";import{C as Ni}from"../chunks/ChevronRight.Dht20jbC.js";import{C as Oi}from"../chunks/Collapsible.CJfsRPy2.js";import{P as Li}from"../chunks/Plus.FOVUIjv2.js";import{p as La}from"../chunks/marked.esm._0_gBwjO.js";import{F as Mc}from"../chunks/FolderOpen.DtTSM9Np.js";import{E as Bc}from"../chunks/EllipsisHorizontal.BVtzwp2E.js";import{e as Uc,f as Hc,h as Pc,i as jc}from"../chunks/index.B-VROiYa.js";import{A as Rc}from"../chunks/AccessControl.Li_Nbej3.js";import{C as xc}from"../chunks/Cog6.C_CundTt.js";import{k as zc,m as Fc,n as Wc,o as Yc,p as Zc}from"../chunks/index.BmC8ZDwh.js";import{g as Gc}from"../chunks/index.CN3PmZiM.js";import{g as Jc}from"../chunks/index.h_223CD3.js";import{A as Kc}from"../chunks/AdvancedParams.DFF5U3ct.js";import{b as qc}from"../chunks/index.DZ2HRC5r.js";import{S as Mi}from"../chunks/Switch._GFX78Ig.js";import{U as Xc}from"../chunks/User.C46uKRiN.js";import"../chunks/index.DQfRr7yB.js";import{S as Qc}from"../chunks/Search.B45KRAu7.js";const ef=(n,e)=>e.some(t=>n instanceof t);let Ma,Ba;function tf(){return Ma||(Ma=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lf(){return Ba||(Ba=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bi=new WeakMap,er=new WeakMap,Ui=new WeakMap,Fn=new WeakMap,rr=new WeakMap;function sf(n){const e=new Promise((t,l)=>{const s=()=>{n.removeEventListener("success",r),n.removeEventListener("error",o)},r=()=>{t(pl(n.result)),s()},o=()=>{l(n.error),s()};n.addEventListener("success",r),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Bi.set(t,n)}).catch(()=>{}),rr.set(e,n),e}function nf(n){if(er.has(n))return;const e=new Promise((t,l)=>{const s=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",o),n.removeEventListener("abort",o)},r=()=>{t(),s()},o=()=>{l(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",r),n.addEventListener("error",o),n.addEventListener("abort",o)});er.set(n,e)}let tr={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return er.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ui.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pl(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function rf(n){tr=n(tr)}function af(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=n.call(Wn(this),e,...t);return Ui.set(l,e.sort?e.sort():[e]),pl(l)}:lf().includes(n)?function(...e){return n.apply(Wn(this),e),pl(Bi.get(this))}:function(...e){return pl(n.apply(Wn(this),e))}}function of(n){return typeof n=="function"?af(n):(n instanceof IDBTransaction&&nf(n),ef(n,tf())?new Proxy(n,tr):n)}function pl(n){if(n instanceof IDBRequest)return sf(n);if(Fn.has(n))return Fn.get(n);const e=of(n);return e!==n&&(Fn.set(n,e),rr.set(e,n)),e}const Wn=n=>rr.get(n);function cf(n,e,{blocked:t,upgrade:l,blocking:s,terminated:r}={}){const o=indexedDB.open(n,e),a=pl(o);return l&&o.addEventListener("upgradeneeded",i=>{l(pl(o.result),i.oldVersion,i.newVersion,pl(o.transaction),i)}),t&&o.addEventListener("blocked",i=>t(i.oldVersion,i.newVersion,i)),a.then(i=>{r&&i.addEventListener("close",()=>r()),s&&i.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}function Ua(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),pl(t).then(()=>{})}const ff=["get","getKey","getAll","getAllKeys","count"],uf=["put","add","delete","clear"],Yn=new Map;function Ha(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Yn.get(e))return Yn.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,s=uf.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(s||ff.includes(t)))return;const r=async function(o,...a){const i=this.transaction(o,s?"readwrite":"readonly");let d=i.store;return l&&(d=d.index(a.shift())),(await Promise.all([d[t](...a),s&&i.done]))[0]};return Yn.set(e,r),r}rf(n=>({...n,get:(e,t,l)=>Ha(e,t)||n.get(e,t,l),has:(e,t)=>!!Ha(e,t)||n.has(e,t)}));const df=async(n,e)=>{let t=null;const l=await fetch(`${Ql}/folders/`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${n}`},body:JSON.stringify({name:e})}).then(async s=>{if(!s.ok)throw await s.json();return s.json()}).catch(s=>(t=s.detail,null));if(t)throw t;return l},hf=async(n="")=>{let e=null;const t=await fetch(`${Ql}/folders/`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${n}`}}).then(async l=>{if(!l.ok)throw await l.json();return l.json()}).then(l=>l).catch(l=>(e=l.detail,console.log(l),null));if(e)throw e;return t},mf=async(n,e,t)=>{let l=null;const s=await fetch(`${Ql}/folders/${e}/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${n}`},body:JSON.stringify({name:t})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).then(r=>r).catch(r=>(l=r.detail,console.log(r),null));if(l)throw l;return s},pf=async(n,e,t)=>{let l=null;const s=await fetch(`${Ql}/folders/${e}/update/expanded`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${n}`},body:JSON.stringify({is_expanded:t})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).then(r=>r).catch(r=>(l=r.detail,console.log(r),null));if(l)throw l;return s},Hi=async(n,e,t)=>{let l=null;const s=await fetch(`${Ql}/folders/${e}/update/parent`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${n}`},body:JSON.stringify({parent_id:t})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).then(r=>r).catch(r=>(l=r.detail,console.log(r),null));if(l)throw l;return s},_f=async(n,e)=>{let t=null;const l=await fetch(`${Ql}/folders/${e}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${n}`}}).then(async s=>{if(!s.ok)throw await s.json();return s.json()}).then(s=>s).catch(s=>(t=s.detail,console.log(s),null));if(t)throw t;return l};function Pa(n,e,t){const l=n.slice();return l[22]=e[t],l[24]=t,l}function vf(n){let e,t=n[4].t("You have no archived conversations.")+"",l;return{c(){e=m("div"),l=H(t),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","text-left text-sm w-full mb-8")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r&16&&t!==(t=s[4].t("You have no archived conversations.")+"")&&z(l,t)},i:Ce,o:Ce,d(s){s&&f(e)}}}function gf(n){let e,t,l,s,r,o,a,i=n[4].t("Name")+"",d,h,_,v=n[4].t("Created At")+"",b,w,y,k,V,U,I,E,D=n[4].t("Unarchive All Archived Chats")+"",$,T,L,N=n[4].t("Export All Archived Chats")+"",S,W,q,O,B=st(n[1].filter(n[14])),Y=[];for(let G=0;G<B.length;G+=1)Y[G]=ja(Pa(n,B,G));const J=G=>Z(Y[G],1,1,()=>{Y[G]=null});return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("table"),r=m("thead"),o=m("tr"),a=m("th"),d=H(i),h=A(),_=m("th"),b=H(v),w=A(),y=m("th"),k=A(),V=m("tbody");for(let G=0;G<Y.length;G+=1)Y[G].c();U=A(),I=m("div"),E=m("button"),$=H(D),T=A(),L=m("button"),S=H(N),this.h()},l(G){e=p(G,"DIV",{class:!0});var R=g(e);t=p(R,"DIV",{class:!0});var j=g(t);l=p(j,"DIV",{class:!0});var x=g(l);s=p(x,"TABLE",{class:!0});var X=g(s);r=p(X,"THEAD",{class:!0});var K=g(r);o=p(K,"TR",{});var ee=g(o);a=p(ee,"TH",{scope:!0,class:!0});var se=g(a);d=P(se,i),se.forEach(f),h=C(ee),_=p(ee,"TH",{scope:!0,class:!0});var ue=g(_);b=P(ue,v),ue.forEach(f),w=C(ee),y=p(ee,"TH",{scope:!0,class:!0}),g(y).forEach(f),ee.forEach(f),K.forEach(f),k=C(X),V=p(X,"TBODY",{});var he=g(V);for(let ke=0;ke<Y.length;ke+=1)Y[ke].l(he);he.forEach(f),X.forEach(f),x.forEach(f),j.forEach(f),U=C(R),I=p(R,"DIV",{class:!0});var me=g(I);E=p(me,"BUTTON",{class:!0});var pe=g(E);$=P(pe,D),pe.forEach(f),T=C(me),L=p(me,"BUTTON",{class:!0});var de=g(L);S=P(de,N),de.forEach(f),me.forEach(f),R.forEach(f),this.h()},h(){u(a,"scope","col"),u(a,"class","px-3 py-2"),u(_,"scope","col"),u(_,"class","px-3 py-2 hidden md:flex"),u(y,"scope","col"),u(y,"class","px-3 py-2 text-right"),u(r,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),u(s,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),u(l,"class","relative overflow-x-auto"),u(t,"class","text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll"),u(E,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),u(L,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),u(I,"class","flex flex-wrap text-sm font-medium gap-1.5 mt-2 m-1 justify-end w-full"),u(e,"class","w-full")},m(G,R){M(G,e,R),c(e,t),c(t,l),c(l,s),c(s,r),c(r,o),c(o,a),c(a,d),c(o,h),c(o,_),c(_,b),c(o,w),c(o,y),c(s,k),c(s,V);for(let j=0;j<Y.length;j+=1)Y[j]&&Y[j].m(V,null);c(e,U),c(e,I),c(I,E),c(E,$),c(I,T),c(I,L),c(L,S),W=!0,q||(O=[te(E,"click",n[17]),te(L,"click",n[18])],q=!0)},p(G,R){if((!W||R&16)&&i!==(i=G[4].t("Name")+"")&&z(d,i),(!W||R&16)&&v!==(v=G[4].t("Created At")+"")&&z(b,v),R&214){B=st(G[1].filter(G[14]));let j;for(j=0;j<B.length;j+=1){const x=Pa(G,B,j);Y[j]?(Y[j].p(x,R),F(Y[j],1)):(Y[j]=ja(x),Y[j].c(),F(Y[j],1),Y[j].m(V,null))}for(Qe(),j=B.length;j<Y.length;j+=1)J(j);et()}(!W||R&16)&&D!==(D=G[4].t("Unarchive All Archived Chats")+"")&&z($,D),(!W||R&16)&&N!==(N=G[4].t("Export All Archived Chats")+"")&&z(S,N)},i(G){if(!W){for(let R=0;R<B.length;R+=1)F(Y[R]);W=!0}},o(G){Y=Y.filter(Boolean);for(let R=0;R<Y.length;R+=1)Z(Y[R]);W=!1},d(G){G&&f(e),$t(Y,G),q=!1,rt(O)}}}function bf(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"></path></svg>',l,s;function r(){return n[15](n[22])}return{c(){e=m("button"),e.innerHTML=t,this.h()},l(o){e=p(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(e)!=="svelte-1x4djqv"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,a){M(o,e,a),l||(s=te(e,"click",r),l=!0)},p(o,a){n=o},d(o){o&&f(e),l=!1,s()}}}function wf(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,s;function r(){return n[16](n[22])}return{c(){e=m("button"),e.innerHTML=t,this.h()},l(o){e=p(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(e)!=="svelte-1pagubv"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,a){M(o,e,a),l||(s=te(e,"click",r),l=!0)},p(o,a){n=o},d(o){o&&f(e),l=!1,s()}}}function ja(n){let e,t,l,s,r=n[22].title+"",o,a,i,d,h,_=kn(n[22].created_at*1e3).format(n[4].t("MMMM DD, YYYY HH:mm"))+"",v,b,w,y,k,V,U,I,E,D;return k=new Ot({props:{content:n[4].t("Unarchive Chat"),$$slots:{default:[bf]},$$scope:{ctx:n}}}),U=new Ot({props:{content:n[4].t("Delete Chat"),$$slots:{default:[wf]},$$scope:{ctx:n}}}),{c(){e=m("tr"),t=m("td"),l=m("a"),s=m("div"),o=H(r),i=A(),d=m("td"),h=m("div"),v=H(_),b=A(),w=m("td"),y=m("div"),ae(k.$$.fragment),V=A(),ae(U.$$.fragment),I=A(),this.h()},l($){e=p($,"TR",{class:!0});var T=g(e);t=p(T,"TD",{class:!0});var L=g(t);l=p(L,"A",{href:!0,target:!0});var N=g(l);s=p(N,"DIV",{class:!0});var S=g(s);o=P(S,r),S.forEach(f),N.forEach(f),L.forEach(f),i=C(T),d=p(T,"TD",{class:!0});var W=g(d);h=p(W,"DIV",{class:!0});var q=g(h);v=P(q,_),q.forEach(f),W.forEach(f),b=C(T),w=p(T,"TD",{class:!0});var O=g(w);y=p(O,"DIV",{class:!0});var B=g(y);oe(k.$$.fragment,B),V=C(B),oe(U.$$.fragment,B),B.forEach(f),O.forEach(f),I=C(T),T.forEach(f),this.h()},h(){u(s,"class","underline line-clamp-1"),u(l,"href",a="/c/"+n[22].id),u(l,"target","_blank"),u(t,"class","px-3 py-1 w-2/3"),u(h,"class","my-auto"),u(d,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),u(y,"class","flex justify-end w-full"),u(w,"class","px-3 py-1 text-right"),u(e,"class",E="bg-transparent "+(n[24]!==n[1].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m($,T){M($,e,T),c(e,t),c(t,l),c(l,s),c(s,o),c(e,i),c(e,d),c(d,h),c(h,v),c(e,b),c(e,w),c(w,y),ie(k,y,null),c(y,V),ie(U,y,null),c(e,I),D=!0},p($,T){(!D||T&6)&&r!==(r=$[22].title+"")&&z(o,r),(!D||T&6&&a!==(a="/c/"+$[22].id))&&u(l,"href",a),(!D||T&22)&&_!==(_=kn($[22].created_at*1e3).format($[4].t("MMMM DD, YYYY HH:mm"))+"")&&z(v,_);const L={};T&16&&(L.content=$[4].t("Unarchive Chat")),T&33554438&&(L.$$scope={dirty:T,ctx:$}),k.$set(L);const N={};T&16&&(N.content=$[4].t("Delete Chat")),T&33554438&&(N.$$scope={dirty:T,ctx:$}),U.$set(N),(!D||T&2&&E!==(E="bg-transparent "+($[24]!==$[1].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&u(e,"class",E)},i($){D||(F(k.$$.fragment,$),F(U.$$.fragment,$),D=!0)},o($){Z(k.$$.fragment,$),Z(U.$$.fragment,$),D=!1},d($){$&&f(e),ce(k),ce(U)}}}function kf(n){let e,t,l,s=n[4].t("Archived Chats")+"",r,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" clip-rule="evenodd"></path></svg>',d,h,_,v,b,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',y,k,V,U,I,E,D,$,T,L,N,S;const W=[gf,vf],q=[];function O(B,Y){return B[1].length>0?0:1}return $=O(n),T=q[$]=W[$](n),{c(){e=m("div"),t=m("div"),l=m("div"),r=H(s),o=A(),a=m("button"),a.innerHTML=i,d=A(),h=m("div"),_=m("div"),v=m("div"),b=m("div"),b.innerHTML=w,y=A(),k=m("input"),U=A(),I=m("hr"),E=A(),D=m("div"),T.c(),this.h()},l(B){e=p(B,"DIV",{});var Y=g(e);t=p(Y,"DIV",{class:!0});var J=g(t);l=p(J,"DIV",{class:!0});var G=g(l);r=P(G,s),G.forEach(f),o=C(J),a=p(J,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(a)!=="svelte-i7w487"&&(a.innerHTML=i),J.forEach(f),d=C(Y),h=p(Y,"DIV",{class:!0});var R=g(h);_=p(R,"DIV",{class:!0});var j=g(_);v=p(j,"DIV",{class:!0});var x=g(v);b=p(x,"DIV",{class:!0,"data-svelte-h":!0}),Ye(b)!=="svelte-kinl2y"&&(b.innerHTML=w),y=C(x),k=p(x,"INPUT",{class:!0,placeholder:!0}),x.forEach(f),j.forEach(f),U=C(R),I=p(R,"HR",{class:!0}),E=C(R),D=p(R,"DIV",{class:!0});var X=g(D);T.l(X),X.forEach(f),R.forEach(f),Y.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(a,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),u(b,"class","self-center ml-1 mr-3"),u(k,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),u(k,"placeholder",V=n[4].t("Search Chats")),u(v,"class","flex flex-1"),u(_,"class","flex w-full mt-2 space-x-2"),u(I,"class","dark:border-gray-850 my-2"),u(D,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(h,"class","flex flex-col w-full px-5 pb-4 dark:text-gray-200")},m(B,Y){M(B,e,Y),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),c(e,d),c(e,h),c(h,_),c(_,v),c(v,b),c(v,y),c(v,k),je(k,n[2]),c(h,U),c(h,I),c(h,E),c(h,D),q[$].m(D,null),L=!0,N||(S=[te(a,"click",n[12]),te(k,"input",n[13])],N=!0)},p(B,Y){(!L||Y&16)&&s!==(s=B[4].t("Archived Chats")+"")&&z(r,s),(!L||Y&16&&V!==(V=B[4].t("Search Chats")))&&u(k,"placeholder",V),Y&4&&k.value!==B[2]&&je(k,B[2]);let J=$;$=O(B),$===J?q[$].p(B,Y):(Qe(),Z(q[J],1,1,()=>{q[J]=null}),et(),T=q[$],T?T.p(B,Y):(T=q[$]=W[$](B),T.c()),F(T,1),T.m(D,null))},i(B){L||(F(T),L=!0)},o(B){Z(T),L=!1},d(B){B&&f(e),q[$].d(),N=!1,rt(S)}}}function yf(n){let e,t,l,s,r,o;function a(_){n[10](_)}let i={message:n[4].t("Are you sure you want to unarchive all archived chats?"),confirmLabel:n[4].t("Unarchive All")};n[3]!==void 0&&(i.show=n[3]),e=new In({props:i}),lt.push(()=>ht(e,"show",a)),e.$on("confirm",n[11]);function d(_){n[19](_)}let h={size:"lg",$$slots:{default:[kf]},$$scope:{ctx:n}};return n[0]!==void 0&&(h.show=n[0]),s=new Ll({props:h}),lt.push(()=>ht(s,"show",d)),{c(){ae(e.$$.fragment),l=A(),ae(s.$$.fragment)},l(_){oe(e.$$.fragment,_),l=C(_),oe(s.$$.fragment,_)},m(_,v){ie(e,_,v),M(_,l,v),ie(s,_,v),o=!0},p(_,[v]){const b={};v&16&&(b.message=_[4].t("Are you sure you want to unarchive all archived chats?")),v&16&&(b.confirmLabel=_[4].t("Unarchive All")),!t&&v&8&&(t=!0,b.show=_[3],dt(()=>t=!1)),e.$set(b);const w={};v&33554463&&(w.$$scope={dirty:v,ctx:_}),!r&&v&1&&(r=!0,w.show=_[0],dt(()=>r=!1)),s.$set(w)},i(_){o||(F(e.$$.fragment,_),F(s.$$.fragment,_),o=!0)},o(_){Z(e.$$.fragment,_),Z(s.$$.fragment,_),o=!1},d(_){_&&f(l),ce(e,_),ce(s,_)}}}function Ef(n,e,t){let l;const{saveAs:s}=ws,r=At(),o=wt("i18n");Ee(n,o,N=>t(4,l=N));let{show:a=!1}=e,i=[],d="",h=!1;const _=async N=>{await Kn(localStorage.token,N).catch(S=>{Me.error(`${S}`)}),t(1,i=await un(localStorage.token)),r("change")},v=async N=>{await Ii(localStorage.token,N).catch(S=>{Me.error(`${S}`)}),t(1,i=await un(localStorage.token))},b=async()=>{const N=await fc(localStorage.token);let S=new Blob([JSON.stringify(N)],{type:"application/json"});s(S,`${l.t("archived-chat-export")}-${Date.now()}.json`)},w=async()=>{for(const N of i)await Kn(localStorage.token,N.id);t(1,i=await un(localStorage.token))};function y(N){h=N,t(3,h)}const k=()=>{w()},V=()=>{t(0,a=!1)};function U(){d=this.value,t(2,d)}const I=N=>d===""||N.title.toLowerCase().includes(d.toLowerCase()),E=async N=>{_(N.id)},D=async N=>{v(N.id)},$=()=>{t(3,h=!0)},T=()=>{b()};function L(N){a=N,t(0,a)}return n.$$set=N=>{"show"in N&&t(0,a=N.show)},n.$$.update=()=>{n.$$.dirty&1&&a&&(async()=>t(1,i=await un(localStorage.token)))()},[a,i,d,h,l,o,_,v,b,w,y,k,V,U,I,E,D,$,T,L]}class If extends ot{constructor(e){super(),it(this,e,Ef,yf,at,{show:0})}}function Df(n){let e,t;return{c(){e=gt("svg"),t=gt("path"),this.h()},l(l){e=bt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=g(e);t=bt(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",n[1]),u(e,"stroke","currentColor"),u(e,"class",n[0])},m(l,s){M(l,e,s),c(e,t)},p(l,[s]){s&2&&u(e,"stroke-width",l[1]),s&1&&u(e,"class",l[0])},i:Ce,o:Ce,d(l){l&&f(e)}}}function Tf(n,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:s="1.5"}=e;return n.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,s=r.strokeWidth)},[l,s]}class Vf extends ot{constructor(e){super(),it(this,e,Tf,Df,at,{className:0,strokeWidth:1})}}function Af(n){let e,t;return{c(){e=gt("svg"),t=gt("path"),this.h()},l(l){e=bt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=g(e);t=bt(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","m3 3 1.664 1.664M21 21l-1.5-1.5m-5.485-1.242L12 17.25 4.5 21V8.742m.164-4.078a2.15 2.15 0 0 1 1.743-1.342 48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185V19.5M4.664 4.664 19.5 19.5"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",n[1]),u(e,"stroke","currentColor"),u(e,"class",n[0])},m(l,s){M(l,e,s),c(e,t)},p(l,[s]){s&2&&u(e,"stroke-width",l[1]),s&1&&u(e,"class",l[0])},i:Ce,o:Ce,d(l){l&&f(e)}}}function Cf(n,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:s="1.5"}=e;return n.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,s=r.strokeWidth)},[l,s]}class Sf extends ot{constructor(e){super(),it(this,e,Cf,Af,at,{className:0,strokeWidth:1})}}function $f(n){let e,t;return{c(){e=gt("svg"),t=gt("path"),this.h()},l(l){e=bt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=g(e);t=bt(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",n[1]),u(e,"stroke","currentColor"),u(e,"class",n[0])},m(l,s){M(l,e,s),c(e,t)},p(l,[s]){s&2&&u(e,"stroke-width",l[1]),s&1&&u(e,"class",l[0])},i:Ce,o:Ce,d(l){l&&f(e)}}}function Nf(n,e,t){let{className:l="size-4"}=e,{strokeWidth:s="1.5"}=e;return n.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,s=r.strokeWidth)},[l,s]}class Pi extends ot{constructor(e){super(),it(this,e,Nf,$f,at,{className:0,strokeWidth:1})}}function Of(n){let e;const t=n[16].default,l=Gl(t,n,n[31],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r[1]&1)&&Jl(l,t,s,s[31],e?ql(t,s[31],r,null):Kl(s[31]),null)},i(s){e||(F(l,s),e=!0)},o(s){Z(l,s),e=!1},d(s){l&&l.d(s)}}}function Lf(n){let e,t;return e=new Ot({props:{content:n[9].t("More"),$$slots:{default:[Of]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[0]&512&&(r.content=l[9].t("More")),s[1]&1&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Mf(n){let e,t,l,s=n[9].t("Pin")+"",r,o;return e=new Vf({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=H(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Pin")+"")&&z(r,s)},i(a){o||(F(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function Bf(n){let e,t,l,s=n[9].t("Unpin")+"",r,o;return e=new Sf({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=H(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Unpin")+"")&&z(r,s)},i(a){o||(F(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function Uf(n){let e,t,l,s;const r=[Bf,Mf],o=[];function a(i,d){return i[8]?0:1}return e=a(n),t=o[e]=r[e](n),{c(){t.c(),l=ut()},l(i){t.l(i),l=ut()},m(i,d){o[e].m(i,d),M(i,l,d),s=!0},p(i,d){let h=e;e=a(i),e===h?o[e].p(i,d):(Qe(),Z(o[h],1,1,()=>{o[h]=null}),et(),t=o[e],t?t.p(i,d):(t=o[e]=r[e](i),t.c()),F(t,1),t.m(l.parentNode,l))},i(i){s||(F(t),s=!0)},o(i){Z(t),s=!1},d(i){i&&f(l),o[e].d(i)}}}function Hf(n){let e,t,l,s=n[9].t("Rename")+"",r,o;return e=new Ai({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=H(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Rename")+"")&&z(r,s)},i(a){o||(F(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function Pf(n){let e,t,l,s=n[9].t("Clone")+"",r,o;return e=new Cc({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=H(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Clone")+"")&&z(r,s)},i(a){o||(F(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function jf(n){let e,t,l,s=n[9].t("Archive")+"",r,o;return e=new Di({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=H(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Archive")+"")&&z(r,s)},i(a){o||(F(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function Rf(n){let e,t,l,s=n[9].t("Share")+"",r,o;return e=new Sc({}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=H(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Share")+"")&&z(r,s)},i(a){o||(F(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function xf(n){let e,t,l,s=n[9].t("Download")+"",r,o;return e=new Pi({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=H(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Download")+"")&&z(r,s)},i(a){o||(F(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function zf(n){let e,t=n[9].t("Export chat (.json)")+"",l;return{c(){e=m("div"),l=H(t),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","flex items-center line-clamp-1")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&512&&t!==(t=s[9].t("Export chat (.json)")+"")&&z(l,t)},d(s){s&&f(e)}}}function Ff(n){let e,t=n[9].t("Plain text (.txt)")+"",l;return{c(){e=m("div"),l=H(t),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","flex items-center line-clamp-1")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&512&&t!==(t=s[9].t("Plain text (.txt)")+"")&&z(l,t)},d(s){s&&f(e)}}}function Wf(n){let e,t=n[9].t("PDF document (.pdf)")+"",l;return{c(){e=m("div"),l=H(t),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","flex items-center line-clamp-1")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&512&&t!==(t=s[9].t("PDF document (.pdf)")+"")&&z(l,t)},d(s){s&&f(e)}}}function Yf(n){let e,t,l,s,r,o;return e=new Ut({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[zf]},$$scope:{ctx:n}}}),e.$on("click",n[22]),l=new Ut({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Ff]},$$scope:{ctx:n}}}),l.$on("click",n[23]),r=new Ut({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Wf]},$$scope:{ctx:n}}}),r.$on("click",n[24]),{c(){ae(e.$$.fragment),t=A(),ae(l.$$.fragment),s=A(),ae(r.$$.fragment)},l(a){oe(e.$$.fragment,a),t=C(a),oe(l.$$.fragment,a),s=C(a),oe(r.$$.fragment,a)},m(a,i){ie(e,a,i),M(a,t,i),ie(l,a,i),M(a,s,i),ie(r,a,i),o=!0},p(a,i){const d={};i[0]&512|i[1]&1&&(d.$$scope={dirty:i,ctx:a}),e.$set(d);const h={};i[0]&512|i[1]&1&&(h.$$scope={dirty:i,ctx:a}),l.$set(h);const _={};i[0]&512|i[1]&1&&(_.$$scope={dirty:i,ctx:a}),r.$set(_)},i(a){o||(F(e.$$.fragment,a),F(l.$$.fragment,a),F(r.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),Z(l.$$.fragment,a),Z(r.$$.fragment,a),o=!1},d(a){a&&(f(t),f(s)),ce(e,a),ce(l,a),ce(r,a)}}}function Zf(n){let e,t,l,s;return e=new kc({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[xf]},$$scope:{ctx:n}}}),l=new yc({props:{class:"w-full rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",transition:sr,sideOffset:8,$$slots:{default:[Yf]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment),t=A(),ae(l.$$.fragment)},l(r){oe(e.$$.fragment,r),t=C(r),oe(l.$$.fragment,r)},m(r,o){ie(e,r,o),M(r,t,o),ie(l,r,o),s=!0},p(r,o){const a={};o[0]&512|o[1]&1&&(a.$$scope={dirty:o,ctx:r}),e.$set(a);const i={};o[0]&512|o[1]&1&&(i.$$scope={dirty:o,ctx:r}),l.$set(i)},i(r){s||(F(e.$$.fragment,r),F(l.$$.fragment,r),s=!0)},o(r){Z(e.$$.fragment,r),Z(l.$$.fragment,r),s=!1},d(r){r&&f(t),ce(e,r),ce(l,r)}}}function Gf(n){let e,t,l,s=n[9].t("Delete")+"",r,o;return e=new nr({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=H(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Delete")+"")&&z(r,s)},i(a){o||(F(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function Jf(n){let e,t,l,s,r,o,a,i,d,h,_,v,b,w,y,k,V,U,I;return e=new Ut({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Uf]},$$scope:{ctx:n}}}),e.$on("click",n[17]),l=new Ut({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Hf]},$$scope:{ctx:n}}}),l.$on("click",n[18]),r=new Ut({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Pf]},$$scope:{ctx:n}}}),r.$on("click",n[19]),a=new Ut({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[jf]},$$scope:{ctx:n}}}),a.$on("click",n[20]),d=new Ut({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[Rf]},$$scope:{ctx:n}}}),d.$on("click",n[21]),_=new bc({props:{$$slots:{default:[Zf]},$$scope:{ctx:n}}}),b=new Ut({props:{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Gf]},$$scope:{ctx:n}}}),b.$on("click",n[25]),U=new wc({props:{chatId:n[6]}}),U.$on("add",n[26]),U.$on("delete",n[27]),U.$on("close",n[28]),{c(){ae(e.$$.fragment),t=A(),ae(l.$$.fragment),s=A(),ae(r.$$.fragment),o=A(),ae(a.$$.fragment),i=A(),ae(d.$$.fragment),h=A(),ae(_.$$.fragment),v=A(),ae(b.$$.fragment),w=A(),y=m("hr"),k=A(),V=m("div"),ae(U.$$.fragment),this.h()},l(E){oe(e.$$.fragment,E),t=C(E),oe(l.$$.fragment,E),s=C(E),oe(r.$$.fragment,E),o=C(E),oe(a.$$.fragment,E),i=C(E),oe(d.$$.fragment,E),h=C(E),oe(_.$$.fragment,E),v=C(E),oe(b.$$.fragment,E),w=C(E),y=p(E,"HR",{class:!0}),k=C(E),V=p(E,"DIV",{class:!0});var D=g(V);oe(U.$$.fragment,D),D.forEach(f),this.h()},h(){u(y,"class","border-gray-50 dark:border-gray-850 my-0.5"),u(V,"class","flex p-1")},m(E,D){ie(e,E,D),M(E,t,D),ie(l,E,D),M(E,s,D),ie(r,E,D),M(E,o,D),ie(a,E,D),M(E,i,D),ie(d,E,D),M(E,h,D),ie(_,E,D),M(E,v,D),ie(b,E,D),M(E,w,D),M(E,y,D),M(E,k,D),M(E,V,D),ie(U,V,null),I=!0},p(E,D){const $={};D[0]&768|D[1]&1&&($.$$scope={dirty:D,ctx:E}),e.$set($);const T={};D[0]&512|D[1]&1&&(T.$$scope={dirty:D,ctx:E}),l.$set(T);const L={};D[0]&512|D[1]&1&&(L.$$scope={dirty:D,ctx:E}),r.$set(L);const N={};D[0]&512|D[1]&1&&(N.$$scope={dirty:D,ctx:E}),a.$set(N);const S={};D[0]&512|D[1]&1&&(S.$$scope={dirty:D,ctx:E}),d.$set(S);const W={};D[0]&512|D[1]&1&&(W.$$scope={dirty:D,ctx:E}),_.$set(W);const q={};D[0]&512|D[1]&1&&(q.$$scope={dirty:D,ctx:E}),b.$set(q);const O={};D[0]&64&&(O.chatId=E[6]),U.$set(O)},i(E){I||(F(e.$$.fragment,E),F(l.$$.fragment,E),F(r.$$.fragment,E),F(a.$$.fragment,E),F(d.$$.fragment,E),F(_.$$.fragment,E),F(b.$$.fragment,E),F(U.$$.fragment,E),I=!0)},o(E){Z(e.$$.fragment,E),Z(l.$$.fragment,E),Z(r.$$.fragment,E),Z(a.$$.fragment,E),Z(d.$$.fragment,E),Z(_.$$.fragment,E),Z(b.$$.fragment,E),Z(U.$$.fragment,E),I=!1},d(E){E&&(f(t),f(s),f(o),f(i),f(h),f(v),f(w),f(y),f(k),f(V)),ce(e,E),ce(l,E),ce(r,E),ce(a,E),ce(d,E),ce(_,E),ce(b,E),ce(U)}}}function Kf(n){let e,t,l;return t=new Vi({props:{class:"w-full max-w-[200px] rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:-2,side:"bottom",align:"start",transition:sr,$$slots:{default:[Jf]},$$scope:{ctx:n}}}),{c(){e=m("div"),ae(t.$$.fragment),this.h()},l(s){e=p(s,"DIV",{slot:!0});var r=g(e);oe(t.$$.fragment,r),r.forEach(f),this.h()},h(){u(e,"slot","content")},m(s,r){M(s,e,r),ie(t,e,null),l=!0},p(s,r){const o={};r[0]&1023|r[1]&1&&(o.$$scope={dirty:r,ctx:s}),t.$set(o)},i(s){l||(F(t.$$.fragment,s),l=!0)},o(s){Z(t.$$.fragment,s),l=!1},d(s){s&&f(e),ce(t)}}}function qf(n){let e,t,l;function s(o){n[29](o)}let r={$$slots:{content:[Kf],default:[Lf]},$$scope:{ctx:n}};return n[7]!==void 0&&(r.show=n[7]),e=new Ti({props:r}),lt.push(()=>ht(e,"show",s)),e.$on("change",n[30]),{c(){ae(e.$$.fragment)},l(o){oe(e.$$.fragment,o)},m(o,a){ie(e,o,a),l=!0},p(o,a){const i={};a[0]&1023|a[1]&1&&(i.$$scope={dirty:a,ctx:o}),!t&&a[0]&128&&(t=!0,i.show=o[7],dt(()=>t=!1)),e.$set(i)},i(o){l||(F(e.$$.fragment,o),l=!0)},o(o){Z(e.$$.fragment,o),l=!1},d(o){ce(e,o)}}}function Xf(n,e,t){let l,{$$slots:s={},$$scope:r}=e;const{saveAs:o}=ws,a=At(),i=wt("i18n");Ee(n,i,K=>t(9,l=K));let{shareHandler:d}=e,{cloneChatHandler:h}=e,{archiveChatHandler:_}=e,{renameHandler:v}=e,{deleteHandler:b}=e,{onClose:w}=e,{chatId:y=""}=e,k=!1,V=!1;const U=async()=>{await qn(localStorage.token,y),a("change")},I=async()=>{t(8,V=await uc(localStorage.token,y))},E=async K=>{const ee=K.chat.history;return $a(ee,ee.currentId).reduce((he,me,pe,de)=>`${he}### ${me.role.toUpperCase()}
${me.content}

`,"").trim()},D=async()=>{const K=await Sl(localStorage.token,y);if(!K)return;const ee=await E(K);let se=new Blob([ee],{type:"text/plain"});o(se,`chat-${K.chat.title}.txt`)},$=async()=>{const K=await Sl(localStorage.token,y);if(!K)return;const ee=K.chat.history,se=$a(ee,ee.currentId),ue=await $c(K.chat.title,se),he=window.URL.createObjectURL(ue),me=document.createElement("a");me.href=he,me.download=`chat-${K.chat.title}.pdf`,document.body.appendChild(me),me.click(),document.body.removeChild(me),window.URL.revokeObjectURL(he)},T=async()=>{const K=await Sl(localStorage.token,y);if(K){let ee=new Blob([JSON.stringify([K])],{type:"application/json"});o(ee,`chat-export-${Date.now()}.json`)}},L=()=>{U()},N=()=>{v()},S=()=>{h()},W=()=>{_()},q=()=>{d()},O=()=>{T()},B=()=>{D()},Y=()=>{$()},J=()=>{b()},G=K=>{a("tag",{type:"add",name:K.detail.name}),t(7,k=!1)},R=K=>{a("tag",{type:"delete",name:K.detail.name}),t(7,k=!1)},j=()=>{t(7,k=!1),w()};function x(K){k=K,t(7,k)}const X=K=>{K.detail===!1&&w()};return n.$$set=K=>{"shareHandler"in K&&t(0,d=K.shareHandler),"cloneChatHandler"in K&&t(1,h=K.cloneChatHandler),"archiveChatHandler"in K&&t(2,_=K.archiveChatHandler),"renameHandler"in K&&t(3,v=K.renameHandler),"deleteHandler"in K&&t(4,b=K.deleteHandler),"onClose"in K&&t(5,w=K.onClose),"chatId"in K&&t(6,y=K.chatId),"$$scope"in K&&t(31,r=K.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&128&&k&&I()},[d,h,_,v,b,w,y,k,V,l,a,i,U,D,$,T,s,L,N,S,W,q,O,B,Y,J,G,R,j,x,X,r]}class Qf extends ot{constructor(e){super(),it(this,e,Xf,qf,at,{shareHandler:0,cloneChatHandler:1,archiveChatHandler:2,renameHandler:3,deleteHandler:4,onClose:5,chatId:6},null,[-1,-1])}}function eu(n){let e,t,l;const s=n[4].default,r=Gl(s,n,n[3],null);return{c(){e=m("div"),t=m("div"),r&&r.c(),this.h()},l(o){e=p(o,"DIV",{class:!0});var a=g(e);t=p(a,"DIV",{class:!0,style:!0});var i=g(t);r&&r.l(i),i.forEach(f),a.forEach(f),this.h()},h(){u(t,"class","absolute text-white z-[99999]"),kt(t,"top",n[1]+10+"px"),kt(t,"left",n[0]+10+"px"),u(e,"class","fixed top-0 left-0 w-screen h-[100dvh] z-50 touch-none pointer-events-none")},m(o,a){M(o,e,a),c(e,t),r&&r.m(t,null),n[5](e),l=!0},p(o,[a]){r&&r.p&&(!l||a&8)&&Jl(r,s,o,o[3],l?ql(s,o[3],a,null):Kl(o[3]),null),(!l||a&2)&&kt(t,"top",o[1]+10+"px"),(!l||a&1)&&kt(t,"left",o[0]+10+"px")},i(o){l||(F(r,o),l=!0)},o(o){Z(r,o),l=!1},d(o){o&&f(e),r&&r.d(o),n[5](null)}}}function tu(n,e,t){let{$$slots:l={},$$scope:s}=e,{x:r}=e,{y:o}=e,a=null;Ct(()=>{document.body.appendChild(a),document.body.style.overflow="hidden"}),Xl(()=>{document.body.removeChild(a),document.body.style.overflow="unset"});function i(d){lt[d?"unshift":"push"](()=>{a=d,t(2,a)})}return n.$$set=d=>{"x"in d&&t(0,r=d.x),"y"in d&&t(1,o=d.y),"$$scope"in d&&t(3,s=d.$$scope)},[r,o,a,s,l,i]}class ji extends ot{constructor(e){super(),it(this,e,tu,eu,at,{x:0,y:1})}}function lu(n){let e,t;return{c(){e=gt("svg"),t=gt("path"),this.h()},l(l){e=bt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=g(e);t=bt(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",n[1]),u(e,"stroke","currentColor"),u(e,"class",n[0])},m(l,s){M(l,e,s),c(e,t)},p(l,[s]){s&2&&u(e,"stroke-width",l[1]),s&1&&u(e,"class",l[0])},i:Ce,o:Ce,d(l){l&&f(e)}}}function su(n,e,t){let{className:l="size-4"}=e,{strokeWidth:s="1.5"}=e;return n.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,s=r.strokeWidth)},[l,s]}class nu extends ot{constructor(e){super(),it(this,e,su,lu,at,{className:0,strokeWidth:1})}}function ru(n){let e,t=n[16].t("This will delete")+"",l,s,r,o,a;return{c(){e=m("div"),l=H(t),s=A(),r=m("span"),o=H(n[2]),a=H("."),this.h()},l(i){e=p(i,"DIV",{class:!0});var d=g(e);l=P(d,t),s=C(d),r=p(d,"SPAN",{class:!0});var h=g(r);o=P(h,n[2]),h.forEach(f),a=P(d,"."),d.forEach(f),this.h()},h(){u(r,"class","font-semibold"),u(e,"class","text-sm text-gray-500 flex-1 line-clamp-3")},m(i,d){M(i,e,d),c(e,l),c(e,s),c(e,r),c(r,o),c(e,a)},p(i,d){d[0]&65536&&t!==(t=i[16].t("This will delete")+"")&&z(l,t),d[0]&4&&z(o,i[2])},d(i){i&&f(e)}}}function Ra(n){let e,t;return e=new ji({props:{x:n[12],y:n[13],$$slots:{default:[au]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[0]&4096&&(r.x=l[12]),s[0]&8192&&(r.y=l[13]),s[0]&4|s[1]&67108864&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function au(n){let e,t,l,s,r,o,a;return l=new nu({props:{className:" size-[18px]",strokeWidth:"2"}}),{c(){e=m("div"),t=m("div"),ae(l.$$.fragment),s=A(),r=m("div"),o=H(n[2]),this.h()},l(i){e=p(i,"DIV",{class:!0});var d=g(e);t=p(d,"DIV",{class:!0});var h=g(t);oe(l.$$.fragment,h),s=C(h),r=p(h,"DIV",{class:!0});var _=g(r);o=P(_,n[2]),_.forEach(f),h.forEach(f),d.forEach(f),this.h()},h(){u(r,"class","text-xs text-white line-clamp-1"),u(t,"class","flex items-center gap-1"),u(e,"class","bg-black/80 backdrop-blur-2xl px-2 py-1 rounded-lg w-fit max-w-40")},m(i,d){M(i,e,d),c(e,t),ie(l,t,null),c(t,s),c(t,r),c(r,o),a=!0},p(i,d){(!a||d[0]&4)&&z(o,i[2])},i(i){a||(F(l.$$.fragment,i),a=!0)},o(i){Z(l.$$.fragment,i),a=!1},d(i){i&&f(e),ce(l)}}}function ou(n){let e,t,l,s,r,o,a,i;return{c(){e=m("a"),t=m("div"),l=m("div"),s=H(n[2]),this.h()},l(d){e=p(d,"A",{class:!0,href:!0,draggable:!0});var h=g(e);t=p(h,"DIV",{class:!0});var _=g(t);l=p(_,"DIV",{class:!0});var v=g(l);s=P(v,n[2]),v.forEach(f),_.forEach(f),h.forEach(f),this.h()},h(){u(l,"class","text-left self-center overflow-hidden w-full h-[20px]"),u(t,"class","flex self-center flex-1 w-full"),u(e,"class",r="w-full flex justify-between rounded-lg px-[11px] py-[6px] "+(n[1]===n[15]||n[8]?"bg-gray-200 dark:bg-gray-900":n[3]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis"),u(e,"href",o="/c/"+n[1]),u(e,"draggable","false")},m(d,h){M(d,e,h),c(e,t),c(t,l),c(l,s),a||(i=[te(e,"click",n[29]),te(e,"dblclick",n[30]),te(e,"mouseenter",n[31]),te(e,"mouseleave",n[32]),te(e,"focus",gu)],a=!0)},p(d,h){h[0]&4&&z(s,d[2]),h[0]&33034&&r!==(r="w-full flex justify-between rounded-lg px-[11px] py-[6px] "+(d[1]===d[15]||d[8]?"bg-gray-200 dark:bg-gray-900":d[3]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&u(e,"class",r),h[0]&2&&o!==(o="/c/"+d[1])&&u(e,"href",o)},d(d){d&&f(e),a=!1,rt(i)}}}function iu(n){let e,t,l,s,r,o;return{c(){e=m("div"),t=m("input"),this.h()},l(a){e=p(a,"DIV",{class:!0});var i=g(e);t=p(i,"INPUT",{id:!0,class:!0}),i.forEach(f),this.h()},h(){u(t,"id",l="chat-title-input-"+n[1]),u(t,"class","bg-transparent w-full outline-none mr-10"),u(e,"class",s="w-full flex justify-between rounded-lg px-[11px] py-[6px] "+(n[1]===n[15]||n[8]?"bg-gray-200 dark:bg-gray-900":n[3]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")},m(a,i){M(a,e,i),c(e,t),je(t,n[9]),r||(o=[zi(n[24].call(null,t)),te(t,"input",n[28])],r=!0)},p(a,i){i[0]&2&&l!==(l="chat-title-input-"+a[1])&&u(t,"id",l),i[0]&512&&t.value!==a[9]&&je(t,a[9]),i[0]&33034&&s!==(s="w-full flex justify-between rounded-lg px-[11px] py-[6px] "+(a[1]===a[15]||a[8]?"bg-gray-200 dark:bg-gray-900":a[3]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&u(e,"class",s)},d(a){a&&f(e),r=!1,rt(o)}}}function cu(n){let e,t,l,s;t=new Qf({props:{chatId:n[1],cloneChatHandler:n[38],shareHandler:n[39],archiveChatHandler:n[40],renameHandler:n[41],deleteHandler:n[42],onClose:n[43],$$slots:{default:[du]},$$scope:{ctx:n}}}),t.$on("change",n[44]),t.$on("tag",n[45]);let r=n[1]===n[15]&&xa(n);return{c(){e=m("div"),ae(t.$$.fragment),l=A(),r&&r.c(),this.h()},l(o){e=p(o,"DIV",{class:!0});var a=g(e);oe(t.$$.fragment,a),l=C(a),r&&r.l(a),a.forEach(f),this.h()},h(){u(e,"class","flex self-center space-x-1 z-10")},m(o,a){M(o,e,a),ie(t,e,null),c(e,l),r&&r.m(e,null),s=!0},p(o,a){const i={};a[0]&2&&(i.chatId=o[1]),a[0]&2&&(i.cloneChatHandler=o[38]),a[0]&128&&(i.shareHandler=o[39]),a[0]&2&&(i.archiveChatHandler=o[40]),a[0]&774&&(i.renameHandler=o[41]),a[0]&16384&&(i.deleteHandler=o[42]),a[1]&67108864&&(i.$$scope={dirty:a,ctx:o}),t.$set(i),o[1]===o[15]?r?r.p(o,a):(r=xa(o),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(o){s||(F(t.$$.fragment,o),s=!0)},o(o){Z(t.$$.fragment,o),s=!1},d(o){o&&f(e),ce(t),r&&r.d()}}}function fu(n){let e,t,l,s,r;return t=new Ot({props:{content:n[16].t("Archive"),className:"flex items-center",$$slots:{default:[hu]},$$scope:{ctx:n}}}),s=new Ot({props:{content:n[16].t("Delete"),$$slots:{default:[mu]},$$scope:{ctx:n}}}),{c(){e=m("div"),ae(t.$$.fragment),l=A(),ae(s.$$.fragment),this.h()},l(o){e=p(o,"DIV",{class:!0});var a=g(e);oe(t.$$.fragment,a),l=C(a),oe(s.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","flex items-center self-center space-x-1.5")},m(o,a){M(o,e,a),ie(t,e,null),c(e,l),ie(s,e,null),r=!0},p(o,a){const i={};a[0]&65536&&(i.content=o[16].t("Archive")),a[0]&2|a[1]&67108864&&(i.$$scope={dirty:a,ctx:o}),t.$set(i);const d={};a[0]&65536&&(d.content=o[16].t("Delete")),a[0]&2|a[1]&67108864&&(d.$$scope={dirty:a,ctx:o}),s.$set(d)},i(o){r||(F(t.$$.fragment,o),F(s.$$.fragment,o),r=!0)},o(o){Z(t.$$.fragment,o),Z(s.$$.fragment,o),r=!1},d(o){o&&f(e),ce(t),ce(s)}}}function uu(n){let e,t,l,s,r;return t=new Ot({props:{content:n[16].t("Confirm"),$$slots:{default:[pu]},$$scope:{ctx:n}}}),s=new Ot({props:{content:n[16].t("Cancel"),$$slots:{default:[_u]},$$scope:{ctx:n}}}),{c(){e=m("div"),ae(t.$$.fragment),l=A(),ae(s.$$.fragment),this.h()},l(o){e=p(o,"DIV",{class:!0});var a=g(e);oe(t.$$.fragment,a),l=C(a),oe(s.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","flex self-center items-center space-x-1.5 z-10 translate-y-[0.5px] -translate-x-[0.5px]")},m(o,a){M(o,e,a),ie(t,e,null),c(e,l),ie(s,e,null),r=!0},p(o,a){const i={};a[0]&65536&&(i.content=o[16].t("Confirm")),a[0]&770|a[1]&67108864&&(i.$$scope={dirty:a,ctx:o}),t.$set(i);const d={};a[0]&65536&&(d.content=o[16].t("Cancel")),a[0]&768|a[1]&67108864&&(d.$$scope={dirty:a,ctx:o}),s.$set(d)},i(o){r||(F(t.$$.fragment,o),F(s.$$.fragment,o),r=!0)},o(o){Z(t.$$.fragment,o),Z(s.$$.fragment,o),r=!1},d(o){o&&f(e),ce(t),ce(s)}}}function du(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,s;return{c(){e=m("button"),e.innerHTML=t,this.h()},l(r){e=p(r,"BUTTON",{"aria-label":!0,class:!0,"data-svelte-h":!0}),Ye(e)!=="svelte-1nmly1h"&&(e.innerHTML=t),this.h()},h(){u(e,"aria-label","Chat Menu"),u(e,"class","self-center dark:hover:text-white transition")},m(r,o){M(r,e,o),l||(s=te(e,"click",n[37]),l=!0)},p:Ce,d(r){r&&f(e),l=!1,s()}}}function xa(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,s;return{c(){e=m("button"),e.innerHTML=t,this.h()},l(r){e=p(r,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),Ye(e)!=="svelte-1gozylk"&&(e.innerHTML=t),this.h()},h(){u(e,"id","delete-chat-button"),u(e,"class","hidden")},m(r,o){M(r,e,o),l||(s=te(e,"click",n[46]),l=!0)},p:Ce,d(r){r&&f(e),l=!1,s()}}}function hu(n){let e,t,l,s,r;return t=new Di({props:{className:"size-4  translate-y-[0.5px]",strokeWidth:"2"}}),{c(){e=m("button"),ae(t.$$.fragment),this.h()},l(o){e=p(o,"BUTTON",{class:!0,type:!0});var a=g(e);oe(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","self-center dark:hover:text-white transition"),u(e,"type","button")},m(o,a){M(o,e,a),ie(t,e,null),l=!0,s||(r=te(e,"click",n[35]),s=!0)},p:Ce,i(o){l||(F(t.$$.fragment,o),l=!0)},o(o){Z(t.$$.fragment,o),l=!1},d(o){o&&f(e),ce(t),s=!1,r()}}}function mu(n){let e,t,l,s,r;return t=new nr({props:{strokeWidth:"2"}}),{c(){e=m("button"),ae(t.$$.fragment),this.h()},l(o){e=p(o,"BUTTON",{class:!0,type:!0});var a=g(e);oe(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","self-center dark:hover:text-white transition"),u(e,"type","button")},m(o,a){M(o,e,a),ie(t,e,null),l=!0,s||(r=te(e,"click",n[36]),s=!0)},p:Ce,i(o){l||(F(t.$$.fragment,o),l=!0)},o(o){Z(t.$$.fragment,o),l=!1},d(o){o&&f(e),ce(t),s=!1,r()}}}function pu(n){let e,t,l,s,r;return t=new Oc({props:{className:" size-3.5",strokeWidth:"2.5"}}),{c(){e=m("button"),ae(t.$$.fragment),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var a=g(e);oe(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","self-center dark:hover:text-white transition")},m(o,a){M(o,e,a),ie(t,e,null),l=!0,s||(r=te(e,"click",n[33]),s=!0)},p:Ce,i(o){l||(F(t.$$.fragment,o),l=!0)},o(o){Z(t.$$.fragment,o),l=!1},d(o){o&&f(e),ce(t),s=!1,r()}}}function _u(n){let e,t,l,s,r;return t=new Ci({props:{strokeWidth:"2.5"}}),{c(){e=m("button"),ae(t.$$.fragment),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var a=g(e);oe(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","self-center dark:hover:text-white transition")},m(o,a){M(o,e,a),ie(t,e,null),l=!0,s||(r=te(e,"click",n[34]),s=!0)},p:Ce,i(o){l||(F(t.$$.fragment,o),l=!0)},o(o){Z(t.$$.fragment,o),l=!1},d(o){o&&f(e),ce(t),s=!1,r()}}}function vu(n){let e,t,l,s,r,o,a,i,d,h,_,v,b,w,y,k,V;function U(O){n[25](O)}let I={chatId:n[1]};n[7]!==void 0&&(I.show=n[7]),e=new Ec({props:I}),lt.push(()=>ht(e,"show",U));function E(O){n[26](O)}let D={title:n[16].t("Delete chat?"),$$slots:{default:[ru]},$$scope:{ctx:n}};n[14]!==void 0&&(D.show=n[14]),s=new In({props:D}),lt.push(()=>ht(s,"show",E)),s.$on("confirm",n[27]);let $=n[11]&&n[12]&&n[13]&&Ra(n);function T(O,B){return O[8]?iu:ou}let L=T(n),N=L(n);const S=[uu,fu,cu],W=[];function q(O,B){return O[8]?0:O[4]&&O[5]?1:2}return _=q(n),v=W[_]=S[_](n),{c(){ae(e.$$.fragment),l=A(),ae(s.$$.fragment),o=A(),$&&$.c(),a=A(),i=m("div"),N.c(),d=A(),h=m("div"),v.c(),this.h()},l(O){oe(e.$$.fragment,O),l=C(O),oe(s.$$.fragment,O),o=C(O),$&&$.l(O),a=C(O),i=p(O,"DIV",{class:!0,draggable:!0});var B=g(i);N.l(B),d=C(B),h=p(B,"DIV",{class:!0});var Y=g(h);v.l(Y),Y.forEach(f),B.forEach(f),this.h()},h(){u(h,"class",b=(n[1]===n[15]||n[8]?"from-gray-200 dark:from-gray-900":n[3]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute "+(n[0]==="pr-2"?"right-[8px]":"right-0")+" top-[4px] py-1 pr-0.5 mr-1.5 pl-5 bg-gradient-to-l from-80% to-transparent"),u(i,"class",w="w-full "+n[0]+" relative group"),u(i,"draggable",n[6])},m(O,B){ie(e,O,B),M(O,l,B),ie(s,O,B),M(O,o,B),$&&$.m(O,B),M(O,a,B),M(O,i,B),N.m(i,null),c(i,d),c(i,h),W[_].m(h,null),n[49](i),y=!0,k||(V=[te(h,"mouseenter",n[47]),te(h,"mouseleave",n[48])],k=!0)},p(O,B){const Y={};B[0]&2&&(Y.chatId=O[1]),!t&&B[0]&128&&(t=!0,Y.show=O[7],dt(()=>t=!1)),e.$set(Y);const J={};B[0]&65536&&(J.title=O[16].t("Delete chat?")),B[0]&65540|B[1]&67108864&&(J.$$scope={dirty:B,ctx:O}),!r&&B[0]&16384&&(r=!0,J.show=O[14],dt(()=>r=!1)),s.$set(J),O[11]&&O[12]&&O[13]?$?($.p(O,B),B[0]&14336&&F($,1)):($=Ra(O),$.c(),F($,1),$.m(a.parentNode,a)):$&&(Qe(),Z($,1,1,()=>{$=null}),et()),L===(L=T(O))&&N?N.p(O,B):(N.d(1),N=L(O),N&&(N.c(),N.m(i,d)));let G=_;_=q(O),_===G?W[_].p(O,B):(Qe(),Z(W[G],1,1,()=>{W[G]=null}),et(),v=W[_],v?v.p(O,B):(v=W[_]=S[_](O),v.c()),F(v,1),v.m(h,null)),(!y||B[0]&33035&&b!==(b=(O[1]===O[15]||O[8]?"from-gray-200 dark:from-gray-900":O[3]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute "+(O[0]==="pr-2"?"right-[8px]":"right-0")+" top-[4px] py-1 pr-0.5 mr-1.5 pl-5 bg-gradient-to-l from-80% to-transparent"))&&u(h,"class",b),(!y||B[0]&1&&w!==(w="w-full "+O[0]+" relative group"))&&u(i,"class",w),(!y||B[0]&64)&&u(i,"draggable",O[6])},i(O){y||(F(e.$$.fragment,O),F(s.$$.fragment,O),F($),F(v),y=!0)},o(O){Z(e.$$.fragment,O),Z(s.$$.fragment,O),Z($),Z(v),y=!1},d(O){O&&(f(l),f(o),f(a),f(i)),ce(e,O),ce(s,O),$&&$.d(O),N.d(),W[_].d(),n[49](null),k=!1,rt(V)}}}const gu=n=>{};function bu(n,e,t){let l,s,r,o;Ee(n,Gn,Q=>t(15,l=Q)),Ee(n,nl,Q=>t(52,s=Q)),Ee(n,gn,Q=>t(17,o=Q));const a=wt("i18n");Ee(n,a,Q=>t(16,r=Q));const i=At();let{className:d=""}=e,{id:h}=e,{title:_}=e,{selected:v=!1}=e,{shiftKey:b=!1}=e,w=null,y=!1,k=!1;const V=async()=>{w||(t(6,k=!1),w=await Sl(localStorage.token,h),t(6,k=!0))};let U=!1,I=!1,E=_;const D=async(Q,ve)=>{ve===""?Me.error(r.t("Title cannot be an empty string.")):(await dc(localStorage.token,Q,{title:ve}),Q===l&&Yi.set(ve),nl.set(1),await sl.set(await $l(localStorage.token,s)),await bn.set(await Xn(localStorage.token)))},$=async Q=>{const ve=await hc(localStorage.token,Q).catch(ge=>(Me.error(`${ge}`),null));ve&&(_l(`/c/${ve.id}`),nl.set(1),await sl.set(await $l(localStorage.token,s)),await bn.set(await Xn(localStorage.token)))},T=async Q=>{await Ii(localStorage.token,Q).catch(ge=>(Me.error(`${ge}`),null))&&(bs.set(await wn(localStorage.token)),l===Q&&(await _l("/"),await Gn.set(""),await Dl()),i("change"))},L=async Q=>{await Kn(localStorage.token,Q),i("change")},N=async Q=>{Q.focus()};let S,W=!1,q=0,O=0;const B=new Image;B.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";const Y=Q=>{Q.stopPropagation(),Q.dataTransfer.setDragImage(B,0,0),Q.dataTransfer.setData("text/plain",JSON.stringify({type:"chat",id:h,item:w})),t(11,W=!0),t(10,S.style.opacity="0.5",S)},J=Q=>{Q.stopPropagation(),t(12,q=Q.clientX),t(13,O=Q.clientY)},G=Q=>{Q.stopPropagation(),t(10,S.style.opacity="1",S),t(11,W=!1)};Ct(()=>{S&&(S.addEventListener("dragstart",Y),S.addEventListener("drag",J),S.addEventListener("dragend",G))}),Xl(()=>{S&&(S.removeEventListener("dragstart",Y),S.removeEventListener("drag",J),S.removeEventListener("dragend",G))});let R=!1;function j(Q){U=Q,t(7,U)}function x(Q){R=Q,t(14,R)}const X=()=>{T(h)};function K(){E=this.value,t(9,E)}const ee=()=>{i("select"),o&&Lt.set(!1)},se=()=>{t(9,E=_),t(8,I=!0)},ue=Q=>{t(5,y=!0)},he=Q=>{t(5,y=!1)},me=()=>{D(h,E),t(8,I=!1),t(9,E="")},pe=()=>{t(8,I=!1),t(9,E="")},de=()=>{L(h)},ke=()=>{T(h)},Fe=()=>{i("select")},Be=()=>{$(h)},be=()=>{t(7,U=!0)},ne=()=>{L(h)},ye=async()=>{t(9,E=_),t(8,I=!0),await Dl();const Q=document.getElementById(`chat-title-input-${h}`);Q&&Q.focus()},Re=()=>{t(14,R=!0)},We=()=>{i("unselect")},Ie=async()=>{i("change")},Ae=Q=>{i("tag",Q.detail)},Se=()=>{t(14,R=!0)},xe=Q=>{t(5,y=!0)},Ze=Q=>{t(5,y=!1)};function nt(Q){lt[Q?"unshift":"push"](()=>{S=Q,t(10,S)})}return n.$$set=Q=>{"className"in Q&&t(0,d=Q.className),"id"in Q&&t(1,h=Q.id),"title"in Q&&t(2,_=Q.title),"selected"in Q&&t(3,v=Q.selected),"shiftKey"in Q&&t(4,b=Q.shiftKey)},n.$$.update=()=>{n.$$.dirty[0]&32&&y&&V()},[d,h,_,v,b,y,k,U,I,E,S,W,q,O,R,l,r,o,a,i,D,$,T,L,N,j,x,X,K,ee,se,ue,he,me,pe,de,ke,Fe,Be,be,ne,ye,Re,We,Ie,Ae,Se,xe,Ze,nt]}class ar extends ot{constructor(e){super(),it(this,e,bu,vu,at,{className:0,id:1,title:2,selected:3,shiftKey:4},null,[-1,-1])}}function za(n,e,t){const l=n.slice();return l[26]=e[t],l[28]=t,l}function Fa(n,e,t){const l=n.slice();return l[23]=e[t],l[25]=t,l}function Wa(n){let e,t,l,s,r;function o(d,h){if(d[6].length>0)return ku;if(d[5].length>0)return wu}let a=o(n),i=a&&a(n);return{c(){e=m("div"),t=m("div"),i&&i.c(),this.h()},l(d){e=p(d,"DIV",{class:!0});var h=g(e);t=p(h,"DIV",{class:!0});var _=g(t);i&&i.l(_),_.forEach(f),h.forEach(f),this.h()},h(){u(t,"class","px-2 py-2 text-xs group"),u(e,"class","absolute top-0 mt-8 left-0 right-1 border dark:border-gray-900 bg-gray-50 dark:bg-gray-950 rounded-lg z-10 shadow-lg")},m(d,h){M(d,e,h),c(e,t),i&&i.m(t,null),s||(r=[te(e,"mouseenter",n[18]),te(e,"mouseleave",n[19])],s=!0)},p(d,h){a===(a=o(d))&&i?i.p(d,h):(i&&i.d(1),i=a&&a(d),i&&(i.c(),i.m(t,null)))},i(d){d&&(l||Nl(()=>{l=_i(e,vi,{duration:50}),l.start()}))},o:Ce,d(d){d&&f(e),i&&i.d(),s=!1,rt(r)}}}function wu(n){let e,t=n[2].t("Search options")+"",l,s,r,o=st(n[5]),a=[];for(let i=0;i<o.length;i+=1)a[i]=Ya(za(n,o,i));return{c(){e=m("div"),l=H(t),s=A(),r=m("div");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=p(i,"DIV",{class:!0});var d=g(e);l=P(d,t),d.forEach(f),s=C(i),r=p(i,"DIV",{class:!0});var h=g(r);for(let _=0;_<a.length;_+=1)a[_].l(h);h.forEach(f),this.h()},h(){u(e,"class","px-1 font-medium dark:text-gray-300 text-gray-700 mb-1"),u(r,"class","max-h-60 overflow-auto")},m(i,d){M(i,e,d),c(e,l),M(i,s,d),M(i,r,d);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(r,null)},p(i,d){if(d&4&&t!==(t=i[2].t("Search options")+"")&&z(l,t),d&169){o=st(i[5]);let h;for(h=0;h<o.length;h+=1){const _=za(i,o,h);a[h]?a[h].p(_,d):(a[h]=Ya(_),a[h].c(),a[h].m(r,null))}for(;h<a.length;h+=1)a[h].d(1);a.length=o.length}},d(i){i&&(f(e),f(s),f(r)),$t(a,i)}}}function ku(n){let e,t="Tags",l,s,r=st(n[6]),o=[];for(let a=0;a<r.length;a+=1)o[a]=Za(Fa(n,r,a));return{c(){e=m("div"),e.textContent=t,l=A(),s=m("div");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),Ye(e)!=="svelte-16um22k"&&(e.textContent=t),l=C(a),s=p(a,"DIV",{class:!0});var i=g(s);for(let d=0;d<o.length;d+=1)o[d].l(i);i.forEach(f),this.h()},h(){u(e,"class","px-1 font-medium dark:text-gray-300 text-gray-700 mb-1"),u(s,"class","max-h-60 overflow-auto")},m(a,i){M(a,e,i),M(a,l,i),M(a,s,i);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(s,null)},p(a,i){if(i&201){r=st(a[6]);let d;for(d=0;d<r.length;d+=1){const h=Fa(a,r,d);o[d]?o[d].p(h,i):(o[d]=Za(h),o[d].c(),o[d].m(s,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=r.length}},d(a){a&&(f(e),f(l),f(s)),$t(o,a)}}}function Ya(n){let e,t,l=n[26].name+"",s,r,o,a=n[26].description+"",i,d,h,_,v;return{c(){e=m("button"),t=m("div"),s=H(l),r=A(),o=m("div"),i=H(a),d=A(),this.h()},l(b){e=p(b,"BUTTON",{class:!0,id:!0});var w=g(e);t=p(w,"DIV",{class:!0});var y=g(t);s=P(y,l),y.forEach(f),r=C(w),o=p(w,"DIV",{class:!0});var k=g(o);i=P(k,a),k.forEach(f),d=C(w),w.forEach(f),this.h()},h(){u(t,"class","dark:text-gray-300 text-gray-700 font-medium"),u(o,"class","text-gray-500 line-clamp-1"),u(e,"class",h="px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded "+(n[3]===n[28]?"bg-gray-100 dark:bg-gray-900":"")),u(e,"id","search-option-"+n[28])},m(b,w){M(b,e,w),c(e,t),c(t,s),c(e,r),c(e,o),c(o,i),c(e,d),_||(v=te(e,"click",pi(n[17])),_=!0)},p(b,w){w&32&&l!==(l=b[26].name+"")&&z(s,l),w&32&&a!==(a=b[26].description+"")&&z(i,a),w&8&&h!==(h="px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded "+(b[3]===b[28]?"bg-gray-100 dark:bg-gray-900":""))&&u(e,"class",h)},d(b){b&&f(e),_=!1,v()}}}function Za(n){let e,t,l=n[23].name+"",s,r,o,a=n[23].id+"",i,d,h,_,v;function b(){return n[16](n[23])}return{c(){e=m("button"),t=m("div"),s=H(l),r=A(),o=m("div"),i=H(a),d=A(),this.h()},l(w){e=p(w,"BUTTON",{class:!0,id:!0});var y=g(e);t=p(y,"DIV",{class:!0});var k=g(t);s=P(k,l),k.forEach(f),r=C(y),o=p(y,"DIV",{class:!0});var V=g(o);i=P(V,a),V.forEach(f),d=C(y),y.forEach(f),this.h()},h(){u(t,"class","dark:text-gray-300 text-gray-700 font-medium line-clamp-1 flex-shrink-0"),u(o,"class","text-gray-500 line-clamp-1"),u(e,"class",h="px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded "+(n[3]===n[25]?"bg-gray-100 dark:bg-gray-900":"")),u(e,"id","search-tag-"+n[25])},m(w,y){M(w,e,y),c(e,t),c(t,s),c(e,r),c(e,o),c(o,i),c(e,d),_||(v=te(e,"click",pi(b)),_=!0)},p(w,y){n=w,y&64&&l!==(l=n[23].name+"")&&z(s,l),y&64&&a!==(a=n[23].id+"")&&z(i,a),y&8&&h!==(h="px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded "+(n[3]===n[25]?"bg-gray-100 dark:bg-gray-900":""))&&u(e,"class",h)},d(w){w&&f(e),_=!1,v()}}}function yu(n){let e,t,l,s='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',r,o,a,i,d,h,_=n[4]&&(n[5].length>0||n[6].length>0)&&Wa(n);return{c(){e=m("div"),t=m("div"),l=m("div"),l.innerHTML=s,r=A(),o=m("input"),i=A(),_&&_.c(),this.h()},l(v){e=p(v,"DIV",{class:!0,id:!0});var b=g(e);t=p(b,"DIV",{class:!0,id:!0});var w=g(t);l=p(w,"DIV",{class:!0,"data-svelte-h":!0}),Ye(l)!=="svelte-1k3m202"&&(l.innerHTML=s),r=C(w),o=p(w,"INPUT",{class:!0,placeholder:!0}),w.forEach(f),i=C(b),_&&_.l(b),b.forEach(f),this.h()},h(){u(l,"class","self-center pl-3 py-2 rounded-l-xl bg-transparent"),u(o,"class","w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm bg-transparent dark:text-gray-300 outline-none"),u(o,"placeholder",a=n[1]?n[1]:n[2].t("Search")),u(t,"class","flex w-full rounded-xl"),u(t,"id","chat-search"),u(e,"class","px-1 mb-1 flex justify-center space-x-2 relative z-10"),u(e,"id","search-container")},m(v,b){M(v,e,b),c(e,t),c(t,l),c(t,r),c(t,o),je(o,n[0]),c(e,i),_&&_.m(e,null),d||(h=[te(o,"input",n[12]),te(o,"input",n[13]),te(o,"focus",n[14]),te(o,"keydown",n[15])],d=!0)},p(v,[b]){b&6&&a!==(a=v[1]?v[1]:v[2].t("Search"))&&u(o,"placeholder",a),b&1&&o.value!==v[0]&&je(o,v[0]),v[4]&&(v[5].length>0||v[6].length>0)?_?(_.p(v,b),b&112&&F(_,1)):(_=Wa(v),_.c(),F(_,1),_.m(e,null)):_&&(_.d(1),_=null)},i(v){F(_)},o:Ce,d(v){v&&f(e),_&&_.d(),d=!1,rt(h)}}}function Eu(n,e,t){let l,s;Ee(n,bs,N=>t(11,s=N));const r=At(),o=wt("i18n");Ee(n,o,N=>t(2,l=N));let{placeholder:a=""}=e,{value:i=""}=e,d=0,h="",_=[{name:"tag:",description:l.t("search for tags")}],v=!1,b=_,w=[];const y=async()=>{await bs.set(await wn(localStorage.token))},k=N=>{const S=document.getElementById("search-container"),W=document.getElementById("chat-search");if(!S.contains(N.target)&&!W.contains(N.target)){if(N.target.id.startsWith("search-tag-")||N.target.id.startsWith("search-option-"))return;t(4,v=!1)}};Ct(()=>{document.addEventListener("click",k)}),Xl(()=>{document.removeEventListener("click",k)});function V(){i=this.value,t(0,i)}const U=()=>{r("input")},I=()=>{t(4,v=!0),y()},E=N=>{if(N.key==="Enter"){if(w.length>0){document.getElementById(`search-tag-${d}`).click();return}if(b.length>0){document.getElementById(`search-option-${d}`).click();return}}N.key==="ArrowUp"?(N.preventDefault(),t(3,d=Math.max(0,d-1))):N.key==="ArrowDown"?(N.preventDefault(),w.length>0?t(3,d=Math.min(d+1,w.length-1)):t(3,d=Math.min(d+1,b.length-1))):t(3,d=0)},D=async N=>{const S=i.split(" ");S.pop(),S.push(`tag:${N.id} `),t(0,i=S.join(" ")),r("input")},$=async()=>{const N=i.split(" ");N.pop(),N.push("tag:"),t(0,i=N.join(" ")),r("input")},T=()=>{t(3,d=null)},L=()=>{t(3,d=0)};return n.$$set=N=>{"placeholder"in N&&t(1,a=N.placeholder),"value"in N&&t(0,i=N.value)},n.$$.update=()=>{n.$$.dirty&1&&t(10,h=i&&i.split(" ").at(-1)),n.$$.dirty&1024&&t(5,b=_.filter(N=>N.name.startsWith(h))),n.$$.dirty&3076&&t(6,w=h.startsWith("tag:")?[...s,{id:"none",name:l.t("Untagged")}].filter(N=>{const S=h.slice(4);if(S){const W=S.replace(" ","_").toLowerCase();return N.id!==W?N.id.startsWith(W):!1}else return!0}):[])},[i,a,l,d,v,b,w,r,o,y,h,s,V,U,I,E,D,$,T,L]}class Iu extends ot{constructor(e){super(),it(this,e,Eu,yu,at,{placeholder:1,value:0})}}function Ga(n){let e;return{c(){e=m("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),g(e).forEach(f),this.h()},h(){u(e,"class","absolute top-0 left-0 w-full h-full rounded-sm bg-gray-100/50 dark:bg-gray-700/20 bg-opacity-50 dark:bg-opacity-10 z-50 pointer-events-none touch-none")},m(t,l){M(t,e,l)},d(t){t&&f(e)}}}function Du(n){let e;const t=n[11].default,l=Gl(t,n,n[16],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&65536)&&Jl(l,t,s,s[16],e?ql(t,s[16],r,null):Kl(s[16]),null)},i(s){e||(F(l,s),e=!0)},o(s){Z(l,s),e=!1},d(s){l&&l.d(s)}}}function Tu(n){let e,t,l;function s(o){n[13](o)}let r={className:"w-full ",buttonClassName:"w-full",$$slots:{content:[$u],default:[Su]},$$scope:{ctx:n}};return n[0]!==void 0&&(r.open=n[0]),e=new Oi({props:r}),lt.push(()=>ht(e,"open",s)),e.$on("change",n[14]),{c(){ae(e.$$.fragment)},l(o){oe(e.$$.fragment,o)},m(o,a){ie(e,o,a),l=!0},p(o,a){const i={};a&65563&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.open=o[0],dt(()=>t=!1)),e.$set(i)},i(o){l||(F(e.$$.fragment,o),l=!0)},o(o){Z(e.$$.fragment,o),l=!1},d(o){ce(e,o)}}}function Vu(n){let e,t;return e=new Ni({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Au(n){let e,t;return e=new $i({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Ja(n){let e,t,l,s,r;return t=new Ot({props:{content:n[3],$$slots:{default:[Cu]},$$scope:{ctx:n}}}),{c(){e=m("button"),ae(t.$$.fragment),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var a=g(e);oe(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","absolute z-10 right-2 invisible group-hover:visible self-center flex items-center dark:text-gray-300")},m(o,a){M(o,e,a),ie(t,e,null),l=!0,s||(r=[te(e,"pointerup",Lu),te(e,"click",n[12])],s=!0)},p(o,a){const i={};a&8&&(i.content=o[3]),a&65536&&(i.$$scope={dirty:a,ctx:o}),t.$set(i)},i(o){l||(F(t.$$.fragment,o),l=!0)},o(o){Z(t.$$.fragment,o),l=!1},d(o){o&&f(e),ce(t),s=!1,rt(r)}}}function Cu(n){let e,t,l,s,r;return t=new Li({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){e=m("button"),ae(t.$$.fragment),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var a=g(e);oe(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","p-0.5 dark:hover:bg-gray-850 rounded-lg touch-auto")},m(o,a){M(o,e,a),ie(t,e,null),l=!0,s||(r=te(e,"click",Ou),s=!0)},p:Ce,i(o){l||(F(t.$$.fragment,o),l=!0)},o(o){Z(t.$$.fragment,o),l=!1},d(o){o&&f(e),ce(t),s=!1,r()}}}function Su(n){let e,t,l,s,r,o,a,i,d,h;const _=[Au,Vu],v=[];function b(y,k){return y[0]?0:1}s=b(n),r=v[s]=_[s](n);let w=n[4]&&Ja(n);return{c(){e=m("div"),t=m("button"),l=m("div"),r.c(),o=A(),a=m("div"),i=H(n[1]),d=A(),w&&w.c(),this.h()},l(y){e=p(y,"DIV",{class:!0});var k=g(e);t=p(k,"BUTTON",{class:!0});var V=g(t);l=p(V,"DIV",{class:!0});var U=g(l);r.l(U),U.forEach(f),o=C(V),a=p(V,"DIV",{class:!0});var I=g(a);i=P(I,n[1]),I.forEach(f),V.forEach(f),d=C(k),w&&w.l(k),k.forEach(f),this.h()},h(){u(l,"class","text-gray-300 dark:text-gray-600"),u(a,"class","translate-y-[0.5px]"),u(t,"class","w-full py-1.5 pl-2 flex items-center gap-1.5 text-xs font-medium"),u(e,"class","w-full group rounded-md relative flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900 text-gray-500 dark:text-gray-500 transition")},m(y,k){M(y,e,k),c(e,t),c(t,l),v[s].m(l,null),c(t,o),c(t,a),c(a,i),c(e,d),w&&w.m(e,null),h=!0},p(y,k){let V=s;s=b(y),s!==V&&(Qe(),Z(v[V],1,1,()=>{v[V]=null}),et(),r=v[s],r||(r=v[s]=_[s](y),r.c()),F(r,1),r.m(l,null)),(!h||k&2)&&z(i,y[1]),y[4]?w?(w.p(y,k),k&16&&F(w,1)):(w=Ja(y),w.c(),F(w,1),w.m(e,null)):w&&(Qe(),Z(w,1,1,()=>{w=null}),et())},i(y){h||(F(r),F(w),h=!0)},o(y){Z(r),Z(w),h=!1},d(y){y&&f(e),v[s].d(),w&&w.d()}}}function $u(n){let e,t;const l=n[11].default,s=Gl(l,n,n[16],null);return{c(){e=m("div"),s&&s.c(),this.h()},l(r){e=p(r,"DIV",{slot:!0,class:!0});var o=g(e);s&&s.l(o),o.forEach(f),this.h()},h(){u(e,"slot","content"),u(e,"class","w-full")},m(r,o){M(r,e,o),s&&s.m(e,null),t=!0},p(r,o){s&&s.p&&(!t||o&65536)&&Jl(s,l,r,r[16],t?ql(l,r[16],o,null):Kl(r[16]),null)},i(r){t||(F(s,r),t=!0)},o(r){Z(s,r),t=!1},d(r){r&&f(e),s&&s.d(r)}}}function Nu(n){let e,t,l,s,r,o,a=n[7]&&Ga();const i=[Tu,Du],d=[];function h(_,v){return _[2]?0:1}return l=h(n),s=d[l]=i[l](n),{c(){e=m("div"),a&&a.c(),t=A(),s.c(),this.h()},l(_){e=p(_,"DIV",{class:!0});var v=g(e);a&&a.l(v),t=C(v),s.l(v),v.forEach(f),this.h()},h(){u(e,"class",r="relative "+n[5])},m(_,v){M(_,e,v),a&&a.m(e,null),c(e,t),d[l].m(e,null),n[15](e),o=!0},p(_,[v]){_[7]?a||(a=Ga(),a.c(),a.m(e,t)):a&&(a.d(1),a=null);let b=l;l=h(_),l===b?d[l].p(_,v):(Qe(),Z(d[b],1,1,()=>{d[b]=null}),et(),s=d[l],s?s.p(_,v):(s=d[l]=i[l](_),s.c()),F(s,1),s.m(e,null)),(!o||v&32&&r!==(r="relative "+_[5]))&&u(e,"class",r)},i(_){o||(F(s),o=!0)},o(_){Z(s),o=!1},d(_){_&&f(e),a&&a.d(),d[l].d(),n[15](null)}}}const Ou=n=>{},Lu=n=>{n.stopPropagation()};function Mu(n,e,t){let{$$slots:l={},$$scope:s}=e;wt("i18n");const r=At();let{open:o=!0}=e,{id:a=""}=e,{name:i=""}=e,{collapsible:d=!0}=e,{onAddLabel:h=""}=e,{onAdd:_=null}=e,{dragAndDrop:v=!0}=e,{className:b=""}=e,w,y=!1;const k=T=>{T.preventDefault(),T.stopPropagation(),t(7,y=!0)},V=T=>{if(T.preventDefault(),T.stopPropagation(),w.contains(T.target)){if(console.log("Dropped on the Button"),T.dataTransfer.items&&T.dataTransfer.items.length>0)for(const L of Array.from(T.dataTransfer.items))if(L.kind==="file"){const N=L.getAsFile();if(N&&N.type==="application/json"){console.log("Dropped file is a JSON file!");const S=new FileReader;S.onload=async function(W){try{const q=JSON.parse(W.target.result);console.log("Parsed JSON Content: ",q),t(0,o=!0),r("import",q)}catch(q){console.error("Error parsing JSON file:",q)}},S.readAsText(N)}else console.error("Only JSON file types are supported.")}else{t(0,o=!0);const N=T.dataTransfer.getData("text/plain"),S=JSON.parse(N);console.log(S),r("drop",S)}t(7,y=!1)}},U=T=>{T.preventDefault(),T.stopPropagation(),t(7,y=!1)};Ct(()=>{v&&(w.addEventListener("dragover",k),w.addEventListener("drop",V),w.addEventListener("dragleave",U))}),Xl(()=>{v&&(w.addEventListener("dragover",k),w.removeEventListener("drop",V),w.removeEventListener("dragleave",U))});const I=T=>{T.stopPropagation(),_()};function E(T){o=T,t(0,o)}const D=T=>{r("change",T.detail)};function $(T){lt[T?"unshift":"push"](()=>{w=T,t(6,w)})}return n.$$set=T=>{"open"in T&&t(0,o=T.open),"id"in T&&t(9,a=T.id),"name"in T&&t(1,i=T.name),"collapsible"in T&&t(2,d=T.collapsible),"onAddLabel"in T&&t(3,h=T.onAddLabel),"onAdd"in T&&t(4,_=T.onAdd),"dragAndDrop"in T&&t(10,v=T.dragAndDrop),"className"in T&&t(5,b=T.className),"$$scope"in T&&t(16,s=T.$$scope)},[o,i,d,h,_,b,w,y,r,a,v,l,I,E,D,$,s]}class or extends ot{constructor(e){super(),it(this,e,Mu,Nu,at,{open:0,id:9,name:1,collapsible:2,onAddLabel:3,onAdd:4,dragAndDrop:10,className:5})}}function Bu(n){let e;const t=n[4].default,l=Gl(t,n,n[10],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&1024)&&Jl(l,t,s,s[10],e?ql(t,s[10],r,null):Kl(s[10]),null)},i(s){e||(F(l,s),e=!0)},o(s){Z(l,s),e=!1},d(s){l&&l.d(s)}}}function Uu(n){let e,t;return e=new Ot({props:{content:n[1].t("More"),$$slots:{default:[Bu]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s&2&&(r.content=l[1].t("More")),s&1024&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Hu(n){let e,t,l,s=n[1].t("Rename")+"",r,o;return e=new Ai({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=H(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i&2)&&s!==(s=a[1].t("Rename")+"")&&z(r,s)},i(a){o||(F(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function Pu(n){let e,t,l,s=n[1].t("Export")+"",r,o;return e=new Pi({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=H(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i&2)&&s!==(s=a[1].t("Export")+"")&&z(r,s)},i(a){o||(F(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function ju(n){let e,t,l,s=n[1].t("Delete")+"",r,o;return e=new nr({props:{strokeWidth:"2"}}),{c(){ae(e.$$.fragment),t=A(),l=m("div"),r=H(s),this.h()},l(a){oe(e.$$.fragment,a),t=C(a),l=p(a,"DIV",{class:!0});var i=g(l);r=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ie(e,a,i),M(a,t,i),M(a,l,i),c(l,r),o=!0},p(a,i){(!o||i&2)&&s!==(s=a[1].t("Delete")+"")&&z(r,s)},i(a){o||(F(e.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),ce(e,a)}}}function Ru(n){let e,t,l,s,r,o;return e=new Ut({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Hu]},$$scope:{ctx:n}}}),e.$on("click",n[5]),l=new Ut({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Pu]},$$scope:{ctx:n}}}),l.$on("click",n[6]),r=new Ut({props:{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[ju]},$$scope:{ctx:n}}}),r.$on("click",n[7]),{c(){ae(e.$$.fragment),t=A(),ae(l.$$.fragment),s=A(),ae(r.$$.fragment)},l(a){oe(e.$$.fragment,a),t=C(a),oe(l.$$.fragment,a),s=C(a),oe(r.$$.fragment,a)},m(a,i){ie(e,a,i),M(a,t,i),ie(l,a,i),M(a,s,i),ie(r,a,i),o=!0},p(a,i){const d={};i&1026&&(d.$$scope={dirty:i,ctx:a}),e.$set(d);const h={};i&1026&&(h.$$scope={dirty:i,ctx:a}),l.$set(h);const _={};i&1026&&(_.$$scope={dirty:i,ctx:a}),r.$set(_)},i(a){o||(F(e.$$.fragment,a),F(l.$$.fragment,a),F(r.$$.fragment,a),o=!0)},o(a){Z(e.$$.fragment,a),Z(l.$$.fragment,a),Z(r.$$.fragment,a),o=!1},d(a){a&&(f(t),f(s)),ce(e,a),ce(l,a),ce(r,a)}}}function xu(n){let e,t,l;return t=new Vi({props:{class:"w-full max-w-[160px] rounded-lg px-1 py-1.5  z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:-2,side:"bottom",align:"start",transition:sr,$$slots:{default:[Ru]},$$scope:{ctx:n}}}),{c(){e=m("div"),ae(t.$$.fragment),this.h()},l(s){e=p(s,"DIV",{slot:!0});var r=g(e);oe(t.$$.fragment,r),r.forEach(f),this.h()},h(){u(e,"slot","content")},m(s,r){M(s,e,r),ie(t,e,null),l=!0},p(s,r){const o={};r&1026&&(o.$$scope={dirty:r,ctx:s}),t.$set(o)},i(s){l||(F(t.$$.fragment,s),l=!0)},o(s){Z(t.$$.fragment,s),l=!1},d(s){s&&f(e),ce(t)}}}function zu(n){let e,t,l;function s(o){n[8](o)}let r={$$slots:{content:[xu],default:[Uu]},$$scope:{ctx:n}};return n[0]!==void 0&&(r.show=n[0]),e=new Ti({props:r}),lt.push(()=>ht(e,"show",s)),e.$on("change",n[9]),{c(){ae(e.$$.fragment)},l(o){oe(e.$$.fragment,o)},m(o,a){ie(e,o,a),l=!0},p(o,[a]){const i={};a&1026&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.show=o[0],dt(()=>t=!1)),e.$set(i)},i(o){l||(F(e.$$.fragment,o),l=!0)},o(o){Z(e.$$.fragment,o),l=!1},d(o){ce(e,o)}}}function Fu(n,e,t){let l,{$$slots:s={},$$scope:r}=e;const o=wt("i18n");Ee(n,o,w=>t(1,l=w));const a=At();let i=!1;const d=()=>{a("rename")},h=()=>{a("export")},_=()=>{a("delete")};function v(w){i=w,t(0,i)}const b=w=>{w.detail===!1&&a("close")};return n.$$set=w=>{"$$scope"in w&&t(10,r=w.$$scope)},[i,l,o,a,s,d,h,_,v,b,r]}class Wu extends ot{constructor(e){super(),it(this,e,Fu,zu,at,{})}}function Ka(n,e,t){const l=n.slice();return l[47]=e[t],l}function qa(n,e,t){const l=n.slice();return l[51]=e[t],l}function Zn(n){var l;const e=n.slice(),t=(l=e[1][e[2]])==null?void 0:l.childrenIds.map(s=>e[1][s]).sort((s,r)=>s.name.localeCompare(r.name,void 0,{numeric:!0,sensitivity:"base"}));return e[50]=t,e}function Yu(n){let e,t,l=La.sanitize(n[12].t("This will delete <strong>{{NAME}}</strong> and <strong>all its contents</strong>.",{NAME:n[1][n[2]].name}))+"";return{c(){e=m("div"),t=new Fi(!1),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);t=Wi(r,!1),r.forEach(f),this.h()},h(){t.a=null,u(e,"class","text-sm text-gray-700 dark:text-gray-300 flex-1 line-clamp-3")},m(s,r){M(s,e,r),t.m(l,e)},p(s,r){r[0]&4102&&l!==(l=La.sanitize(s[12].t("This will delete <strong>{{NAME}}</strong> and <strong>all its contents</strong>.",{NAME:s[1][s[2]].name}))+"")&&t.p(l)},d(s){s&&f(e)}}}function Xa(n){let e,t;return e=new ji({props:{x:n[9],y:n[10],$$slots:{default:[Zu]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[0]&512&&(r.x=l[9]),s[0]&1024&&(r.y=l[10]),s[0]&6|s[1]&8388608&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Zu(n){let e,t,l,s,r,o=n[1][n[2]].name+"",a,i;return l=new Mc({props:{className:"size-3.5",strokeWidth:"2"}}),{c(){e=m("div"),t=m("div"),ae(l.$$.fragment),s=A(),r=m("div"),a=H(o),this.h()},l(d){e=p(d,"DIV",{class:!0});var h=g(e);t=p(h,"DIV",{class:!0});var _=g(t);oe(l.$$.fragment,_),s=C(_),r=p(_,"DIV",{class:!0});var v=g(r);a=P(v,o),v.forEach(f),_.forEach(f),h.forEach(f),this.h()},h(){u(r,"class","text-xs text-white line-clamp-1"),u(t,"class","flex items-center gap-1"),u(e,"class","bg-black/80 backdrop-blur-2xl px-2 py-1 rounded-lg w-fit max-w-40")},m(d,h){M(d,e,h),c(e,t),ie(l,t,null),c(t,s),c(t,r),c(r,a),i=!0},p(d,h){(!i||h[0]&6)&&o!==(o=d[1][d[2]].name+"")&&z(a,o)},i(d){i||(F(l.$$.fragment,d),i=!0)},o(d){Z(l.$$.fragment,d),i=!1},d(d){d&&f(e),ce(l)}}}function Qa(n){let e;return{c(){e=m("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),g(e).forEach(f),this.h()},h(){u(e,"class","absolute top-0 left-0 w-full h-full rounded-sm bg-gray-100/50 dark:bg-gray-700/20 bg-opacity-50 dark:bg-opacity-10 z-50 pointer-events-none touch-none")},m(t,l){M(t,e,l)},d(t){t&&f(e)}}}function Gu(n){let e,t;return e=new Ni({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Ju(n){let e,t;return e=new $i({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Ku(n){let e=n[1][n[2]].name+"",t;return{c(){t=H(e)},l(l){t=P(l,e)},m(l,s){M(l,t,s)},p(l,s){s[0]&6&&e!==(e=l[1][l[2]].name+"")&&z(t,e)},d(l){l&&f(t)}}}function qu(n){let e,t,l,s;return{c(){e=m("input"),this.h()},l(r){e=p(r,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){u(e,"id",t="folder-"+n[2]+"-input"),u(e,"type","text"),u(e,"class","w-full h-full bg-transparent text-gray-500 dark:text-gray-500 outline-none")},m(r,o){M(r,e,o),je(e,n[8]),l||(s=[te(e,"input",n[26]),te(e,"blur",n[27]),te(e,"click",ld),te(e,"mousedown",sd),te(e,"keydown",n[28])],l=!0)},p(r,o){o[0]&4&&t!==(t="folder-"+r[2]+"-input")&&u(e,"id",t),o[0]&256&&e.value!==r[8]&&je(e,r[8])},d(r){r&&f(e),l=!1,rt(s)}}}function Xu(n){let e,t,l,s,r;return t=new Bc({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=m("button"),ae(t.$$.fragment),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var a=g(e);oe(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","p-0.5 dark:hover:bg-gray-850 rounded-lg touch-auto")},m(o,a){M(o,e,a),ie(t,e,null),l=!0,s||(r=te(e,"click",nd),s=!0)},p:Ce,i(o){l||(F(t.$$.fragment,o),l=!0)},o(o){Z(t.$$.fragment,o),l=!1},d(o){o&&f(e),ce(t),s=!1,r()}}}function Qu(n){let e,t,l,s,r,o,a,i,d,h,_,v,b,w;const y=[Ju,Gu],k=[];function V(D,$){return D[0]?0:1}s=V(n),r=k[s]=y[s](n);function U(D,$){return D[5]?qu:Ku}let I=U(n),E=I(n);return h=new Wu({props:{$$slots:{default:[Xu]},$$scope:{ctx:n}}}),h.$on("rename",n[29]),h.$on("delete",n[30]),h.$on("export",n[31]),{c(){e=m("div"),t=m("button"),l=m("div"),r.c(),o=A(),a=m("div"),E.c(),i=A(),d=m("button"),ae(h.$$.fragment),this.h()},l(D){e=p(D,"DIV",{class:!0});var $=g(e);t=p($,"BUTTON",{id:!0,class:!0});var T=g(t);l=p(T,"DIV",{class:!0});var L=g(l);r.l(L),L.forEach(f),o=C(T),a=p(T,"DIV",{class:!0});var N=g(a);E.l(N),N.forEach(f),i=C(T),d=p(T,"BUTTON",{class:!0});var S=g(d);oe(h.$$.fragment,S),S.forEach(f),T.forEach(f),$.forEach(f),this.h()},h(){u(l,"class","text-gray-300 dark:text-gray-600"),u(a,"class","translate-y-[0.5px] flex-1 justify-start text-start line-clamp-1"),u(d,"class","absolute z-10 right-2 invisible group-hover:visible self-center flex items-center dark:text-gray-300"),u(t,"id",_="folder-"+n[2]+"-button"),u(t,"class","relative w-full py-1.5 px-2 rounded-md flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-500 font-medium hover:bg-gray-100 dark:hover:bg-gray-900 transition"),u(e,"class","w-full group")},m(D,$){M(D,e,$),c(e,t),c(t,l),k[s].m(l,null),c(t,o),c(t,a),E.m(a,null),c(t,i),c(t,d),ie(h,d,null),v=!0,b||(w=[te(d,"pointerup",rd),te(t,"dblclick",n[32])],b=!0)},p(D,$){let T=s;s=V(D),s!==T&&(Qe(),Z(k[T],1,1,()=>{k[T]=null}),et(),r=k[s],r||(r=k[s]=y[s](D),r.c()),F(r,1),r.m(l,null)),I===(I=U(D))&&E?E.p(D,$):(E.d(1),E=I(D),E&&(E.c(),E.m(a,null)));const L={};$[1]&8388608&&(L.$$scope={dirty:$,ctx:D}),h.$set(L),(!v||$[0]&4&&_!==(_="folder-"+D[2]+"-button"))&&u(t,"id",_)},i(D){v||(F(r),F(h.$$.fragment,D),v=!0)},o(D){Z(r),Z(h.$$.fragment,D),v=!1},d(D){D&&f(e),k[s].d(),E.d(),ce(h),b=!1,rt(w)}}}function eo(n){var o,a;let e,t,l,s=((o=n[1][n[2]])==null?void 0:o.childrenIds)&&to(Zn(n)),r=((a=n[1][n[2]].items)==null?void 0:a.chats)&&so(n);return{c(){e=m("div"),s&&s.c(),t=A(),r&&r.c(),this.h()},l(i){e=p(i,"DIV",{class:!0});var d=g(e);s&&s.l(d),t=C(d),r&&r.l(d),d.forEach(f),this.h()},h(){u(e,"class","ml-3 pl-1 mt-[1px] flex flex-col overflow-y-auto scrollbar-hidden border-s border-gray-100 dark:border-gray-900")},m(i,d){M(i,e,d),s&&s.m(e,null),c(e,t),r&&r.m(e,null),l=!0},p(i,d){var h,_;(h=i[1][i[2]])!=null&&h.childrenIds?s?(s.p(Zn(i),d),d[0]&6&&F(s,1)):(s=to(Zn(i)),s.c(),F(s,1),s.m(e,t)):s&&(Qe(),Z(s,1,1,()=>{s=null}),et()),(_=i[1][i[2]].items)!=null&&_.chats?r?(r.p(i,d),d[0]&6&&F(r,1)):(r=so(i),r.c(),F(r,1),r.m(e,null)):r&&(Qe(),Z(r,1,1,()=>{r=null}),et())},i(i){l||(F(s),F(r),l=!0)},o(i){Z(s),Z(r),l=!1},d(i){i&&f(e),s&&s.d(),r&&r.d()}}}function to(n){let e=[],t=new Map,l,s,r=st(n[50]);const o=a=>`${a[2]}-${a[51].id}`;for(let a=0;a<r.length;a+=1){let i=qa(n,r,a),d=o(i);t.set(d,e[a]=lo(d,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ut()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);l=ut()},m(a,i){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(a,i);M(a,l,i),s=!0},p(a,i){i[0]&16518&&(r=st(a[50]),Qe(),e=yn(e,i,o,1,a,r,t,l.parentNode,En,lo,l,qa),et())},i(a){if(!s){for(let i=0;i<r.length;i+=1)F(e[i]);s=!0}},o(a){for(let i=0;i<e.length;i+=1)Z(e[i]);s=!1},d(a){a&&f(l);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function lo(n,e){let t,l,s;return l=new Ri({props:{folders:e[1],folderId:e[51].id,parentDragged:e[7]}}),l.$on("import",e[22]),l.$on("update",e[23]),l.$on("change",e[24]),{key:n,first:null,c(){t=ut(),ae(l.$$.fragment),this.h()},l(r){t=ut(),oe(l.$$.fragment,r),this.h()},h(){this.first=t},m(r,o){M(r,t,o),ie(l,r,o),s=!0},p(r,o){e=r;const a={};o[0]&2&&(a.folders=e[1]),o[0]&6&&(a.folderId=e[51].id),o[0]&128&&(a.parentDragged=e[7]),l.$set(a)},i(r){s||(F(l.$$.fragment,r),s=!0)},o(r){Z(l.$$.fragment,r),s=!1},d(r){r&&f(t),ce(l,r)}}}function so(n){let e=[],t=new Map,l,s,r=st(n[1][n[2]].items.chats);const o=a=>a[47].id;for(let a=0;a<r.length;a+=1){let i=Ka(n,r,a),d=o(i);t.set(d,e[a]=no(d,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ut()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);l=ut()},m(a,i){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(a,i);M(a,l,i),s=!0},p(a,i){i[0]&16390&&(r=st(a[1][a[2]].items.chats),Qe(),e=yn(e,i,o,1,a,r,t,l.parentNode,En,no,l,Ka),et())},i(a){if(!s){for(let i=0;i<r.length;i+=1)F(e[i]);s=!0}},o(a){for(let i=0;i<e.length;i+=1)Z(e[i]);s=!1},d(a){a&&f(l);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function no(n,e){let t,l,s;return l=new ar({props:{id:e[47].id,title:e[47].title}}),l.$on("change",e[25]),{key:n,first:null,c(){t=ut(),ae(l.$$.fragment),this.h()},l(r){t=ut(),oe(l.$$.fragment,r),this.h()},h(){this.first=t},m(r,o){M(r,t,o),ie(l,r,o),s=!0},p(r,o){e=r;const a={};o[0]&6&&(a.id=e[47].id),o[0]&6&&(a.title=e[47].title),l.$set(a)},i(r){s||(F(l.$$.fragment,r),s=!0)},o(r){Z(l.$$.fragment,r),s=!1},d(r){r&&f(t),ce(l,r)}}}function ed(n){var s,r;let e,t,l=((((s=n[1][n[2]])==null?void 0:s.childrenIds)??[]).length>0||(((r=n[1][n[2]].items)==null?void 0:r.chats)??[]).length>0)&&eo(n);return{c(){e=m("div"),l&&l.c(),this.h()},l(o){e=p(o,"DIV",{slot:!0,class:!0});var a=g(e);l&&l.l(a),a.forEach(f),this.h()},h(){u(e,"slot","content"),u(e,"class","w-full")},m(o,a){M(o,e,a),l&&l.m(e,null),t=!0},p(o,a){var i,d;(((i=o[1][o[2]])==null?void 0:i.childrenIds)??[]).length>0||(((d=o[1][o[2]].items)==null?void 0:d.chats)??[]).length>0?l?(l.p(o,a),a[0]&6&&F(l,1)):(l=eo(o),l.c(),F(l,1),l.m(e,null)):l&&(Qe(),Z(l,1,1,()=>{l=null}),et())},i(o){t||(F(l),t=!0)},o(o){Z(l),t=!1},d(o){o&&f(e),l&&l.d()}}}function td(n){var V,U;let e,t,l,s,r,o,a,i,d,h;function _(I){n[20](I)}let v={title:n[12].t("Delete folder?"),$$slots:{default:[Yu]},$$scope:{ctx:n}};n[11]!==void 0&&(v.show=n[11]),e=new In({props:v}),lt.push(()=>ht(e,"show",_)),e.$on("confirm",n[21]);let b=n[7]&&n[9]&&n[10]&&Xa(n),w=n[6]&&Qa();function y(I){n[33](I)}let k={className:"w-full",buttonClassName:"w-full",hide:(((V=n[1][n[2]])==null?void 0:V.childrenIds)??[]).length===0&&(((U=n[1][n[2]].items)==null?void 0:U.chats)??[]).length===0,$$slots:{content:[ed],default:[Qu]},$$scope:{ctx:n}};return n[0]!==void 0&&(k.open=n[0]),a=new Oi({props:k}),lt.push(()=>ht(a,"open",y)),a.$on("change",n[34]),{c(){ae(e.$$.fragment),l=A(),b&&b.c(),s=A(),r=m("div"),w&&w.c(),o=A(),ae(a.$$.fragment),this.h()},l(I){oe(e.$$.fragment,I),l=C(I),b&&b.l(I),s=C(I),r=p(I,"DIV",{class:!0,draggable:!0});var E=g(r);w&&w.l(E),o=C(E),oe(a.$$.fragment,E),E.forEach(f),this.h()},h(){u(r,"class",d="relative "+n[3]),u(r,"draggable","true")},m(I,E){ie(e,I,E),M(I,l,E),b&&b.m(I,E),M(I,s,E),M(I,r,E),w&&w.m(r,null),c(r,o),ie(a,r,null),n[35](r),h=!0},p(I,E){var T,L;const D={};E[0]&4096&&(D.title=I[12].t("Delete folder?")),E[0]&4102|E[1]&8388608&&(D.$$scope={dirty:E,ctx:I}),!t&&E[0]&2048&&(t=!0,D.show=I[11],dt(()=>t=!1)),e.$set(D),I[7]&&I[9]&&I[10]?b?(b.p(I,E),E[0]&1664&&F(b,1)):(b=Xa(I),b.c(),F(b,1),b.m(s.parentNode,s)):b&&(Qe(),Z(b,1,1,()=>{b=null}),et()),I[6]?w||(w=Qa(),w.c(),w.m(r,o)):w&&(w.d(1),w=null);const $={};E[0]&6&&($.hide=(((T=I[1][I[2]])==null?void 0:T.childrenIds)??[]).length===0&&(((L=I[1][I[2]].items)==null?void 0:L.chats)??[]).length===0),E[0]&2471|E[1]&8388608&&($.$$scope={dirty:E,ctx:I}),!i&&E[0]&1&&(i=!0,$.open=I[0],dt(()=>i=!1)),a.$set($),(!h||E[0]&8&&d!==(d="relative "+I[3]))&&u(r,"class",d)},i(I){h||(F(e.$$.fragment,I),F(b),F(a.$$.fragment,I),h=!0)},o(I){Z(e.$$.fragment,I),Z(b),Z(a.$$.fragment,I),h=!1},d(I){I&&(f(l),f(s),f(r)),ce(e,I),b&&b.d(I),w&&w.d(),ce(a),n[35](null)}}}const ld=n=>{n.stopPropagation()},sd=n=>{n.stopPropagation()},nd=n=>{},rd=n=>{n.stopPropagation()};function ad(n,e,t){let l;const s=wt("i18n");Ee(n,s,ne=>t(12,l=ne));const r=At(),{saveAs:o}=ws;let{open:a=!1}=e,{folders:i}=e,{folderId:d}=e,{className:h=""}=e,{parentDragged:_=!1}=e,v,b=!1,w=!1,y=!1,k="";const V=ne=>{ne.preventDefault(),ne.stopPropagation(),!(y||_)&&t(6,w=!0)},U=async ne=>{if(ne.preventDefault(),ne.stopPropagation(),!(y||_)&&v.contains(ne.target)){if(console.log("Dropped on the Button"),ne.dataTransfer.items&&ne.dataTransfer.items.length>0)for(const ye of Array.from(ne.dataTransfer.items))if(ye.kind==="file"){const Re=ye.getAsFile();if(Re&&Re.type==="application/json"){console.log("Dropped file is a JSON file!");const We=new FileReader;We.onload=async function(Ie){try{const Ae=JSON.parse(Ie.target.result);t(0,a=!0),r("import",{folderId:d,items:Ae})}catch(Ae){console.error("Error parsing JSON file:",Ae)}},We.readAsText(Re)}else console.error("Only JSON file types are supported.");console.log(Re)}else{const Re=ne.dataTransfer.getData("text/plain"),We=JSON.parse(Re);console.log(We);const{type:Ie,id:Ae,item:Se}=We;if(Ie==="folder"){if(t(0,a=!0),Ae===d)return;await Hi(localStorage.token,Ae,d).catch(Ze=>(Me.error(`${Ze}`),null))&&r("update")}else if(Ie==="chat"){t(0,a=!0);let xe=await Sl(localStorage.token,Ae).catch(nt=>null);!xe&&Se&&(xe=await pn(localStorage.token,Se.chat,(Se==null?void 0:Se.meta)??{})),await Qn(localStorage.token,xe.id,d).catch(nt=>(Me.error(`${nt}`),null))&&r("update")}}t(6,w=!1)}},I=ne=>{ne.preventDefault(),!(y||_)&&t(6,w=!1)},E=new Image;E.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";let D,$;const T=ne=>{ne.stopPropagation(),ne.dataTransfer.setDragImage(E,0,0),ne.dataTransfer.setData("text/plain",JSON.stringify({type:"folder",id:d})),t(7,y=!0),t(4,v.style.opacity="0.5",v)},L=ne=>{ne.stopPropagation(),t(9,D=ne.clientX),t(10,$=ne.clientY)},N=ne=>{ne.stopPropagation(),t(4,v.style.opacity="1",v),t(7,y=!1)};Ct(()=>{t(0,a=i[d].is_expanded),v&&(v.addEventListener("dragover",V),v.addEventListener("drop",U),v.addEventListener("dragleave",I),v.addEventListener("dragstart",T),v.addEventListener("drag",L),v.addEventListener("dragend",N))}),Xl(()=>{v&&(v.addEventListener("dragover",V),v.removeEventListener("drop",U),v.removeEventListener("dragleave",I),v.removeEventListener("dragstart",T),v.removeEventListener("drag",L),v.removeEventListener("dragend",N))});let S=!1;const W=async()=>{await _f(localStorage.token,d).catch(ye=>(Me.error(`${ye}`),null))&&(Me.success(l.t("Folder deleted successfully")),r("update"))},q=async()=>{if(k===""){Me.error(l.t("Folder name cannot be empty"));return}if(k===i[d].name){t(5,b=!1);return}const ne=i[d].name;t(8,k=k.trim()),t(1,i[d].name=k,i),await mf(localStorage.token,d,k).catch(Re=>(Me.error(`${Re}`),t(1,i[d].name=ne,i),null))&&(t(1,i[d].name=k,i),Me.success(l.t("Folder name updated successfully")),r("update"))},O=async()=>{await pf(localStorage.token,d,a).catch(ne=>(Me.error(`${ne}`),null))};let B;const Y=ne=>{clearTimeout(B),B=setTimeout(()=>{O()},500)},J=async()=>{console.log("Edit"),await Dl(),t(8,k=i[d].name),t(5,b=!0),await Dl(),setTimeout(()=>{document.getElementById(`folder-${d}-input`).focus()},100)},G=async()=>{const ne=await mc(localStorage.token,d).catch(Re=>(Me.error(`${Re}`),null));if(!ne)return;const ye=new Blob([JSON.stringify(ne)],{type:"application/json"});o(ye,`folder-${i[d].name}-export-${Date.now()}.json`)};function R(ne){S=ne,t(11,S)}const j=()=>{W()},x=ne=>{r("import",ne.detail)},X=ne=>{r("update",ne.detail)},K=ne=>{r("change",ne.detail)},ee=ne=>{r("change",ne.detail)};function se(){k=this.value,t(8,k)}const ue=()=>{q(),t(5,b=!1)},he=ne=>{ne.key==="Enter"&&(q(),t(5,b=!1))},me=()=>{J()},pe=()=>{t(11,S=!0)},de=()=>{G()},ke=()=>{J()};function Fe(ne){a=ne,t(0,a)}const Be=ne=>{r("open",ne.detail)};function be(ne){lt[ne?"unshift":"push"](()=>{v=ne,t(4,v)})}return n.$$set=ne=>{"open"in ne&&t(0,a=ne.open),"folders"in ne&&t(1,i=ne.folders),"folderId"in ne&&t(2,d=ne.folderId),"className"in ne&&t(3,h=ne.className),"parentDragged"in ne&&t(19,_=ne.parentDragged)},n.$$.update=()=>{n.$$.dirty[0]&1&&Y()},[a,i,d,h,v,b,w,y,k,D,$,S,l,s,r,W,q,J,G,_,R,j,x,X,K,ee,se,ue,he,me,pe,de,ke,Fe,Be,be]}class Ri extends ot{constructor(e){super(),it(this,e,ad,td,at,{open:0,folders:1,folderId:2,className:3,parentDragged:19},null,[-1,-1])}}function ro(n,e,t){const l=n.slice();return l[6]=e[t],l}function ao(n,e){let t,l,s;return l=new Ri({props:{className:"",folders:e[0],folderId:e[6]}}),l.$on("import",e[3]),l.$on("update",e[4]),l.$on("change",e[5]),{key:n,first:null,c(){t=ut(),ae(l.$$.fragment),this.h()},l(r){t=ut(),oe(l.$$.fragment,r),this.h()},h(){this.first=t},m(r,o){M(r,t,o),ie(l,r,o),s=!0},p(r,o){e=r;const a={};o&1&&(a.folders=e[0]),o&2&&(a.folderId=e[6]),l.$set(a)},i(r){s||(F(l.$$.fragment,r),s=!0)},o(r){Z(l.$$.fragment,r),s=!1},d(r){r&&f(t),ce(l,r)}}}function od(n){let e=[],t=new Map,l,s,r=st(n[1]);const o=a=>a[6];for(let a=0;a<r.length;a+=1){let i=ro(n,r,a),d=o(i);t.set(d,e[a]=ao(d,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ut()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);l=ut()},m(a,i){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(a,i);M(a,l,i),s=!0},p(a,[i]){i&7&&(r=st(a[1]),Qe(),e=yn(e,i,o,1,a,r,t,l.parentNode,En,ao,l,ro),et())},i(a){if(!s){for(let i=0;i<r.length;i+=1)F(e[i]);s=!0}},o(a){for(let i=0;i<e.length;i+=1)Z(e[i]);s=!1},d(a){a&&f(l);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function id(n,e,t){const l=At();let{folders:s={}}=e,r=[];const o=d=>{l("import",d.detail)},a=d=>{l("update",d.detail)},i=d=>{l("change",d.detail)};return n.$$set=d=>{"folders"in d&&t(0,s=d.folders)},n.$$.update=()=>{n.$$.dirty&1&&t(1,r=Object.keys(s).filter(d=>s[d].parent_id===null).sort((d,h)=>s[d].name.localeCompare(s[h].name,void 0,{numeric:!0,sensitivity:"base"})))},[s,r,l,o,a,i]}class cd extends ot{constructor(e){super(),it(this,e,id,od,at,{folders:0})}}function fd(n){let e=n[6].t("Create Channel")+"",t;return{c(){t=H(e)},l(l){t=P(l,e)},m(l,s){M(l,t,s)},p(l,s){s&64&&e!==(e=l[6].t("Create Channel")+"")&&z(t,e)},d(l){l&&f(t)}}}function ud(n){let e=n[6].t("Edit Channel")+"",t;return{c(){t=H(e)},l(l){t=P(l,e)},m(l,s){M(l,t,s)},p(l,s){s&64&&e!==(e=l[6].t("Edit Channel")+"")&&z(t,e)},d(l){l&&f(t)}}}function oo(n){let e,t=n[6].t("Delete")+"",l,s,r;return{c(){e=m("button"),l=H(t),this.h()},l(o){e=p(o,"BUTTON",{class:!0,type:!0});var a=g(e);l=P(a,t),a.forEach(f),this.h()},h(){u(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-black/90 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),u(e,"type","button")},m(o,a){M(o,e,a),c(e,l),s||(r=te(e,"click",n[16]),s=!0)},p(o,a){a&64&&t!==(t=o[6].t("Delete")+"")&&z(l,t)},d(o){o&&f(e),s=!1,r()}}}function dd(n){let e=n[6].t("Create")+"",t;return{c(){t=H(e)},l(l){t=P(l,e)},m(l,s){M(l,t,s)},p(l,s){s&64&&e!==(e=l[6].t("Create")+"")&&z(t,e)},d(l){l&&f(t)}}}function hd(n){let e=n[6].t("Update")+"",t;return{c(){t=H(e)},l(l){t=P(l,e)},m(l,s){M(l,t,s)},p(l,s){s&64&&e!==(e=l[6].t("Update")+"")&&z(t,e)},d(l){l&&f(t)}}}function io(n){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=m("div"),e.innerHTML=t,this.h()},l(l){e=p(l,"DIV",{class:!0,"data-svelte-h":!0}),Ye(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,s){M(l,e,s)},d(l){l&&f(e)}}}function md(n){let e,t,l,s,r,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" clip-rule="evenodd"></path></svg>',a,i,d,h,_,v,b=n[6].t("Channel Name")+"",w,y,k,V,U,I,E,D,$,T,L,N,S,W,q,O,B,Y,J,G,R;function j(de,ke){return de[1]?ud:fd}let x=j(n),X=x(n);function K(de){n[15](de)}let ee={};n[3]!==void 0&&(ee.accessControl=n[3]),L=new Rc({props:ee}),lt.push(()=>ht(L,"accessControl",K));let se=n[1]&&oo(n);function ue(de,ke){return de[1]?hd:dd}let he=ue(n),me=he(n),pe=n[4]&&io();return{c(){e=m("div"),t=m("div"),l=m("div"),X.c(),s=A(),r=m("button"),r.innerHTML=o,a=A(),i=m("div"),d=m("div"),h=m("form"),_=m("div"),v=m("div"),w=H(b),y=A(),k=m("div"),V=m("input"),I=A(),E=m("hr"),D=A(),$=m("div"),T=m("div"),ae(L.$$.fragment),S=A(),W=m("div"),se&&se.c(),q=A(),O=m("button"),me.c(),B=A(),pe&&pe.c(),this.h()},l(de){e=p(de,"DIV",{});var ke=g(e);t=p(ke,"DIV",{class:!0});var Fe=g(t);l=p(Fe,"DIV",{class:!0});var Be=g(l);X.l(Be),Be.forEach(f),s=C(Fe),r=p(Fe,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(r)!=="svelte-i7w487"&&(r.innerHTML=o),Fe.forEach(f),a=C(ke),i=p(ke,"DIV",{class:!0});var be=g(i);d=p(be,"DIV",{class:!0});var ne=g(d);h=p(ne,"FORM",{class:!0});var ye=g(h);_=p(ye,"DIV",{class:!0});var Re=g(_);v=p(Re,"DIV",{class:!0});var We=g(v);w=P(We,b),We.forEach(f),y=C(Re),k=p(Re,"DIV",{class:!0});var Ie=g(k);V=p(Ie,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ie.forEach(f),Re.forEach(f),I=C(ye),E=p(ye,"HR",{class:!0}),D=C(ye),$=p(ye,"DIV",{class:!0});var Ae=g($);T=p(Ae,"DIV",{class:!0});var Se=g(T);oe(L.$$.fragment,Se),Se.forEach(f),Ae.forEach(f),S=C(ye),W=p(ye,"DIV",{class:!0});var xe=g(W);se&&se.l(xe),q=C(xe),O=p(xe,"BUTTON",{class:!0,type:!0});var Ze=g(O);me.l(Ze),B=C(Ze),pe&&pe.l(Ze),Ze.forEach(f),xe.forEach(f),ye.forEach(f),ne.forEach(f),be.forEach(f),ke.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(r,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),u(v,"class","mb-1 text-xs text-gray-500"),u(V,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),u(V,"type","text"),u(V,"placeholder",U=n[6].t("new-channel")),u(V,"autocomplete","off"),u(k,"class","flex-1"),u(_,"class","flex flex-col w-full mt-2"),u(E,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),u(T,"class","px-3 py-2 bg-gray-50 dark:bg-gray-950 rounded-lg"),u($,"class","my-2 -mx-2"),u(O,"class",Y="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(n[4]?" cursor-not-allowed":"")),u(O,"type","submit"),O.disabled=n[4],u(W,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),u(h,"class","flex flex-col w-full"),u(d,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(i,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(de,ke){M(de,e,ke),c(e,t),c(t,l),X.m(l,null),c(t,s),c(t,r),c(e,a),c(e,i),c(i,d),c(d,h),c(h,_),c(_,v),c(v,w),c(_,y),c(_,k),c(k,V),je(V,n[2]),c(h,I),c(h,E),c(h,D),c(h,$),c($,T),ie(L,T,null),c(h,S),c(h,W),se&&se.m(W,null),c(W,q),c(W,O),me.m(O,null),c(O,B),pe&&pe.m(O,null),J=!0,G||(R=[te(r,"click",n[13]),te(V,"input",n[14]),te(h,"submit",Ol(n[17]))],G=!0)},p(de,ke){x===(x=j(de))&&X?X.p(de,ke):(X.d(1),X=x(de),X&&(X.c(),X.m(l,null))),(!J||ke&64)&&b!==(b=de[6].t("Channel Name")+"")&&z(w,b),(!J||ke&64&&U!==(U=de[6].t("new-channel")))&&u(V,"placeholder",U),ke&4&&V.value!==de[2]&&je(V,de[2]);const Fe={};!N&&ke&8&&(N=!0,Fe.accessControl=de[3],dt(()=>N=!1)),L.$set(Fe),de[1]?se?se.p(de,ke):(se=oo(de),se.c(),se.m(W,q)):se&&(se.d(1),se=null),he===(he=ue(de))&&me?me.p(de,ke):(me.d(1),me=he(de),me&&(me.c(),me.m(O,B))),de[4]?pe||(pe=io(),pe.c(),pe.m(O,null)):pe&&(pe.d(1),pe=null),(!J||ke&16&&Y!==(Y="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(de[4]?" cursor-not-allowed":"")))&&u(O,"class",Y),(!J||ke&16)&&(O.disabled=de[4])},i(de){J||(F(L.$$.fragment,de),J=!0)},o(de){Z(L.$$.fragment,de),J=!1},d(de){de&&f(e),X.d(),ce(L),se&&se.d(),me.d(),pe&&pe.d(),G=!1,rt(R)}}}function pd(n){let e,t,l,s,r,o;function a(_){n[18](_)}let i={size:"sm",$$slots:{default:[md]},$$scope:{ctx:n}};n[0]!==void 0&&(i.show=n[0]),e=new Ll({props:i}),lt.push(()=>ht(e,"show",a));function d(_){n[19](_)}let h={message:n[6].t("Are you sure you want to delete this channel?"),confirmLabel:n[6].t("Delete")};return n[5]!==void 0&&(h.show=n[5]),s=new In({props:h}),lt.push(()=>ht(s,"show",d)),s.$on("confirm",n[20]),{c(){ae(e.$$.fragment),l=A(),ae(s.$$.fragment)},l(_){oe(e.$$.fragment,_),l=C(_),oe(s.$$.fragment,_)},m(_,v){ie(e,_,v),M(_,l,v),ie(s,_,v),o=!0},p(_,[v]){const b={};v&8388735&&(b.$$scope={dirty:v,ctx:_}),!t&&v&1&&(t=!0,b.show=_[0],dt(()=>t=!1)),e.$set(b);const w={};v&64&&(w.message=_[6].t("Are you sure you want to delete this channel?")),v&64&&(w.confirmLabel=_[6].t("Delete")),!r&&v&32&&(r=!0,w.show=_[5],dt(()=>r=!1)),s.$set(w)},i(_){o||(F(e.$$.fragment,_),F(s.$$.fragment,_),o=!0)},o(_){Z(e.$$.fragment,_),Z(s.$$.fragment,_),o=!1},d(_){_&&f(l),ce(e,_),ce(s,_)}}}function _d(n,e,t){let l,s;Ee(n,lr,S=>t(21,l=S));const r=wt("i18n");Ee(n,r,S=>t(6,s=S));let{show:o=!1}=e,{onSubmit:a=()=>{}}=e,{onUpdate:i=()=>{}}=e,{channel:d=null}=e,{edit:h=!1}=e,_="",v=null,b=!1;const w=async()=>{t(4,b=!0),await a({name:_.replace(/\s/g,"-"),access_control:v}),t(0,o=!1),t(4,b=!1)},y=()=>{t(2,_=d.name),t(3,v=d.access_control)};let k=!1;const V=async()=>{t(5,k=!1),await Uc(localStorage.token,d.id).catch(W=>{Me.error(W.message)})&&(Me.success("Channel deleted successfully"),i(),l.url.pathname===`/channels/${d.id}`&&_l("/")),t(0,o=!1)},U=()=>{t(0,o=!1)};function I(){_=this.value,t(2,_)}function E(S){v=S,t(3,v)}const D=()=>{t(5,k=!0)},$=()=>{w()};function T(S){o=S,t(0,o)}function L(S){k=S,t(5,k)}const N=()=>{V()};return n.$$set=S=>{"show"in S&&t(0,o=S.show),"onSubmit"in S&&t(10,a=S.onSubmit),"onUpdate"in S&&t(11,i=S.onUpdate),"channel"in S&&t(12,d=S.channel),"edit"in S&&t(1,h=S.edit)},n.$$.update=()=>{n.$$.dirty&4&&_&&t(2,_=_.replace(/\s/g,"-").toLocaleLowerCase()),n.$$.dirty&4096&&d&&y()},[o,h,_,v,b,k,s,r,w,V,a,i,d,U,I,E,D,$,T,L,N]}class xi extends ot{constructor(e){super(),it(this,e,_d,pd,at,{show:0,onSubmit:10,onUpdate:11,channel:12,edit:1})}}function co(n){let e,t,l,s,r,o;return l=new xc({props:{className:"size-3.5"}}),{c(){e=m("button"),t=m("button"),ae(l.$$.fragment),this.h()},l(a){e=p(a,"BUTTON",{class:!0});var i=g(e);t=p(i,"BUTTON",{class:!0});var d=g(t);oe(l.$$.fragment,d),d.forEach(f),i.forEach(f),this.h()},h(){u(t,"class","p-0.5 dark:hover:bg-gray-850 rounded-lg touch-auto"),u(e,"class","absolute z-10 right-2 invisible group-hover:visible self-center flex items-center dark:text-gray-300")},m(a,i){M(a,e,i),c(e,t),ie(l,t,null),s=!0,r||(o=[te(t,"click",gd),te(e,"click",n[11])],r=!0)},p:Ce,i(a){s||(F(l.$$.fragment,a),s=!0)},o(a){Z(l.$$.fragment,a),s=!1},d(a){a&&f(e),ce(l),r=!1,rt(o)}}}function vd(n){var $;let e,t,l,s,r,o,a,i,d,h,_=n[2].name+"",v,b,w,y,k,V,U;function I(T){n[9](T)}let E={channel:n[2],edit:!0,onUpdate:n[0],onSubmit:n[8]};n[3]!==void 0&&(E.show=n[3]),e=new xi({props:E}),lt.push(()=>ht(e,"show",I));let D=(($=n[7])==null?void 0:$.role)==="admin"&&co(n);return{c(){ae(e.$$.fragment),l=A(),s=m("div"),r=m("a"),o=m("div"),a=gt("svg"),i=gt("path"),d=A(),h=m("div"),v=H(_),w=A(),D&&D.c(),this.h()},l(T){oe(e.$$.fragment,T),l=C(T),s=p(T,"DIV",{class:!0});var L=g(s);r=p(L,"A",{class:!0,href:!0,draggable:!0});var N=g(r);o=p(N,"DIV",{class:!0});var S=g(o);a=bt(S,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var W=g(a);i=bt(W,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(i).forEach(f),W.forEach(f),d=C(S),h=p(S,"DIV",{class:!0});var q=g(h);v=P(q,_),q.forEach(f),S.forEach(f),N.forEach(f),w=C(L),D&&D.l(L),L.forEach(f),this.h()},h(){u(i,"fill-rule","evenodd"),u(i,"d","M7.487 2.89a.75.75 0 1 0-1.474-.28l-.455 2.388H3.61a.75.75 0 0 0 0 1.5h1.663l-.571 2.998H2.75a.75.75 0 0 0 0 1.5h1.666l-.403 2.114a.75.75 0 0 0 1.474.28l.456-2.394h2.973l-.403 2.114a.75.75 0 0 0 1.474.28l.456-2.394h1.947a.75.75 0 0 0 0-1.5h-1.661l.57-2.998h1.95a.75.75 0 0 0 0-1.5h-1.664l.402-2.108a.75.75 0 0 0-1.474-.28l-.455 2.388H7.085l.402-2.108ZM6.8 6.498l-.571 2.998h2.973l.57-2.998H6.8Z"),u(i,"clip-rule","evenodd"),u(a,"xmlns","http://www.w3.org/2000/svg"),u(a,"viewBox","0 0 16 16"),u(a,"fill","currentColor"),u(a,"class","size-5"),u(h,"class","text-left self-center overflow-hidden w-full line-clamp-1"),u(o,"class","flex items-center gap-1"),u(r,"class","w-full flex justify-between"),u(r,"href",b="/channels/"+n[2].id),u(r,"draggable","false"),u(s,"class",y="w-full "+n[1]+" rounded-lg flex relative group hover:bg-gray-100 dark:hover:bg-gray-900 "+(n[5].url.pathname===`/channels/${n[2].id}`?"bg-gray-100 dark:bg-gray-900":"")+" px-2.5 py-1")},m(T,L){ie(e,T,L),M(T,l,L),M(T,s,L),c(s,r),c(r,o),c(o,a),c(a,i),c(o,d),c(o,h),c(h,v),c(s,w),D&&D.m(s,null),n[12](s),k=!0,V||(U=te(r,"click",n[10]),V=!0)},p(T,[L]){var S;const N={};L&4&&(N.channel=T[2]),L&1&&(N.onUpdate=T[0]),L&5&&(N.onSubmit=T[8]),!t&&L&8&&(t=!0,N.show=T[3],dt(()=>t=!1)),e.$set(N),(!k||L&4)&&_!==(_=T[2].name+"")&&z(v,_),(!k||L&4&&b!==(b="/channels/"+T[2].id))&&u(r,"href",b),((S=T[7])==null?void 0:S.role)==="admin"?D?(D.p(T,L),L&128&&F(D,1)):(D=co(T),D.c(),F(D,1),D.m(s,null)):D&&(Qe(),Z(D,1,1,()=>{D=null}),et()),(!k||L&38&&y!==(y="w-full "+T[1]+" rounded-lg flex relative group hover:bg-gray-100 dark:hover:bg-gray-900 "+(T[5].url.pathname===`/channels/${T[2].id}`?"bg-gray-100 dark:bg-gray-900":"")+" px-2.5 py-1"))&&u(s,"class",y)},i(T){k||(F(e.$$.fragment,T),F(D),k=!0)},o(T){Z(e.$$.fragment,T),Z(D),k=!1},d(T){T&&(f(l),f(s)),ce(e,T),D&&D.d(),n[12](null),V=!1,U()}}}const gd=n=>{};function bd(n,e,t){let l,s,r;Ee(n,lr,k=>t(5,l=k)),Ee(n,gn,k=>t(6,s=k)),Ee(n,Tl,k=>t(7,r=k)),wt("i18n");let{onUpdate:o=()=>{}}=e,{className:a=""}=e,{channel:i}=e,d=!1,h;const _=async({name:k,access_control:V})=>{await Hc(localStorage.token,i.id,{name:k,access_control:V}).catch(I=>{Me.error(I.message)})&&Me.success("Channel updated successfully"),o()};function v(k){d=k,t(3,d)}const b=()=>{s&&Lt.set(!1)},w=k=>{k.stopPropagation(),t(3,d=!0)};function y(k){lt[k?"unshift":"push"](()=>{h=k,t(4,h)})}return n.$$set=k=>{"onUpdate"in k&&t(0,o=k.onUpdate),"className"in k&&t(1,a=k.className),"channel"in k&&t(2,i=k.channel)},[o,a,i,d,h,l,s,r,_,v,b,w,y]}class wd extends ot{constructor(e){super(),it(this,e,bd,vd,at,{onUpdate:0,className:1,channel:2})}}function fo(n,e,t){const l=n.slice();return l[81]=e[t],l[83]=t,l}function uo(n,e,t){const l=n.slice();return l[81]=e[t],l[83]=t,l}function ho(n,e,t){const l=n.slice();return l[85]=e[t],l}function mo(n){let e,t,l,s;return{c(){e=m("div"),this.h()},l(r){e=p(r,"DIV",{class:!0}),g(e).forEach(f),this.h()},h(){u(e,"class",t=(n[17]?" ml-[4.5rem] md:ml-0":"")+" fixed md:hidden z-40 top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center overflow-hidden overscroll-contain")},m(r,o){M(r,e,o),l||(s=te(e,"mousedown",n[36]),l=!0)},p(r,o){o[0]&131072&&t!==(t=(r[17]?" ml-[4.5rem] md:ml-0":"")+" fixed md:hidden z-40 top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center overflow-hidden overscroll-contain")&&u(e,"class",t)},d(r){r&&f(e),l=!1,s()}}}function po(n){let e,t,l,s='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-[1.1rem]"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>',r,o,a,i=n[12].t("Workspace")+"",d,h,_;return{c(){e=m("div"),t=m("a"),l=m("div"),l.innerHTML=s,r=A(),o=m("div"),a=m("div"),d=H(i),this.h()},l(v){e=p(v,"DIV",{class:!0});var b=g(e);t=p(b,"A",{class:!0,href:!0,draggable:!0});var w=g(t);l=p(w,"DIV",{class:!0,"data-svelte-h":!0}),Ye(l)!=="svelte-zod9jr"&&(l.innerHTML=s),r=C(w),o=p(w,"DIV",{class:!0});var y=g(o);a=p(y,"DIV",{class:!0});var k=g(a);d=P(k,i),k.forEach(f),y.forEach(f),w.forEach(f),b.forEach(f),this.h()},h(){u(l,"class","self-center"),u(a,"class","self-center font-medium text-sm font-primary"),u(o,"class","flex self-center"),u(t,"class","flex-grow flex space-x-3 rounded-lg px-2 py-[7px] hover:bg-gray-100 dark:hover:bg-gray-900 transition"),u(t,"href","/workspace"),u(t,"draggable","false"),u(e,"class","px-1.5 flex justify-center text-gray-800 dark:text-gray-200")},m(v,b){M(v,e,b),c(e,t),c(t,l),c(t,r),c(t,o),c(o,a),c(a,d),h||(_=te(t,"click",n[39]),h=!0)},p(v,b){b[0]&4096&&i!==(i=v[12].t("Workspace")+"")&&z(d,i)},d(v){v&&f(e),h=!1,_()}}}function _o(n){let e;return{c(){e=m("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),g(e).forEach(f),this.h()},h(){u(e,"class","absolute z-40 w-full h-full flex justify-center")},m(t,l){M(t,e,l)},d(t){t&&f(e)}}}function vo(n){let e,t;return e=new or({props:{className:"px-2 mt-0.5",name:n[12].t("Channels"),dragAndDrop:!1,onAdd:n[42],onAddLabel:n[12].t("Create Channel"),$$slots:{default:[kd]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[0]&4096&&(r.name=l[12].t("Channels")),s[0]&65600&&(r.onAdd=l[42]),s[0]&4096&&(r.onAddLabel=l[12].t("Create Channel")),s[0]&1048576|s[2]&67108864&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function go(n){let e,t;return e=new wd({props:{channel:n[85],onUpdate:n[41]}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[0]&1048576&&(r.channel=l[85]),e.$set(r)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function kd(n){let e,t,l=st(n[20]),s=[];for(let o=0;o<l.length;o+=1)s[o]=go(ho(n,l,o));const r=o=>Z(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=ut()},l(o){for(let a=0;a<s.length;a+=1)s[a].l(o);e=ut()},m(o,a){for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(o,a);M(o,e,a),t=!0},p(o,a){if(a[0]&68157440){l=st(o[20]);let i;for(i=0;i<l.length;i+=1){const d=ho(o,l,i);s[i]?(s[i].p(d,a),F(s[i],1)):(s[i]=go(d),s[i].c(),F(s[i],1),s[i].m(e.parentNode,e))}for(Qe(),i=l.length;i<s.length;i+=1)r(i);et()}},i(o){if(!t){for(let a=0;a<l.length;a+=1)F(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)Z(s[a]);t=!1},d(o){o&&f(e),$t(s,o)}}}function bo(n){let e;return{c(){e=m("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),g(e).forEach(f),this.h()},h(){u(e,"class","absolute z-40 w-full h-full flex justify-center")},m(t,l){M(t,e,l)},d(t){t&&f(e)}}}function wo(n){let e,t,l,s;function r(a){n[47](a)}let o={className:"",name:n[12].t("Pinned"),$$slots:{default:[yd]},$$scope:{ctx:n}};return n[5]!==void 0&&(o.open=n[5]),t=new or({props:o}),lt.push(()=>ht(t,"open",r)),t.$on("change",n[48]),t.$on("import",n[49]),t.$on("drop",n[50]),{c(){e=m("div"),ae(t.$$.fragment),this.h()},l(a){e=p(a,"DIV",{class:!0});var i=g(e);oe(t.$$.fragment,i),i.forEach(f),this.h()},h(){u(e,"class","flex flex-col space-y-1 rounded-xl")},m(a,i){M(a,e,i),ie(t,e,null),s=!0},p(a,i){const d={};i[0]&4096&&(d.name=a[12].t("Pinned")),i[0]&2097164|i[2]&67108864&&(d.$$scope={dirty:i,ctx:a}),!l&&i[0]&32&&(l=!0,d.open=a[5],dt(()=>l=!1)),t.$set(d)},i(a){s||(F(t.$$.fragment,a),s=!0)},o(a){Z(t.$$.fragment,a),s=!1},d(a){a&&f(e),ce(t)}}}function ko(n){let e,t;function l(){return n[43](n[81])}function s(...r){return n[46](n[81],...r)}return e=new ar({props:{className:"",id:n[81].id,title:n[81].title,shiftKey:n[2],selected:n[3]===n[81].id}}),e.$on("select",l),e.$on("unselect",n[44]),e.$on("change",n[45]),e.$on("tag",s),{c(){ae(e.$$.fragment)},l(r){oe(e.$$.fragment,r)},m(r,o){ie(e,r,o),t=!0},p(r,o){n=r;const a={};o[0]&2097152&&(a.id=n[81].id),o[0]&2097152&&(a.title=n[81].title),o[0]&4&&(a.shiftKey=n[2]),o[0]&2097160&&(a.selected=n[3]===n[81].id),e.$set(a)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){Z(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function yd(n){let e,t,l=st(n[21]),s=[];for(let o=0;o<l.length;o+=1)s[o]=ko(uo(n,l,o));const r=o=>Z(s[o],1,1,()=>{s[o]=null});return{c(){e=m("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=p(o,"DIV",{class:!0});var a=g(e);for(let i=0;i<s.length;i+=1)s[i].l(a);a.forEach(f),this.h()},h(){u(e,"class","ml-3 pl-1 mt-[1px] flex flex-col overflow-y-auto scrollbar-hidden border-s border-gray-100 dark:border-gray-900 svelte-141e0sl")},m(o,a){M(o,e,a);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null);t=!0},p(o,a){if(a[0]&136314892|a[1]&1){l=st(o[21]);let i;for(i=0;i<l.length;i+=1){const d=uo(o,l,i);s[i]?(s[i].p(d,a),F(s[i],1)):(s[i]=ko(d),s[i].c(),F(s[i],1),s[i].m(e,null))}for(Qe(),i=l.length;i<s.length;i+=1)r(i);et()}},i(o){if(!t){for(let a=0;a<l.length;a+=1)F(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)Z(s[a]);t=!1},d(o){o&&f(e),$t(s,o)}}}function yo(n){let e,t;return e=new cd({props:{folders:n[9]}}),e.$on("import",n[51]),e.$on("update",n[52]),e.$on("change",n[53]),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[0]&512&&(r.folders=l[9]),e.$set(r)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Ed(n){let e,t,l,s,r="Loading...",o;return t=new Si({props:{className:" size-4"}}),{c(){e=m("div"),ae(t.$$.fragment),l=A(),s=m("div"),s.textContent=r,this.h()},l(a){e=p(a,"DIV",{class:!0});var i=g(e);oe(t.$$.fragment,i),l=C(i),s=p(i,"DIV",{class:!0,"data-svelte-h":!0}),Ye(s)!=="svelte-17uns3n"&&(s.textContent=r),i.forEach(f),this.h()},h(){u(s,"class",""),u(e,"class","w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2")},m(a,i){M(a,e,i),ie(t,e,null),c(e,l),c(e,s),o=!0},p:Ce,i(a){o||(F(t.$$.fragment,a),o=!0)},o(a){Z(t.$$.fragment,a),o=!1},d(a){a&&f(e),ce(t)}}}function Id(n){let e,t,l,s=st(n[13]),r=[];for(let i=0;i<s.length;i+=1)r[i]=Io(fo(n,s,i));const o=i=>Z(r[i],1,1,()=>{r[i]=null});let a=n[22]&&!n[8]&&Do(n);return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=A(),a&&a.c(),t=ut()},l(i){for(let d=0;d<r.length;d+=1)r[d].l(i);e=C(i),a&&a.l(i),t=ut()},m(i,d){for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(i,d);M(i,e,d),a&&a.m(i,d),M(i,t,d),l=!0},p(i,d){if(d[0]&134230028|d[1]&1){s=st(i[13]);let h;for(h=0;h<s.length;h+=1){const _=fo(i,s,h);r[h]?(r[h].p(_,d),F(r[h],1)):(r[h]=Io(_),r[h].c(),F(r[h],1),r[h].m(e.parentNode,e))}for(Qe(),h=s.length;h<r.length;h+=1)o(h);et()}i[22]&&!i[8]?a?(a.p(i,d),d[0]&4194560&&F(a,1)):(a=Do(i),a.c(),F(a,1),a.m(t.parentNode,t)):a&&(Qe(),Z(a,1,1,()=>{a=null}),et())},i(i){if(!l){for(let d=0;d<s.length;d+=1)F(r[d]);F(a),l=!0}},o(i){r=r.filter(Boolean);for(let d=0;d<r.length;d+=1)Z(r[d]);Z(a),l=!1},d(i){i&&(f(e),f(t)),$t(r,i),a&&a.d(i)}}}function Eo(n){let e,t=n[12].t(n[81].time_range)+"",l;return{c(){e=m("div"),l=H(t),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium "+(n[83]===0?"":"pt-5")+" pb-1.5")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&12288&&t!==(t=s[12].t(s[81].time_range)+"")&&z(l,t)},d(s){s&&f(e)}}}function Io(n){let e,t,l,s=(n[83]===0||n[83]>0&&n[81].time_range!==n[13][n[83]-1].time_range)&&Eo(n);function r(){return n[54](n[81])}function o(...a){return n[57](n[81],...a)}return t=new ar({props:{className:"",id:n[81].id,title:n[81].title,shiftKey:n[2],selected:n[3]===n[81].id}}),t.$on("select",r),t.$on("unselect",n[55]),t.$on("change",n[56]),t.$on("tag",o),{c(){s&&s.c(),e=A(),ae(t.$$.fragment)},l(a){s&&s.l(a),e=C(a),oe(t.$$.fragment,a)},m(a,i){s&&s.m(a,i),M(a,e,i),ie(t,a,i),l=!0},p(a,i){n=a,n[83]===0||n[83]>0&&n[81].time_range!==n[13][n[83]-1].time_range?s?s.p(n,i):(s=Eo(n),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);const d={};i[0]&8192&&(d.id=n[81].id),i[0]&8192&&(d.title=n[81].title),i[0]&4&&(d.shiftKey=n[2]),i[0]&8200&&(d.selected=n[3]===n[81].id),t.$set(d)},i(a){l||(F(t.$$.fragment,a),l=!0)},o(a){Z(t.$$.fragment,a),l=!1},d(a){a&&f(e),s&&s.d(a),ce(t,a)}}}function Do(n){let e,t;return e=new Lc({props:{$$slots:{default:[Dd]},$$scope:{ctx:n}}}),e.$on("visible",n[58]),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[2]&67108864&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Dd(n){let e,t,l,s,r="Loading...",o;return t=new Si({props:{className:" size-4"}}),{c(){e=m("div"),ae(t.$$.fragment),l=A(),s=m("div"),s.textContent=r,this.h()},l(a){e=p(a,"DIV",{class:!0});var i=g(e);oe(t.$$.fragment,i),l=C(i),s=p(i,"DIV",{class:!0,"data-svelte-h":!0}),Ye(s)!=="svelte-17uns3n"&&(s.textContent=r),i.forEach(f),this.h()},h(){u(s,"class",""),u(e,"class","w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2")},m(a,i){M(a,e,i),ie(t,e,null),c(e,l),c(e,s),o=!0},p:Ce,i(a){o||(F(t.$$.fragment,a),o=!0)},o(a){Z(t.$$.fragment,a),o=!1},d(a){a&&f(e),ce(t)}}}function Td(n){let e,t,l,s,r,o,a,i,d=n[18]&&bo(),h=!n[1]&&n[21].length>0&&wo(n),_=!n[1]&&n[9]&&yo(n);const v=[Id,Ed],b=[];function w(y,k){return y[13]?0:1}return o=w(n),a=b[o]=v[o](n),{c(){d&&d.c(),e=A(),h&&h.c(),t=A(),_&&_.c(),l=A(),s=m("div"),r=m("div"),a.c(),this.h()},l(y){d&&d.l(y),e=C(y),h&&h.l(y),t=C(y),_&&_.l(y),l=C(y),s=p(y,"DIV",{class:!0});var k=g(s);r=p(k,"DIV",{class:!0});var V=g(r);a.l(V),V.forEach(f),k.forEach(f),this.h()},h(){u(r,"class","pt-1.5"),u(s,"class","flex-1 flex flex-col overflow-y-auto scrollbar-hidden svelte-141e0sl")},m(y,k){d&&d.m(y,k),M(y,e,k),h&&h.m(y,k),M(y,t,k),_&&_.m(y,k),M(y,l,k),M(y,s,k),c(s,r),b[o].m(r,null),i=!0},p(y,k){y[18]?d||(d=bo(),d.c(),d.m(e.parentNode,e)):d&&(d.d(1),d=null),!y[1]&&y[21].length>0?h?(h.p(y,k),k[0]&2097154&&F(h,1)):(h=wo(y),h.c(),F(h,1),h.m(t.parentNode,t)):h&&(Qe(),Z(h,1,1,()=>{h=null}),et()),!y[1]&&y[9]?_?(_.p(y,k),k[0]&514&&F(_,1)):(_=yo(y),_.c(),F(_,1),_.m(l.parentNode,l)):_&&(Qe(),Z(_,1,1,()=>{_=null}),et());let V=o;o=w(y),o===V?b[o].p(y,k):(Qe(),Z(b[V],1,1,()=>{b[V]=null}),et(),a=b[o],a?a.p(y,k):(a=b[o]=v[o](y),a.c()),F(a,1),a.m(r,null))},i(y){i||(F(h),F(_),F(a),i=!0)},o(y){Z(h),Z(_),Z(a),i=!1},d(y){y&&(f(e),f(t),f(l),f(s)),d&&d.d(y),h&&h.d(y),_&&_.d(y),b[o].d()}}}function To(n){let e,t;return e=new gc({props:{role:n[16].role,$$slots:{default:[Vd]},$$scope:{ctx:n}}}),e.$on("show",n[63]),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[0]&65536&&(r.role=l[16].role),s[0]&65552|s[2]&67108864&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Vd(n){let e,t,l,s,r,o,a=n[16].name+"",i,d,h;return{c(){e=m("button"),t=m("div"),l=m("img"),r=A(),o=m("div"),i=H(a),this.h()},l(_){e=p(_,"BUTTON",{class:!0});var v=g(e);t=p(v,"DIV",{class:!0});var b=g(t);l=p(b,"IMG",{src:!0,class:!0,alt:!0}),b.forEach(f),r=C(v),o=p(v,"DIV",{class:!0});var w=g(o);i=P(w,a),w.forEach(f),v.forEach(f),this.h()},h(){_n(l.src,s=n[16].profile_image_url)||u(l,"src",s),u(l,"class","max-w-[30px] object-cover rounded-full"),u(l,"alt","User profile"),u(t,"class","self-center mr-3"),u(o,"class","self-center font-medium"),u(e,"class","flex items-center rounded-xl py-2.5 px-2.5 w-full hover:bg-gray-100 dark:hover:bg-gray-900 transition")},m(_,v){M(_,e,v),c(e,t),c(t,l),c(e,r),c(e,o),c(o,i),d||(h=te(e,"click",n[62]),d=!0)},p(_,v){v[0]&65536&&!_n(l.src,s=_[16].profile_image_url)&&u(l,"src",s),v[0]&65536&&a!==(a=_[16].name+"")&&z(i,a)},d(_){_&&f(e),d=!1,h()}}}function Ad(n){var Se,xe,Ze,nt,Q,ve,ge,$e,Oe,Ue,pt,mt,we,He,qe;let e,t,l,s,r,o,a,i,d,h,_,v='<div class="m-auto self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"></path></svg></div>',b,w,y,k,V=`<img crossorigin="anonymous" src="${Ji}/static/favicon.png" class="size-5 -translate-x-1.5 rounded-full" alt="logo"/>`,U,I,E=n[12].t("New Chat")+"",D,$,T,L,N,S,W,q,O,B,Y,J,G,R,j,x,X,K,ee,se,ue,he,me,pe;function de(fe){n[32](fe)}let ke={};n[14]!==void 0&&(ke.show=n[14]),e=new If({props:ke}),lt.push(()=>ht(e,"show",de)),e.$on("change",n[33]);function Fe(fe){n[35](fe)}let Be={onSubmit:n[34]};n[6]!==void 0&&(Be.show=n[6]),s=new xi({props:Be}),lt.push(()=>ht(s,"show",Fe));let be=n[11]&&mo(n);L=new Ic({props:{className:" size-5",strokeWidth:"2"}});let ne=(((Se=n[16])==null?void 0:Se.role)==="admin"||((nt=(Ze=(xe=n[16])==null?void 0:xe.permissions)==null?void 0:Ze.workspace)==null?void 0:nt.models)||((ge=(ve=(Q=n[16])==null?void 0:Q.permissions)==null?void 0:ve.workspace)==null?void 0:ge.knowledge)||((Ue=(Oe=($e=n[16])==null?void 0:$e.permissions)==null?void 0:Oe.workspace)==null?void 0:Ue.prompts)||((we=(mt=(pt=n[16])==null?void 0:pt.permissions)==null?void 0:mt.workspace)==null?void 0:we.tools))&&po(n),ye=n[18]&&_o();function Re(fe){n[40](fe)}let We={placeholder:n[12].t("Search")};n[1]!==void 0&&(We.value=n[1]),O=new Iu({props:We}),lt.push(()=>ht(O,"value",Re)),O.$on("input",n[29]);let Ie=((qe=(He=n[19])==null?void 0:He.features)==null?void 0:qe.enable_channels)&&(n[16].role==="admin"||n[20].length>0)&&!n[1]&&vo(n);j=new or({props:{collapsible:!n[1],className:"px-2 mt-0.5",name:n[12].t("Chats"),onAdd:n[59],onAddLabel:n[12].t("New Folder"),$$slots:{default:[Td]},$$scope:{ctx:n}}}),j.$on("import",n[60]),j.$on("drop",n[61]);let Ae=n[16]!==void 0&&To(n);return{c(){ae(e.$$.fragment),l=A(),ae(s.$$.fragment),o=A(),be&&be.c(),a=A(),i=m("div"),d=m("div"),h=m("div"),_=m("button"),_.innerHTML=v,b=A(),w=m("a"),y=m("div"),k=m("div"),k.innerHTML=V,U=A(),I=m("div"),D=H(E),$=A(),T=m("div"),ae(L.$$.fragment),N=A(),ne&&ne.c(),S=A(),W=m("div"),ye&&ye.c(),q=A(),ae(O.$$.fragment),J=A(),G=m("div"),Ie&&Ie.c(),R=A(),ae(j.$$.fragment),X=A(),K=m("div"),ee=m("div"),Ae&&Ae.c(),this.h()},l(fe){oe(e.$$.fragment,fe),l=C(fe),oe(s.$$.fragment,fe),o=C(fe),be&&be.l(fe),a=C(fe),i=p(fe,"DIV",{id:!0,class:!0,"data-state":!0});var _e=g(i);d=p(_e,"DIV",{class:!0});var Ke=g(d);h=p(Ke,"DIV",{class:!0});var ct=g(h);_=p(ct,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(_)!=="svelte-uwd94y"&&(_.innerHTML=v),b=C(ct),w=p(ct,"A",{id:!0,class:!0,href:!0,draggable:!0});var Ge=g(w);y=p(Ge,"DIV",{class:!0});var De=g(y);k=p(De,"DIV",{class:!0,"data-svelte-h":!0}),Ye(k)!=="svelte-irsu7d"&&(k.innerHTML=V),U=C(De),I=p(De,"DIV",{class:!0});var ze=g(I);D=P(ze,E),ze.forEach(f),De.forEach(f),$=C(Ge),T=p(Ge,"DIV",{});var tt=g(T);oe(L.$$.fragment,tt),tt.forEach(f),Ge.forEach(f),ct.forEach(f),N=C(Ke),ne&&ne.l(Ke),S=C(Ke),W=p(Ke,"DIV",{class:!0});var Le=g(W);ye&&ye.l(Le),q=C(Le),oe(O.$$.fragment,Le),Le.forEach(f),J=C(Ke),G=p(Ke,"DIV",{class:!0});var ft=g(G);Ie&&Ie.l(ft),R=C(ft),oe(j.$$.fragment,ft),ft.forEach(f),X=C(Ke),K=p(Ke,"DIV",{class:!0});var _t=g(K);ee=p(_t,"DIV",{class:!0});var yt=g(ee);Ae&&Ae.l(yt),yt.forEach(f),_t.forEach(f),Ke.forEach(f),_e.forEach(f),this.h()},h(){u(_,"class","cursor-pointer p-[7px] flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-900 transition"),u(k,"class","self-center mx-1.5"),u(I,"class","self-center font-medium text-sm text-gray-850 dark:text-white font-primary"),u(y,"class","flex items-center"),u(w,"id","sidebar-new-chat-button"),u(w,"class","flex justify-between items-center flex-1 rounded-lg px-2 py-1 h-full text-right hover:bg-gray-100 dark:hover:bg-gray-900 transition no-drag-region"),u(w,"href","/"),u(w,"draggable","false"),u(h,"class","px-1.5 flex justify-between space-x-1 text-gray-600 dark:text-gray-400"),u(W,"class",Y="relative "+(n[18]?"opacity-20":"")),u(G,"class",x="relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden "+(n[18]?"opacity-20":"")),u(ee,"class","flex flex-col font-primary"),u(K,"class","px-2"),u(d,"class",se="py-2 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] overflow-x-hidden z-50 "+(n[11]?"":"invisible")),u(i,"id","sidebar"),u(i,"class",ue="h-screen max-h-[100dvh] min-h-screen select-none "+(n[11]?"md:relative w-[260px] max-w-[260px]":"-translate-x-[260px] w-[0px]")+" "+(n[17]?"ml-[4.5rem] md:ml-0 ":"transition-width duration-200 ease-in-out")+" flex-shrink-0 bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm fixed z-50 top-0 left-0 overflow-x-hidden svelte-141e0sl"),u(i,"data-state",n[11])},m(fe,_e){ie(e,fe,_e),M(fe,l,_e),ie(s,fe,_e),M(fe,o,_e),be&&be.m(fe,_e),M(fe,a,_e),M(fe,i,_e),c(i,d),c(d,h),c(h,_),c(h,b),c(h,w),c(w,y),c(y,k),c(y,U),c(y,I),c(I,D),c(w,$),c(w,T),ie(L,T,null),c(d,N),ne&&ne.m(d,null),c(d,S),c(d,W),ye&&ye.m(W,null),c(W,q),ie(O,W,null),c(d,J),c(d,G),Ie&&Ie.m(G,null),c(G,R),ie(j,G,null),c(d,X),c(d,K),c(K,ee),Ae&&Ae.m(ee,null),n[64](i),he=!0,me||(pe=[te(_,"click",n[37]),te(w,"click",n[38])],me=!0)},p(fe,_e){var ze,tt,Le,ft,_t,yt,le,Te,Pe,Ne,Xe,vt,Et,St,It;const Ke={};!t&&_e[0]&16384&&(t=!0,Ke.show=fe[14],dt(()=>t=!1)),e.$set(Ke);const ct={};_e[0]&98368&&(ct.onSubmit=fe[34]),!r&&_e[0]&64&&(r=!0,ct.show=fe[6],dt(()=>r=!1)),s.$set(ct),fe[11]?be?be.p(fe,_e):(be=mo(fe),be.c(),be.m(a.parentNode,a)):be&&(be.d(1),be=null),(!he||_e[0]&4096)&&E!==(E=fe[12].t("New Chat")+"")&&z(D,E),((ze=fe[16])==null?void 0:ze.role)==="admin"||(ft=(Le=(tt=fe[16])==null?void 0:tt.permissions)==null?void 0:Le.workspace)!=null&&ft.models||(le=(yt=(_t=fe[16])==null?void 0:_t.permissions)==null?void 0:yt.workspace)!=null&&le.knowledge||(Ne=(Pe=(Te=fe[16])==null?void 0:Te.permissions)==null?void 0:Pe.workspace)!=null&&Ne.prompts||(Et=(vt=(Xe=fe[16])==null?void 0:Xe.permissions)==null?void 0:vt.workspace)!=null&&Et.tools?ne?ne.p(fe,_e):(ne=po(fe),ne.c(),ne.m(d,S)):ne&&(ne.d(1),ne=null),fe[18]?ye||(ye=_o(),ye.c(),ye.m(W,q)):ye&&(ye.d(1),ye=null);const Ge={};_e[0]&4096&&(Ge.placeholder=fe[12].t("Search")),!B&&_e[0]&2&&(B=!0,Ge.value=fe[1],dt(()=>B=!1)),O.$set(Ge),(!he||_e[0]&262144&&Y!==(Y="relative "+(fe[18]?"opacity-20":"")))&&u(W,"class",Y),(It=(St=fe[19])==null?void 0:St.features)!=null&&It.enable_channels&&(fe[16].role==="admin"||fe[20].length>0)&&!fe[1]?Ie?(Ie.p(fe,_e),_e[0]&1638402&&F(Ie,1)):(Ie=vo(fe),Ie.c(),F(Ie,1),Ie.m(G,R)):Ie&&(Qe(),Z(Ie,1,1,()=>{Ie=null}),et());const De={};_e[0]&2&&(De.collapsible=!fe[1]),_e[0]&4096&&(De.name=fe[12].t("Chats")),_e[0]&4096&&(De.onAddLabel=fe[12].t("New Folder")),_e[0]&6566830|_e[2]&67108864&&(De.$$scope={dirty:_e,ctx:fe}),j.$set(De),(!he||_e[0]&262144&&x!==(x="relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden "+(fe[18]?"opacity-20":"")))&&u(G,"class",x),fe[16]!==void 0?Ae?(Ae.p(fe,_e),_e[0]&65536&&F(Ae,1)):(Ae=To(fe),Ae.c(),F(Ae,1),Ae.m(ee,null)):Ae&&(Qe(),Z(Ae,1,1,()=>{Ae=null}),et()),(!he||_e[0]&2048&&se!==(se="py-2 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] overflow-x-hidden z-50 "+(fe[11]?"":"invisible")))&&u(d,"class",se),(!he||_e[0]&133120&&ue!==(ue="h-screen max-h-[100dvh] min-h-screen select-none "+(fe[11]?"md:relative w-[260px] max-w-[260px]":"-translate-x-[260px] w-[0px]")+" "+(fe[17]?"ml-[4.5rem] md:ml-0 ":"transition-width duration-200 ease-in-out")+" flex-shrink-0 bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm fixed z-50 top-0 left-0 overflow-x-hidden svelte-141e0sl"))&&u(i,"class",ue),(!he||_e[0]&2048)&&u(i,"data-state",fe[11])},i(fe){he||(F(e.$$.fragment,fe),F(s.$$.fragment,fe),F(L.$$.fragment,fe),F(O.$$.fragment,fe),F(Ie),F(j.$$.fragment,fe),F(Ae),he=!0)},o(fe){Z(e.$$.fragment,fe),Z(s.$$.fragment,fe),Z(L.$$.fragment,fe),Z(O.$$.fragment,fe),Z(Ie),Z(j.$$.fragment,fe),Z(Ae),he=!1},d(fe){fe&&(f(l),f(o),f(a),f(i)),ce(e,fe),ce(s,fe),be&&be.d(fe),ce(L),ne&&ne.d(),ye&&ye.d(),ce(O),Ie&&Ie.d(),ce(j),Ae&&Ae.d(),n[64](null),me=!1,rt(pe)}}}function Cd(n,e,t){let l,s,r,o,a,i,d,h,_,v,b,w,y,k;Ee(n,gn,le=>t(10,l=le)),Ee(n,Lt,le=>t(11,s=le)),Ee(n,sl,le=>t(13,o=le)),Ee(n,nl,le=>t(69,a=le)),Ee(n,Rn,le=>t(14,i=le)),Ee(n,Zi,le=>t(15,d=le)),Ee(n,Tl,le=>t(16,h=le)),Ee(n,Gi,le=>t(17,_=le)),Ee(n,hn,le=>t(18,v=le)),Ee(n,es,le=>t(19,b=le)),Ee(n,Sa,le=>t(20,w=le)),Ee(n,bn,le=>t(21,y=le)),Ee(n,vs,le=>t(22,k=le));const V=wt("i18n");Ee(n,V,le=>t(12,r=le));let U,I="",E=!1,D=null,$=!1,T=!0,L=!1,N=!1,S=!1,W={};const q=async()=>{const le=await hf(localStorage.token).catch(Te=>(Me.error(`${Te}`),[]));t(9,W={});for(const Te of le)t(9,W[Te.id]={...W[Te.id]||{},...Te},W);for(const Te of le)Te.parent_id&&(W[Te.parent_id]||t(9,W[Te.parent_id]={},W),t(9,W[Te.parent_id].childrenIds=W[Te.parent_id].childrenIds?[...W[Te.parent_id].childrenIds,Te.id]:[Te.id],W),W[Te.parent_id].childrenIds.sort((Pe,Ne)=>W[Ne].updated_at-W[Pe].updated_at))},O=async(le="Untitled")=>{if(le===""){Me.error(r.t("Folder name cannot be empty."));return}const Te=Object.values(W).filter(Xe=>Xe.parent_id===null);if(Te.find(Xe=>Xe.name.toLowerCase()===le.toLowerCase())){let Xe=1;for(;Te.find(vt=>vt.name.toLowerCase()===`${le} ${Xe}`.toLowerCase());)Xe++;le=`${le} ${Xe}`}const Pe=tc();t(9,W={...W,tempId:{id:Pe,name:le,created_at:Date.now(),updated_at:Date.now()}}),await df(localStorage.token,le).catch(Xe=>(Me.error(`${Xe}`),null))&&await q()},B=async()=>{await Sa.set(await Pc(localStorage.token))},Y=async()=>{bs.set(await wn(localStorage.token)),bn.set(await Xn(localStorage.token)),q(),nl.set(1),t(8,S=!1),I?await sl.set(await zn(localStorage.token,I,a)):await sl.set(await $l(localStorage.token,a)),vs.set(!0)},J=async()=>{t(7,N=!0),nl.set(a+1);let le=[];I?le=await zn(localStorage.token,I,a):le=await $l(localStorage.token,a),t(8,S=le.length===0),await sl.set([...o||[],...le]),t(7,N=!1)};let G;const R=async()=>{if(console.log("search",I),sl.set(null),G&&clearTimeout(G),I===""){await Y();return}else G=setTimeout(async()=>{t(8,S=!1),nl.set(1),await sl.set(await zn(localStorage.token,I)),o.length===0&&bs.set(await wn(localStorage.token))},1e3)},j=async(le,Te=!1,Pe=null)=>{console.log("importChatHandler",le,Te,Pe);for(const Ne of le)console.log(Ne),Ne.chat&&await pn(localStorage.token,Ne.chat,(Ne==null?void 0:Ne.meta)??{},Te,Pe);Y()},x=async le=>{console.log(le);for(const Te of le){const Pe=new FileReader;Pe.onload=async Ne=>{const Xe=Ne.target.result;try{const vt=JSON.parse(Xe);j(vt)}catch{Me.error(r.t("Invalid file format."))}},Pe.readAsText(Te)}},X=async(le,Te,Pe)=>{console.log(le,Te,Pe),(le==="delete"||le==="add")&&Y()},K=le=>{var Te,Pe;le.preventDefault(),(Pe=(Te=le.dataTransfer)==null?void 0:Te.types)!=null&&Pe.includes("Files")},ee=()=>{},se=async le=>{var Te,Pe;if(le.preventDefault(),console.log(le),(Te=le.dataTransfer)!=null&&Te.files){const Ne=Array.from((Pe=le.dataTransfer)==null?void 0:Pe.files);Ne&&Ne.length>0&&(console.log(Ne),x(Ne))}};let ue,he;function me(){const le=window.innerWidth,Te=Math.abs(he.screenX-ue.screenX);ue.clientX<40&&Te>=le/8&&(he.screenX<ue.screenX&&Lt.set(!1),he.screenX>ue.screenX&&Lt.set(!0))}const pe=le=>{ue=le.changedTouches[0],console.log(ue.clientX)},de=le=>{he=le.changedTouches[0],me()},ke=le=>{le.key==="Shift"&&t(2,E=!0)},Fe=le=>{le.key==="Shift"&&t(2,E=!1)},Be=()=>{},be=()=>{t(2,E=!1),t(3,D=null)};Ct(async()=>{t(5,T=localStorage!=null&&localStorage.showPinnedChat?localStorage.showPinnedChat==="true":!0),gn.subscribe(Te=>{if(s&&Te&&Lt.set(!1),s&&!Te){const Pe=document.getElementsByTagName("nav")[0];Pe&&(Pe.style["-webkit-app-region"]="drag")}!s&&!Te&&Lt.set(!0)}),Lt.set(l?!1:localStorage.sidebar==="true"),Lt.subscribe(Te=>{localStorage.sidebar=Te;const Pe=document.getElementsByTagName("nav")[0];Pe&&(l&&Te?Pe.style["-webkit-app-region"]="no-drag":Pe.style["-webkit-app-region"]="drag")}),await B(),await Y(),window.addEventListener("keydown",ke),window.addEventListener("keyup",Fe),window.addEventListener("touchstart",pe),window.addEventListener("touchend",de),window.addEventListener("focus",Be),window.addEventListener("blur",be);const le=document.getElementById("sidebar");le==null||le.addEventListener("dragover",K),le==null||le.addEventListener("drop",se),le==null||le.addEventListener("dragleave",ee)}),Xl(()=>{window.removeEventListener("keydown",ke),window.removeEventListener("keyup",Fe),window.removeEventListener("touchstart",pe),window.removeEventListener("touchend",de),window.removeEventListener("focus",Be),window.removeEventListener("blur",be);const le=document.getElementById("sidebar");le==null||le.removeEventListener("dragover",K),le==null||le.removeEventListener("drop",se),le==null||le.removeEventListener("dragleave",ee)});function ne(le){i=le,Rn.set(i)}const ye=async()=>{await Y()},Re=async({name:le,access_control:Te})=>{await jc(localStorage.token,{name:le,access_control:Te}).catch(Ne=>(Me.error(`${Ne}`),null))&&(d.emit("join-channels",{auth:{token:h.token}}),await B(),t(6,L=!1))};function We(le){L=le,t(6,L)}const Ie=()=>{Lt.set(!s)},Ae=()=>{Lt.set(!s)},Se=async()=>{t(3,D=null),await _l("/");const le=document.getElementById("new-chat-button");setTimeout(()=>{le==null||le.click(),l&&Lt.set(!1)},0)},xe=()=>{t(3,D=null),Gn.set(""),l&&Lt.set(!1)};function Ze(le){I=le,t(1,I)}const nt=async()=>{await B()},Q=async()=>{h.role==="admin"&&(await Dl(),setTimeout(()=>{t(6,L=!0)},0))},ve=le=>{t(3,D=le.id)},ge=()=>{t(3,D=null)},$e=async()=>{Y()},Oe=(le,Te)=>{const{type:Pe,name:Ne}=Te.detail;X(Pe,Ne,le.id)};function Ue(le){T=le,t(5,T)}const pt=le=>{localStorage.setItem("showPinnedChat",le.detail),console.log(le.detail)},mt=le=>{j(le.detail,!0)},we=async le=>{const{type:Te,id:Pe,item:Ne}=le.detail;if(Te==="chat"){let Xe=await Sl(localStorage.token,Pe).catch(vt=>null);!Xe&&Ne&&(Xe=await pn(localStorage.token,Ne.chat,(Ne==null?void 0:Ne.meta)??{})),Xe&&(console.log(Xe),Xe.folder_id&&await Qn(localStorage.token,Xe.id,null).catch(vt=>(Me.error(`${vt}`),null)),Xe.pinned||await qn(localStorage.token,Xe.id),Y())}},He=le=>{const{folderId:Te,items:Pe}=le.detail;j(Pe,!1,Te)},qe=async le=>{Y()},fe=async()=>{Y()},_e=le=>{t(3,D=le.id)},Ke=()=>{t(3,D=null)},ct=async()=>{Y()},Ge=(le,Te)=>{const{type:Pe,name:Ne}=Te.detail;X(Pe,Ne,le.id)},De=le=>{N||J()},ze=()=>{O()},tt=le=>{j(le.detail)},Le=async le=>{const{type:Te,id:Pe,item:Ne}=le.detail;if(Te==="chat"){let Xe=await Sl(localStorage.token,Pe).catch(vt=>null);!Xe&&Ne&&(Xe=await pn(localStorage.token,Ne.chat,(Ne==null?void 0:Ne.meta)??{})),Xe&&(console.log(Xe),Xe.folder_id&&await Qn(localStorage.token,Xe.id,null).catch(vt=>(Me.error(`${vt}`),null)),Xe.pinned&&await qn(localStorage.token,Xe.id),Y())}else if(Te==="folder"){if(W[Pe].parent_id===null)return;await Hi(localStorage.token,Pe,null).catch(vt=>(Me.error(`${vt}`),null))&&await q()}},ft=()=>{t(4,$=!$)},_t=le=>{le.detail==="archived-chat"&&Rn.set(!0)};function yt(le){lt[le?"unshift":"push"](()=>{U=le,t(0,U)})}return[U,I,E,D,$,T,L,N,S,W,l,s,r,o,i,d,h,_,v,b,w,y,k,V,q,O,B,Y,J,R,j,X,ne,ye,Re,We,Ie,Ae,Se,xe,Ze,nt,Q,ve,ge,$e,Oe,Ue,pt,mt,we,He,qe,fe,_e,Ke,ct,Ge,De,ze,tt,Le,ft,_t,yt]}class Sd extends ot{constructor(e){super(),it(this,e,Cd,Ad,at,{},null,[-1,-1,-1])}}function Vo(n){let e,t,l,s=n[4].t("Current Password")+"",r,o,a,i,d,h,_,v,b=n[4].t("New Password")+"",w,y,k,V,U,I,E,D,$=n[4].t("Confirm Password")+"",T,L,N,S,W,q,O,B,Y=n[4].t("Update password")+"",J,G,R;return{c(){e=m("div"),t=m("div"),l=m("div"),r=H(s),o=A(),a=m("div"),i=m("input"),h=A(),_=m("div"),v=m("div"),w=H(b),y=A(),k=m("div"),V=m("input"),I=A(),E=m("div"),D=m("div"),T=H($),L=A(),N=m("div"),S=m("input"),q=A(),O=m("div"),B=m("button"),J=H(Y),this.h()},l(j){e=p(j,"DIV",{class:!0});var x=g(e);t=p(x,"DIV",{class:!0});var X=g(t);l=p(X,"DIV",{class:!0});var K=g(l);r=P(K,s),K.forEach(f),o=C(X),a=p(X,"DIV",{class:!0});var ee=g(a);i=p(ee,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),ee.forEach(f),X.forEach(f),h=C(x),_=p(x,"DIV",{class:!0});var se=g(_);v=p(se,"DIV",{class:!0});var ue=g(v);w=P(ue,b),ue.forEach(f),y=C(se),k=p(se,"DIV",{class:!0});var he=g(k);V=p(he,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),he.forEach(f),se.forEach(f),I=C(x),E=p(x,"DIV",{class:!0});var me=g(E);D=p(me,"DIV",{class:!0});var pe=g(D);T=P(pe,$),pe.forEach(f),L=C(me),N=p(me,"DIV",{class:!0});var de=g(N);S=p(de,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),de.forEach(f),me.forEach(f),x.forEach(f),q=C(j),O=p(j,"DIV",{class:!0});var ke=g(O);B=p(ke,"BUTTON",{class:!0});var Fe=g(B);J=P(Fe,Y),Fe.forEach(f),ke.forEach(f),this.h()},h(){u(l,"class","mb-1 text-xs text-gray-500"),u(i,"class","w-full bg-transparent dark:text-gray-300 outline-none placeholder:opacity-30"),u(i,"type","password"),u(i,"placeholder",d=n[4].t("Enter your current password")),u(i,"autocomplete","current-password"),i.required=!0,u(a,"class","flex-1"),u(t,"class","flex flex-col w-full"),u(v,"class","mb-1 text-xs text-gray-500"),u(V,"class","w-full bg-transparent text-sm dark:text-gray-300 outline-none placeholder:opacity-30"),u(V,"type","password"),u(V,"placeholder",U=n[4].t("Enter your new password")),u(V,"autocomplete","new-password"),V.required=!0,u(k,"class","flex-1"),u(_,"class","flex flex-col w-full"),u(D,"class","mb-1 text-xs text-gray-500"),u(S,"class","w-full bg-transparent text-sm dark:text-gray-300 outline-none placeholder:opacity-30"),u(S,"type","password"),u(S,"placeholder",W=n[4].t("Confirm your new password")),u(S,"autocomplete","off"),S.required=!0,u(N,"class","flex-1"),u(E,"class","flex flex-col w-full"),u(e,"class","py-2.5 space-y-1.5"),u(B,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(O,"class","mt-3 flex justify-end")},m(j,x){M(j,e,x),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),c(a,i),je(i,n[1]),c(e,h),c(e,_),c(_,v),c(v,w),c(_,y),c(_,k),c(k,V),je(V,n[2]),c(e,I),c(e,E),c(E,D),c(D,T),c(E,L),c(E,N),c(N,S),je(S,n[3]),M(j,q,x),M(j,O,x),c(O,B),c(B,J),G||(R=[te(i,"input",n[8]),te(V,"input",n[9]),te(S,"input",n[10])],G=!0)},p(j,x){x&16&&s!==(s=j[4].t("Current Password")+"")&&z(r,s),x&16&&d!==(d=j[4].t("Enter your current password"))&&u(i,"placeholder",d),x&2&&i.value!==j[1]&&je(i,j[1]),x&16&&b!==(b=j[4].t("New Password")+"")&&z(w,b),x&16&&U!==(U=j[4].t("Enter your new password"))&&u(V,"placeholder",U),x&4&&V.value!==j[2]&&je(V,j[2]),x&16&&$!==($=j[4].t("Confirm Password")+"")&&z(T,$),x&16&&W!==(W=j[4].t("Confirm your new password"))&&u(S,"placeholder",W),x&8&&S.value!==j[3]&&je(S,j[3]),x&16&&Y!==(Y=j[4].t("Update password")+"")&&z(J,Y)},d(j){j&&(f(e),f(q),f(O)),G=!1,rt(R)}}}function $d(n){let e,t,l,s=n[4].t("Change Password")+"",r,o,a,i=(n[0]?n[4].t("Hide"):n[4].t("Show"))+"",d,h,_,v,b=n[0]&&Vo(n);return{c(){e=m("form"),t=m("div"),l=m("div"),r=H(s),o=A(),a=m("button"),d=H(i),h=A(),b&&b.c(),this.h()},l(w){e=p(w,"FORM",{class:!0});var y=g(e);t=p(y,"DIV",{class:!0});var k=g(t);l=p(k,"DIV",{class:!0});var V=g(l);r=P(V,s),V.forEach(f),o=C(k),a=p(k,"BUTTON",{class:!0,type:!0});var U=g(a);d=P(U,i),U.forEach(f),k.forEach(f),h=C(y),b&&b.l(y),y.forEach(f),this.h()},h(){u(l,"class","font-medium"),u(a,"class","text-xs font-medium text-gray-500"),u(a,"type","button"),u(t,"class","flex justify-between items-center text-sm"),u(e,"class","flex flex-col text-sm")},m(w,y){M(w,e,y),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),c(a,d),c(e,h),b&&b.m(e,null),_||(v=[te(a,"click",n[7]),te(e,"submit",Ol(n[11]))],_=!0)},p(w,[y]){y&16&&s!==(s=w[4].t("Change Password")+"")&&z(r,s),y&17&&i!==(i=(w[0]?w[4].t("Hide"):w[4].t("Show"))+"")&&z(d,i),w[0]?b?b.p(w,y):(b=Vo(w),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},i:Ce,o:Ce,d(w){w&&f(e),b&&b.d(),_=!1,rt(v)}}}function Nd(n,e,t){let l;const s=wt("i18n");Ee(n,s,y=>t(4,l=y));let r=!1,o="",a="",i="";const d=async()=>{a===i?(await zc(localStorage.token,o,a).catch(k=>(Me.error(`${k}`),null))&&Me.success(l.t("Successfully updated.")),t(1,o=""),t(2,a=""),t(3,i="")):(Me.error("The passwords you entered don't quite match. Please double-check and try again."),t(2,a=""),t(3,i=""))},h=()=>{t(0,r=!r)};function _(){o=this.value,t(1,o)}function v(){a=this.value,t(2,a)}function b(){i=this.value,t(3,i)}return[r,o,a,i,l,s,d,h,_,v,b,()=>{d()}]}class Od extends ot{constructor(e){super(),it(this,e,Nd,$d,at,{})}}function Ao(n){var E,D;let e,t,l,s,r=n[10].t("JWT Token")+"",o,a,i,d,h,_,v,b,w,y;d=new yi({props:{value:localStorage.token,readOnly:!0}});function k($,T){return $[5]?Md:Ld}let V=k(n),U=V(n),I=(((D=(E=n[11])==null?void 0:E.features)==null?void 0:D.enable_api_key)??!0)&&Co(n);return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("div"),o=H(r),a=A(),i=m("div"),ae(d.$$.fragment),h=A(),_=m("button"),U.c(),v=A(),I&&I.c(),this.h()},l($){e=p($,"DIV",{class:!0});var T=g(e);t=p(T,"DIV",{class:!0});var L=g(t);l=p(L,"DIV",{class:!0});var N=g(l);s=p(N,"DIV",{class:!0});var S=g(s);o=P(S,r),S.forEach(f),N.forEach(f),a=C(L),i=p(L,"DIV",{class:!0});var W=g(i);oe(d.$$.fragment,W),h=C(W),_=p(W,"BUTTON",{class:!0});var q=g(_);U.l(q),q.forEach(f),W.forEach(f),L.forEach(f),v=C(T),I&&I.l(T),T.forEach(f),this.h()},h(){u(s,"class","self-center text-xs font-medium"),u(l,"class","flex justify-between w-full"),u(_,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg"),u(i,"class","flex mt-2"),u(t,"class","justify-between w-full"),u(e,"class","flex flex-col gap-4")},m($,T){M($,e,T),c(e,t),c(t,l),c(l,s),c(s,o),c(t,a),c(t,i),ie(d,i,null),c(i,h),c(i,_),U.m(_,null),c(e,v),I&&I.m(e,null),b=!0,w||(y=te(_,"click",n[25]),w=!0)},p($,T){var L,N;(!b||T[0]&1024)&&r!==(r=$[10].t("JWT Token")+"")&&z(o,r),V!==(V=k($))&&(U.d(1),U=V($),U&&(U.c(),U.m(_,null))),((N=(L=$[11])==null?void 0:L.features)==null?void 0:N.enable_api_key)??!0?I?(I.p($,T),T[0]&2048&&F(I,1)):(I=Co($),I.c(),F(I,1),I.m(e,null)):I&&(Qe(),Z(I,1,1,()=>{I=null}),et())},i($){b||(F(d.$$.fragment,$),F(I),b=!0)},o($){Z(d.$$.fragment,$),Z(I),b=!1},d($){$&&f(e),ce(d),U.d(),I&&I.d(),w=!1,y()}}}function Ld(n){let e,t,l;return{c(){e=gt("svg"),t=gt("path"),l=gt("path"),this.h()},l(s){e=bt(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=g(e);t=bt(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(t).forEach(f),l=bt(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(l).forEach(f),r.forEach(f),this.h()},h(){u(t,"fill-rule","evenodd"),u(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),u(t,"clip-rule","evenodd"),u(l,"fill-rule","evenodd"),u(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),u(l,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 16 16"),u(e,"fill","currentColor"),u(e,"class","w-4 h-4")},m(s,r){M(s,e,r),c(e,t),c(e,l)},d(s){s&&f(e)}}}function Md(n){let e,t;return{c(){e=gt("svg"),t=gt("path"),this.h()},l(l){e=bt(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=g(e);t=bt(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"fill-rule","evenodd"),u(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),u(t,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 20 20"),u(e,"fill","currentColor"),u(e,"class","w-4 h-4")},m(l,s){M(l,e,s),c(e,t)},d(l){l&&f(e)}}}function Co(n){let e,t,l,s=n[10].t("API Key")+"",r,o,a,i,d,h;const _=[Ud,Bd],v=[];function b(w,y){return w[6]?0:1}return i=b(n),d=v[i]=_[i](n),{c(){e=m("div"),t=m("div"),l=m("div"),r=H(s),o=A(),a=m("div"),d.c(),this.h()},l(w){e=p(w,"DIV",{class:!0});var y=g(e);t=p(y,"DIV",{class:!0});var k=g(t);l=p(k,"DIV",{class:!0});var V=g(l);r=P(V,s),V.forEach(f),k.forEach(f),o=C(y),a=p(y,"DIV",{class:!0});var U=g(a);d.l(U),U.forEach(f),y.forEach(f),this.h()},h(){u(l,"class","self-center text-xs font-medium"),u(t,"class","flex justify-between w-full"),u(a,"class","flex mt-2"),u(e,"class","justify-between w-full")},m(w,y){M(w,e,y),c(e,t),c(t,l),c(l,r),c(e,o),c(e,a),v[i].m(a,null),h=!0},p(w,y){(!h||y[0]&1024)&&s!==(s=w[10].t("API Key")+"")&&z(r,s);let k=i;i=b(w),i===k?v[i].p(w,y):(Qe(),Z(v[k],1,1,()=>{v[k]=null}),et(),d=v[i],d?d.p(w,y):(d=v[i]=_[i](w),d.c()),F(d,1),d.m(a,null))},i(w){h||(F(d),h=!0)},o(w){Z(d),h=!1},d(w){w&&f(e),v[i].d()}}}function Bd(n){let e,t,l,s=n[10].t("Create new secret key")+"",r,o,a,i;return t=new Li({props:{strokeWidth:"2",className:" size-3.5"}}),{c(){e=m("button"),ae(t.$$.fragment),l=A(),r=H(s),this.h()},l(d){e=p(d,"BUTTON",{class:!0});var h=g(e);oe(t.$$.fragment,h),l=C(h),r=P(h,s),h.forEach(f),this.h()},h(){u(e,"class","flex gap-1.5 items-center font-medium px-3.5 py-1.5 rounded-lg bg-gray-100/70 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-850 transition")},m(d,h){M(d,e,h),ie(t,e,null),c(e,l),c(e,r),o=!0,a||(i=te(e,"click",n[28]),a=!0)},p(d,h){(!o||h[0]&1024)&&s!==(s=d[10].t("Create new secret key")+"")&&z(r,s)},i(d){o||(F(t.$$.fragment,d),o=!0)},o(d){Z(t.$$.fragment,d),o=!1},d(d){d&&f(e),ce(t),a=!1,i()}}}function Ud(n){let e,t,l,s,r,o,a,i;e=new yi({props:{value:n[6],readOnly:!0}});function d(v,b){return v[7]?Pd:Hd}let h=d(n),_=h(n);return r=new Ot({props:{content:n[10].t("Create new key"),$$slots:{default:[jd]},$$scope:{ctx:n}}}),{c(){ae(e.$$.fragment),t=A(),l=m("button"),_.c(),s=A(),ae(r.$$.fragment),this.h()},l(v){oe(e.$$.fragment,v),t=C(v),l=p(v,"BUTTON",{class:!0});var b=g(l);_.l(b),b.forEach(f),s=C(v),oe(r.$$.fragment,v),this.h()},h(){u(l,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg")},m(v,b){ie(e,v,b),M(v,t,b),M(v,l,b),_.m(l,null),M(v,s,b),ie(r,v,b),o=!0,a||(i=te(l,"click",n[26]),a=!0)},p(v,b){const w={};b[0]&64&&(w.value=v[6]),e.$set(w),h!==(h=d(v))&&(_.d(1),_=h(v),_&&(_.c(),_.m(l,null)));const y={};b[0]&1024&&(y.content=v[10].t("Create new key")),b[1]&1&&(y.$$scope={dirty:b,ctx:v}),r.$set(y)},i(v){o||(F(e.$$.fragment,v),F(r.$$.fragment,v),o=!0)},o(v){Z(e.$$.fragment,v),Z(r.$$.fragment,v),o=!1},d(v){v&&(f(t),f(l),f(s)),ce(e,v),_.d(),ce(r,v),a=!1,i()}}}function Hd(n){let e,t,l;return{c(){e=gt("svg"),t=gt("path"),l=gt("path"),this.h()},l(s){e=bt(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=g(e);t=bt(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(t).forEach(f),l=bt(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(l).forEach(f),r.forEach(f),this.h()},h(){u(t,"fill-rule","evenodd"),u(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),u(t,"clip-rule","evenodd"),u(l,"fill-rule","evenodd"),u(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),u(l,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 16 16"),u(e,"fill","currentColor"),u(e,"class","w-4 h-4")},m(s,r){M(s,e,r),c(e,t),c(e,l)},d(s){s&&f(e)}}}function Pd(n){let e,t;return{c(){e=gt("svg"),t=gt("path"),this.h()},l(l){e=bt(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=g(e);t=bt(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"fill-rule","evenodd"),u(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),u(t,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 20 20"),u(e,"fill","currentColor"),u(e,"class","w-4 h-4")},m(l,s){M(l,e,s),c(e,t)},d(l){l&&f(e)}}}function jd(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>',l,s;return{c(){e=m("button"),e.innerHTML=t,this.h()},l(r){e=p(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(e)!=="svelte-nx3com"&&(e.innerHTML=t),this.h()},h(){u(e,"class","px-1.5 py-1 dark:hover:bg-gray-850transition rounded-lg")},m(r,o){M(r,e,o),l||(s=te(e,"click",n[27]),l=!0)},p:Ce,d(r){r&&f(e),l=!1,s()}}}function Rd(n){let e,t,l,s,r,o,a,i,d,h,_,v,b,w='<div class="my-auto text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',y,k,V,U=n[10].t("Profile Image")+"",I,E,D,$,T=n[10].t("Use Initials")+"",L,N,S,W=n[10].t("Use Gravatar")+"",q,O,B,Y=n[10].t("Remove")+"",J,G,R,j,x,X=n[10].t("Name")+"",K,ee,se,ue,he,me,pe,de,ke=n[10].t("Notification Webhook")+"",Fe,Be,be,ne,ye,Re,We,Ie,Ae,Se,xe,Ze,nt,Q=n[10].t("API keys")+"",ve,ge,$e,Oe=(n[4]?n[10].t("Hide"):n[10].t("Show"))+"",Ue,pt,mt,we,He,qe=n[10].t("Save")+"",fe,_e,Ke,ct;Ie=new Od({});let Ge=n[4]&&Ao(n);return{c(){e=m("div"),t=m("div"),l=m("input"),s=A(),r=m("div"),o=m("div"),a=m("div"),i=m("div"),d=m("button"),h=m("img"),v=A(),b=m("div"),b.innerHTML=w,y=A(),k=m("div"),V=m("div"),I=H(U),E=A(),D=m("div"),$=m("button"),L=H(T),N=A(),S=m("button"),q=H(W),O=A(),B=m("button"),J=H(Y),G=A(),R=m("div"),j=m("div"),x=m("div"),K=H(X),ee=A(),se=m("div"),ue=m("input"),he=A(),me=m("div"),pe=m("div"),de=m("div"),Fe=H(ke),Be=A(),be=m("div"),ne=m("input"),Re=A(),We=m("div"),ae(Ie.$$.fragment),Ae=A(),Se=m("hr"),xe=A(),Ze=m("div"),nt=m("div"),ve=H(Q),ge=A(),$e=m("button"),Ue=H(Oe),pt=A(),Ge&&Ge.c(),mt=A(),we=m("div"),He=m("button"),fe=H(qe),this.h()},l(De){e=p(De,"DIV",{class:!0});var ze=g(e);t=p(ze,"DIV",{class:!0});var tt=g(t);l=p(tt,"INPUT",{id:!0,type:!0,accept:!0}),s=C(tt),r=p(tt,"DIV",{class:!0});var Le=g(r);o=p(Le,"DIV",{class:!0});var ft=g(o);a=p(ft,"DIV",{class:!0});var _t=g(a);i=p(_t,"DIV",{class:!0});var yt=g(i);d=p(yt,"BUTTON",{class:!0,type:!0});var le=g(d);h=p(le,"IMG",{src:!0,alt:!0,class:!0}),v=C(le),b=p(le,"DIV",{class:!0,"data-svelte-h":!0}),Ye(b)!=="svelte-11ivb2j"&&(b.innerHTML=w),le.forEach(f),yt.forEach(f),_t.forEach(f),y=C(ft),k=p(ft,"DIV",{class:!0});var Te=g(k);V=p(Te,"DIV",{class:!0});var Pe=g(V);I=P(Pe,U),Pe.forEach(f),E=C(Te),D=p(Te,"DIV",{});var Ne=g(D);$=p(Ne,"BUTTON",{class:!0});var Xe=g($);L=P(Xe,T),Xe.forEach(f),N=C(Ne),S=p(Ne,"BUTTON",{class:!0});var vt=g(S);q=P(vt,W),vt.forEach(f),O=C(Ne),B=p(Ne,"BUTTON",{class:!0});var Et=g(B);J=P(Et,Y),Et.forEach(f),Ne.forEach(f),Te.forEach(f),ft.forEach(f),G=C(Le),R=p(Le,"DIV",{class:!0});var St=g(R);j=p(St,"DIV",{class:!0});var It=g(j);x=p(It,"DIV",{class:!0});var Vl=g(x);K=P(Vl,X),Vl.forEach(f),ee=C(It),se=p(It,"DIV",{class:!0});var Ml=g(se);ue=p(Ml,"INPUT",{class:!0,type:!0}),Ml.forEach(f),It.forEach(f),St.forEach(f),he=C(Le),me=p(Le,"DIV",{class:!0});var Mt=g(me);pe=p(Mt,"DIV",{class:!0});var vl=g(pe);de=p(vl,"DIV",{class:!0});var gl=g(de);Fe=P(gl,ke),gl.forEach(f),Be=C(vl),be=p(vl,"DIV",{class:!0});var Pt=g(be);ne=p(Pt,"INPUT",{class:!0,type:!0,placeholder:!0}),Pt.forEach(f),vl.forEach(f),Mt.forEach(f),Le.forEach(f),Re=C(tt),We=p(tt,"DIV",{class:!0});var il=g(We);oe(Ie.$$.fragment,il),il.forEach(f),Ae=C(tt),Se=p(tt,"HR",{class:!0}),xe=C(tt),Ze=p(tt,"DIV",{class:!0});var rl=g(Ze);nt=p(rl,"DIV",{class:!0});var Al=g(nt);ve=P(Al,Q),Al.forEach(f),ge=C(rl),$e=p(rl,"BUTTON",{class:!0,type:!0});var Bl=g($e);Ue=P(Bl,Oe),Bl.forEach(f),rl.forEach(f),pt=C(tt),Ge&&Ge.l(tt),tt.forEach(f),mt=C(ze),we=p(ze,"DIV",{class:!0});var Bt=g(we);He=p(Bt,"BUTTON",{class:!0});var Ul=g(He);fe=P(Ul,qe),Ul.forEach(f),Bt.forEach(f),ze.forEach(f),this.h()},h(){u(l,"id","profile-image-input"),u(l,"type","file"),l.hidden=!0,u(l,"accept","image/*"),_n(h.src,_=n[1]!==""?n[1]:gs(n[2]))||u(h,"src",_),u(h,"alt","profile"),u(h,"class","rounded-full size-16 object-cover"),u(b,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),u(d,"class","relative rounded-full dark:bg-gray-700"),u(d,"type","button"),u(i,"class","self-center mt-2"),u(a,"class","flex flex-col"),u(V,"class","mb-0.5 text-sm font-medium"),u($,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),u(S,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),u(B,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg px-2 py-1"),u(k,"class","flex-1 flex flex-col self-center gap-0.5"),u(o,"class","flex space-x-5"),u(x,"class","mb-1 text-xs font-medium"),u(ue,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),u(ue,"type","text"),ue.required=!0,u(se,"class","flex-1"),u(j,"class","flex flex-col w-full"),u(R,"class","pt-0.5"),u(de,"class","mb-1 text-xs font-medium"),u(ne,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),u(ne,"type","url"),u(ne,"placeholder",ye=n[10].t("Enter your webhook URL")),ne.required=!0,u(be,"class","flex-1"),u(pe,"class","flex flex-col w-full"),u(me,"class","pt-2"),u(r,"class","space-y-1"),u(We,"class","py-0.5"),u(Se,"class","dark:border-gray-850 my-4"),u(nt,"class","font-medium"),u($e,"class","text-xs font-medium text-gray-500"),u($e,"type","button"),u(Ze,"class","flex justify-between items-center text-sm"),u(t,"class","space-y-3 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(He,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(we,"class","flex justify-end pt-3 text-sm font-medium"),u(e,"class","flex flex-col h-full justify-between text-sm")},m(De,ze){M(De,e,ze),c(e,t),c(t,l),n[16](l),c(t,s),c(t,r),c(r,o),c(o,a),c(a,i),c(i,d),c(d,h),c(d,v),c(d,b),c(o,y),c(o,k),c(k,V),c(V,I),c(k,E),c(k,D),c(D,$),c($,L),c(D,N),c(D,S),c(S,q),c(D,O),c(D,B),c(B,J),c(r,G),c(r,R),c(R,j),c(j,x),c(x,K),c(j,ee),c(j,se),c(se,ue),je(ue,n[2]),c(r,he),c(r,me),c(me,pe),c(pe,de),c(de,Fe),c(pe,Be),c(pe,be),c(be,ne),je(ne,n[3]),c(t,Re),c(t,We),ie(Ie,We,null),c(t,Ae),c(t,Se),c(t,xe),c(t,Ze),c(Ze,nt),c(nt,ve),c(Ze,ge),c(Ze,$e),c($e,Ue),c(t,pt),Ge&&Ge.m(t,null),c(e,mt),c(e,we),c(we,He),c(He,fe),_e=!0,Ke||(ct=[te(l,"change",n[17]),te(d,"click",n[18]),te($,"click",n[19]),te(S,"click",n[20]),te(B,"click",n[21]),te(ue,"input",n[22]),te(ne,"input",n[23]),te($e,"click",n[24]),te(He,"click",n[29])],Ke=!0)},p(De,ze){(!_e||ze[0]&6&&!_n(h.src,_=De[1]!==""?De[1]:gs(De[2])))&&u(h,"src",_),(!_e||ze[0]&1024)&&U!==(U=De[10].t("Profile Image")+"")&&z(I,U),(!_e||ze[0]&1024)&&T!==(T=De[10].t("Use Initials")+"")&&z(L,T),(!_e||ze[0]&1024)&&W!==(W=De[10].t("Use Gravatar")+"")&&z(q,W),(!_e||ze[0]&1024)&&Y!==(Y=De[10].t("Remove")+"")&&z(J,Y),(!_e||ze[0]&1024)&&X!==(X=De[10].t("Name")+"")&&z(K,X),ze[0]&4&&ue.value!==De[2]&&je(ue,De[2]),(!_e||ze[0]&1024)&&ke!==(ke=De[10].t("Notification Webhook")+"")&&z(Fe,ke),(!_e||ze[0]&1024&&ye!==(ye=De[10].t("Enter your webhook URL")))&&u(ne,"placeholder",ye),ze[0]&8&&ne.value!==De[3]&&je(ne,De[3]),(!_e||ze[0]&1024)&&Q!==(Q=De[10].t("API keys")+"")&&z(ve,Q),(!_e||ze[0]&1040)&&Oe!==(Oe=(De[4]?De[10].t("Hide"):De[10].t("Show"))+"")&&z(Ue,Oe),De[4]?Ge?(Ge.p(De,ze),ze[0]&16&&F(Ge,1)):(Ge=Ao(De),Ge.c(),F(Ge,1),Ge.m(t,null)):Ge&&(Qe(),Z(Ge,1,1,()=>{Ge=null}),et()),(!_e||ze[0]&1024)&&qe!==(qe=De[10].t("Save")+"")&&z(fe,qe)},i(De){_e||(F(Ie.$$.fragment,De),F(Ge),_e=!0)},o(De){Z(Ie.$$.fragment,De),Z(Ge),_e=!1},d(De){De&&f(e),n[16](null),ce(Ie),Ge&&Ge.d(),Ke=!1,rt(ct)}}}function xd(n,e,t){let l,s,r,o;Ee(n,Ht,R=>t(30,l=R)),Ee(n,Tl,R=>t(9,s=R)),Ee(n,es,R=>t(11,o=R));const a=wt("i18n");Ee(n,a,R=>t(10,r=R));let{saveHandler:i}=e,{saveSettings:d}=e,h="",_="",v="",b=!1,w=!1,y="",k=!1,V;const U=async()=>{var j;_!==s.name&&(h===gs(s.name)||h==="")&&t(1,h=gs(_)),v!==((j=l==null?void 0:l.notifications)==null?void 0:j.webhook_url)&&d({notifications:{...l.notifications,webhook_url:v}});const R=await Wc(localStorage.token,_,h).catch(x=>{Me.error(`${x}`)});return R?(await Tl.set(R),!0):!1},I=async()=>{t(6,y=await Yc(localStorage.token)),y?Me.success(r.t("API Key created.")):Me.error(r.t("Failed to create API Key."))};Ct(async()=>{var R;t(2,_=s.name),t(1,h=s.profile_image_url),t(3,v=((R=l==null?void 0:l.notifications)==null?void 0:R.webhook_url)??""),t(6,y=await Fc(localStorage.token).catch(j=>(console.log(j),"")))});function E(R){lt[R?"unshift":"push"](()=>{V=R,t(8,V)})}const D=R=>{const j=V.files??[];let x=new FileReader;x.onload=X=>{let K=`${X.target.result}`;const ee=new Image;ee.src=K,ee.onload=function(){const se=document.createElement("canvas"),ue=se.getContext("2d"),he=ee.width/ee.height;let me,pe;he>1?(me=250*he,pe=250):(me=250,pe=250/he),se.width=250,se.height=250;const de=(250-me)/2,ke=(250-pe)/2;ue.drawImage(ee,de,ke,me,pe);const Fe=se.toDataURL("image/jpeg");t(1,h=Fe),t(8,V.files=null,V)}},j.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(j[0].type)&&x.readAsDataURL(j[0])},$=()=>{V.click()},T=async()=>{lc()?t(1,h=gs(_)):Me.info(r.t("Fingerprint spoofing detected: Unable to use initials as avatar. Defaulting to default profile image."),{duration:1e3*10})},L=async()=>{const R=await Nc(s.email);t(1,h=R)},N=async()=>{t(1,h="/user.png")};function S(){_=this.value,t(2,_)}function W(){v=this.value,t(3,v)}const q=()=>{t(4,b=!b)},O=()=>{Na(localStorage.token),t(5,w=!0),setTimeout(()=>{t(5,w=!1)},2e3)},B=()=>{Na(y),t(7,k=!0),setTimeout(()=>{t(7,k=!1)},2e3)},Y=()=>{I()},J=()=>{I()},G=async()=>{await U()&&i()};return n.$$set=R=>{"saveHandler"in R&&t(0,i=R.saveHandler),"saveSettings"in R&&t(15,d=R.saveSettings)},[i,h,_,v,b,w,y,k,V,s,r,o,a,U,I,d,E,D,$,T,L,N,S,W,q,O,B,Y,J,G]}class zd extends ot{constructor(e){super(),it(this,e,xd,Rd,at,{saveHandler:0,saveSettings:15},null,[-1,-1])}}function Fd(n){let e,t;return{c(){e=H("v"),t=H(ol)},l(l){e=P(l,"v"),t=P(l,ol)},m(l,s){M(l,e,s),M(l,t,s)},p:Ce,d(l){l&&(f(e),f(t))}}}function So(n){let e,t,l,s,r=n[4].t("Ollama Version")+"",o,a,i,d,h=(n[0]??"N/A")+"",_;return{c(){e=m("hr"),t=A(),l=m("div"),s=m("div"),o=H(r),a=A(),i=m("div"),d=m("div"),_=H(h),this.h()},l(v){e=p(v,"HR",{class:!0}),t=C(v),l=p(v,"DIV",{});var b=g(l);s=p(b,"DIV",{class:!0});var w=g(s);o=P(w,r),w.forEach(f),a=C(b),i=p(b,"DIV",{class:!0});var y=g(i);d=p(y,"DIV",{class:!0});var k=g(d);_=P(k,h),k.forEach(f),y.forEach(f),b.forEach(f),this.h()},h(){u(e,"class","dark:border-gray-850"),u(s,"class","mb-2.5 text-sm font-medium"),u(d,"class","flex-1 text-xs text-gray-700 dark:text-gray-200"),u(i,"class","flex w-full")},m(v,b){M(v,e,b),M(v,t,b),M(v,l,b),c(l,s),c(s,o),c(l,a),c(l,i),c(i,d),c(d,_)},p(v,b){b&16&&r!==(r=v[4].t("Ollama Version")+"")&&z(o,r),b&1&&h!==(h=(v[0]??"N/A")+"")&&z(_,h)},d(v){v&&(f(e),f(t),f(l))}}}function $o(n){let e,t,l;return{c(){e=m("span"),t=H(n[3]),l=H(" -"),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);t=P(r,n[3]),r.forEach(f),l=P(s," -"),this.h()},h(){u(e,"class","text-gray-500 dark:text-gray-300 font-medium")},m(s,r){M(s,e,r),c(e,t),M(s,l,r)},p(s,r){r&8&&z(t,s[3])},d(s){s&&(f(e),f(l))}}}function Wd(n){let e,t,l,s,r,o,a,i=n[4].t("Version")+"",d,h,_,v,b,w,y,k,V=(n[1]===null?n[4].t("Checking for updates..."):n[1]?`(v${n[2].latest} ${n[4].t("available!")})`:n[4].t("(latest)"))+"",U,I,E,D,$,T=n[4].t("See what's new")+"",L,N,S,W=n[4].t("Check for updates")+"",q,O,B,Y,J,G,R=`Emoji graphics provided by
			<a href="https://github.com/jdecked/twemoji" target="_blank">Twemoji</a>, licensed under
			<a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY 4.0</a>.`,j,x,X='<a href="https://discord.gg/5rJgQTnV4s" target="_blank"><img alt="Discord" src="https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&amp;logoColor=white"/></a> <a href="https://twitter.com/OpenWebUI" target="_blank"><img alt="X (formerly Twitter) Follow" src="https://img.shields.io/twitter/follow/OpenWebUI"/></a> <a href="https://github.com/open-webui/open-webui" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/open-webui/open-webui?style=social&amp;label=Star us on Github"/></a>',K,ee,se,ue,he=new Date().getFullYear()+"",me,pe,de,ke="Open WebUI (Timothy Jaeryang Baek)",Fe,Be,be,ne=!n[3].includes("Open WebUI"),ye,Re=n[4].t("Created by")+"",We,Ie,Ae,Se="Timothy J. Baek",xe,Ze,nt;w=new Ot({props:{content:Ki,$$slots:{default:[Fd]},$$scope:{ctx:n}}});let Q=n[0]&&So(n),ve=ne&&$o(n);return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("div"),r=m("div"),o=H(n[3]),a=A(),d=H(i),h=A(),_=m("div"),v=m("div"),b=m("div"),ae(w.$$.fragment),y=A(),k=m("a"),U=H(V),E=A(),D=m("button"),$=m("div"),L=H(T),N=A(),S=m("button"),q=H(W),O=A(),Q&&Q.c(),B=A(),Y=m("hr"),J=A(),G=m("div"),G.innerHTML=R,j=A(),x=m("div"),x.innerHTML=X,K=A(),ee=m("div"),se=m("pre"),ue=H("Copyright (c) "),me=H(he),pe=H(" "),de=m("a"),de.textContent=ke,Fe=H(`
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its
   contributors may be used to endorse or promote products derived from
   this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
`),Be=A(),be=m("div"),ve&&ve.c(),ye=A(),We=H(Re),Ie=A(),Ae=m("a"),Ae.textContent=Se,this.h()},l(ge){e=p(ge,"DIV",{class:!0});var $e=g(e);t=p($e,"DIV",{class:!0});var Oe=g(t);l=p(Oe,"DIV",{});var Ue=g(l);s=p(Ue,"DIV",{class:!0});var pt=g(s);r=p(pt,"DIV",{});var mt=g(r);o=P(mt,n[3]),a=C(mt),d=P(mt,i),mt.forEach(f),pt.forEach(f),h=C(Ue),_=p(Ue,"DIV",{class:!0});var we=g(_);v=p(we,"DIV",{class:!0});var He=g(v);b=p(He,"DIV",{class:!0});var qe=g(b);oe(w.$$.fragment,qe),y=C(qe),k=p(qe,"A",{href:!0,target:!0});var fe=g(k);U=P(fe,V),fe.forEach(f),qe.forEach(f),E=C(He),D=p(He,"BUTTON",{class:!0});var _e=g(D);$=p(_e,"DIV",{});var Ke=g($);L=P(Ke,T),Ke.forEach(f),_e.forEach(f),He.forEach(f),N=C(we),S=p(we,"BUTTON",{class:!0});var ct=g(S);q=P(ct,W),ct.forEach(f),we.forEach(f),Ue.forEach(f),O=C(Oe),Q&&Q.l(Oe),B=C(Oe),Y=p(Oe,"HR",{class:!0}),J=C(Oe),G=p(Oe,"DIV",{class:!0,"data-svelte-h":!0}),Ye(G)!=="svelte-1w5x546"&&(G.innerHTML=R),j=C(Oe),x=p(Oe,"DIV",{class:!0,"data-svelte-h":!0}),Ye(x)!=="svelte-1hy20dm"&&(x.innerHTML=X),K=C(Oe),ee=p(Oe,"DIV",{});var Ge=g(ee);se=p(Ge,"PRE",{class:!0});var De=g(se);ue=P(De,"Copyright (c) "),me=P(De,he),pe=P(De," "),de=p(De,"A",{href:!0,target:!0,class:!0,"data-svelte-h":!0}),Ye(de)!=="svelte-dl88be"&&(de.textContent=ke),Fe=P(De,`
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its
   contributors may be used to endorse or promote products derived from
   this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
`),De.forEach(f),Ge.forEach(f),Be=C(Oe),be=p(Oe,"DIV",{class:!0});var ze=g(be);ve&&ve.l(ze),ye=C(ze),We=P(ze,Re),Ie=C(ze),Ae=p(ze,"A",{class:!0,href:!0,target:!0,"data-svelte-h":!0}),Ye(Ae)!=="svelte-1tvrifl"&&(Ae.textContent=Se),ze.forEach(f),Oe.forEach(f),$e.forEach(f),this.h()},h(){u(s,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),u(k,"href",I="https://github.com/open-webui/open-webui/releases/tag/v"+n[2].latest),u(k,"target","_blank"),u(b,"class","flex gap-1"),u(D,"class","underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500"),u(v,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),u(S,"class","text-xs px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium"),u(_,"class","flex w-full justify-between items-center"),u(Y,"class","dark:border-gray-850"),u(G,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),u(x,"class","flex space-x-1"),u(de,"href","https://openwebui.com"),u(de,"target","_blank"),u(de,"class","underline"),u(se,"class","text-xs text-gray-400 dark:text-gray-500"),u(Ae,"class","text-gray-500 dark:text-gray-300 font-medium"),u(Ae,"href","https://github.com/tjbck"),u(Ae,"target","_blank"),u(be,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),u(t,"class","space-y-3 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m(ge,$e){M(ge,e,$e),c(e,t),c(t,l),c(l,s),c(s,r),c(r,o),c(r,a),c(r,d),c(l,h),c(l,_),c(_,v),c(v,b),ie(w,b,null),c(b,y),c(b,k),c(k,U),c(v,E),c(v,D),c(D,$),c($,L),c(_,N),c(_,S),c(S,q),c(t,O),Q&&Q.m(t,null),c(t,B),c(t,Y),c(t,J),c(t,G),c(t,j),c(t,x),c(t,K),c(t,ee),c(ee,se),c(se,ue),c(se,me),c(se,pe),c(se,de),c(se,Fe),c(t,Be),c(t,be),ve&&ve.m(be,null),c(be,ye),c(be,We),c(be,Ie),c(be,Ae),xe=!0,Ze||(nt=[te(D,"click",n[7]),te(S,"click",n[8])],Ze=!0)},p(ge,[$e]){(!xe||$e&8)&&z(o,ge[3]),(!xe||$e&16)&&i!==(i=ge[4].t("Version")+"")&&z(d,i);const Oe={};$e&512&&(Oe.$$scope={dirty:$e,ctx:ge}),w.$set(Oe),(!xe||$e&22)&&V!==(V=(ge[1]===null?ge[4].t("Checking for updates..."):ge[1]?`(v${ge[2].latest} ${ge[4].t("available!")})`:ge[4].t("(latest)"))+"")&&z(U,V),(!xe||$e&4&&I!==(I="https://github.com/open-webui/open-webui/releases/tag/v"+ge[2].latest))&&u(k,"href",I),(!xe||$e&16)&&T!==(T=ge[4].t("See what's new")+"")&&z(L,T),(!xe||$e&16)&&W!==(W=ge[4].t("Check for updates")+"")&&z(q,W),ge[0]?Q?Q.p(ge,$e):(Q=So(ge),Q.c(),Q.m(t,B)):Q&&(Q.d(1),Q=null),$e&8&&(ne=!ge[3].includes("Open WebUI")),ne?ve?ve.p(ge,$e):(ve=$o(ge),ve.c(),ve.m(be,ye)):ve&&(ve.d(1),ve=null),(!xe||$e&16)&&Re!==(Re=ge[4].t("Created by")+"")&&z(We,Re)},i(ge){xe||(F(w.$$.fragment,ge),xe=!0)},o(ge){Z(w.$$.fragment,ge),xe=!1},d(ge){ge&&f(e),ce(w),Q&&Q.d(),ve&&ve.d(),Ze=!1,rt(nt)}}}function Yd(n,e,t){let l,s;Ee(n,gi,v=>t(3,l=v));const r=wt("i18n");Ee(n,r,v=>t(4,s=v));let o="",a=null,i={current:"",latest:""};const d=async()=>{t(1,a=null),t(2,i=await wi().catch(v=>({current:ol,latest:ol}))),console.log(i),t(1,a=Jn(i.latest,i.current)),console.log(a)};return Ct(async()=>{t(0,o=await Gc(localStorage.token).catch(v=>"")),d()}),[o,a,i,l,s,r,d,()=>{mn.set(!0)},()=>{d()}]}class Zd extends ot{constructor(e){super(),it(this,e,Yd,Wd,at,{})}}function No(n,e,t){const l=n.slice();return l[33]=e[t],l}function Oo(n){let e,t=n[33].title+"",l,s;return{c(){e=m("option"),l=H(t),this.h()},l(r){e=p(r,"OPTION",{});var o=g(e);l=P(o,t),o.forEach(f),this.h()},h(){e.__value=s=n[33].code,je(e,e.__value)},m(r,o){M(r,e,o),c(e,l)},p(r,o){o[0]&4&&t!==(t=r[33].title+"")&&z(l,t),o[0]&4&&s!==(s=r[33].code)&&(e.__value=s,je(e,e.__value))},d(r){r&&f(e)}}}function Lo(n){let e,t=`Couldn&#39;t find your language?
					<a class="text-gray-300 font-medium underline" href="https://github.com/open-webui/open-webui/blob/main/docs/CONTRIBUTING.md#-translations-and-internationalization" target="_blank">Help us translate Open WebUI!</a>`;return{c(){e=m("div"),e.innerHTML=t,this.h()},l(l){e=p(l,"DIV",{class:!0,"data-svelte-h":!0}),Ye(e)!=="svelte-3hlwzt"&&(e.innerHTML=t),this.h()},h(){u(e,"class","mb-2 text-xs text-gray-400 dark:text-gray-500")},m(l,s){M(l,e,s)},d(l){l&&f(e)}}}function Gd(n){let e,t=n[10].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&1024&&t!==(t=s[10].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function Jd(n){let e,t=n[10].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&1024&&t!==(t=s[10].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function Mo(n){let e,t,l,s,r=n[10].t("System Prompt")+"",o,a,i,d,h,_,v,b=n[10].t("Advanced Parameters")+"",w,y,k,V=(n[6]?n[10].t("Hide"):n[10].t("Show"))+"",U,I,E,D,$,T=n[6]&&Bo(n);return{c(){e=m("hr"),t=A(),l=m("div"),s=m("div"),o=H(r),a=A(),i=m("textarea"),d=A(),h=m("div"),_=m("div"),v=m("div"),w=H(b),y=A(),k=m("button"),U=H(V),I=A(),T&&T.c(),this.h()},l(L){e=p(L,"HR",{class:!0}),t=C(L),l=p(L,"DIV",{});var N=g(l);s=p(N,"DIV",{class:!0});var S=g(s);o=P(S,r),S.forEach(f),a=C(N),i=p(N,"TEXTAREA",{class:!0,rows:!0}),g(i).forEach(f),N.forEach(f),d=C(L),h=p(L,"DIV",{class:!0});var W=g(h);_=p(W,"DIV",{class:!0});var q=g(_);v=p(q,"DIV",{class:!0});var O=g(v);w=P(O,b),O.forEach(f),y=C(q),k=p(q,"BUTTON",{class:!0,type:!0});var B=g(k);U=P(B,V),B.forEach(f),q.forEach(f),I=C(W),T&&T.l(W),W.forEach(f),this.h()},h(){u(e,"class","dark:border-gray-850 my-3"),u(s,"class","my-2.5 text-sm font-medium"),u(i,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),u(i,"rows","4"),u(v,"class","font-medium"),u(k,"class","text-xs font-medium text-gray-500"),u(k,"type","button"),u(_,"class","flex justify-between items-center text-sm"),u(h,"class","mt-2 space-y-3 pr-1.5")},m(L,N){M(L,e,N),M(L,t,N),M(L,l,N),c(l,s),c(s,o),c(l,a),c(l,i),je(i,n[5]),M(L,d,N),M(L,h,N),c(h,_),c(_,v),c(v,w),c(_,y),c(_,k),c(k,U),c(h,I),T&&T.m(h,null),E=!0,D||($=[te(i,"input",n[23]),te(k,"click",n[24])],D=!0)},p(L,N){(!E||N[0]&1024)&&r!==(r=L[10].t("System Prompt")+"")&&z(o,r),N[0]&32&&je(i,L[5]),(!E||N[0]&1024)&&b!==(b=L[10].t("Advanced Parameters")+"")&&z(w,b),(!E||N[0]&1088)&&V!==(V=(L[6]?L[10].t("Hide"):L[10].t("Show"))+"")&&z(U,V),L[6]?T?(T.p(L,N),N[0]&64&&F(T,1)):(T=Bo(L),T.c(),F(T,1),T.m(h,null)):T&&(Qe(),Z(T,1,1,()=>{T=null}),et())},i(L){E||(F(T),E=!0)},o(L){Z(T),E=!1},d(L){L&&(f(e),f(t),f(l),f(d),f(h)),T&&T.d(),D=!1,rt($)}}}function Bo(n){var R;let e,t,l,s,r,o,a,i,d=n[10].t("Keep Alive")+"",h,_,v,b,w,y,k,V,U=n[10].t("Request Mode")+"",I,E,D,$,T,L;function N(j){n[25](j)}let S={admin:((R=n[11])==null?void 0:R.role)==="admin"};n[9]!==void 0&&(S.params=n[9]),e=new Kc({props:S}),lt.push(()=>ht(e,"params",N));function W(j,x){return j[8]===null?qd:Kd}let q=W(n),O=q(n),B=n[8]!==null&&Uo(n);function Y(j,x){if(j[7]==="")return Qd;if(j[7]==="json")return Xd}let J=Y(n),G=J&&J(n);return{c(){ae(e.$$.fragment),l=A(),s=m("hr"),r=A(),o=m("div"),a=m("div"),i=m("div"),h=H(d),_=A(),v=m("button"),O.c(),b=A(),B&&B.c(),w=A(),y=m("div"),k=m("div"),V=m("div"),I=H(U),E=A(),D=m("button"),G&&G.c(),this.h()},l(j){oe(e.$$.fragment,j),l=C(j),s=p(j,"HR",{class:!0}),r=C(j),o=p(j,"DIV",{class:!0});var x=g(o);a=p(x,"DIV",{class:!0});var X=g(a);i=p(X,"DIV",{class:!0});var K=g(i);h=P(K,d),K.forEach(f),_=C(X),v=p(X,"BUTTON",{class:!0,type:!0});var ee=g(v);O.l(ee),ee.forEach(f),X.forEach(f),b=C(x),B&&B.l(x),x.forEach(f),w=C(j),y=p(j,"DIV",{});var se=g(y);k=p(se,"DIV",{class:!0});var ue=g(k);V=p(ue,"DIV",{class:!0});var he=g(V);I=P(he,U),he.forEach(f),E=C(ue),D=p(ue,"BUTTON",{class:!0});var me=g(D);G&&G.l(me),me.forEach(f),ue.forEach(f),se.forEach(f),this.h()},h(){u(s,"class","dark:border-gray-850"),u(i,"class","self-center text-xs font-medium"),u(v,"class","p-1 px-3 text-xs flex rounded transition"),u(v,"type","button"),u(a,"class","flex w-full justify-between"),u(o,"class","py-1 w-full justify-between"),u(V,"class","self-center text-sm font-medium"),u(D,"class","p-1 px-3 text-xs flex rounded transition"),u(k,"class","py-1 flex w-full justify-between")},m(j,x){ie(e,j,x),M(j,l,x),M(j,s,x),M(j,r,x),M(j,o,x),c(o,a),c(a,i),c(i,h),c(a,_),c(a,v),O.m(v,null),c(o,b),B&&B.m(o,null),M(j,w,x),M(j,y,x),c(y,k),c(k,V),c(V,I),c(k,E),c(k,D),G&&G.m(D,null),$=!0,T||(L=[te(v,"click",n[26]),te(D,"click",n[28])],T=!0)},p(j,x){var K;const X={};x[0]&2048&&(X.admin=((K=j[11])==null?void 0:K.role)==="admin"),!t&&x[0]&512&&(t=!0,X.params=j[9],dt(()=>t=!1)),e.$set(X),(!$||x[0]&1024)&&d!==(d=j[10].t("Keep Alive")+"")&&z(h,d),q===(q=W(j))&&O?O.p(j,x):(O.d(1),O=q(j),O&&(O.c(),O.m(v,null))),j[8]!==null?B?B.p(j,x):(B=Uo(j),B.c(),B.m(o,null)):B&&(B.d(1),B=null),(!$||x[0]&1024)&&U!==(U=j[10].t("Request Mode")+"")&&z(I,U),J===(J=Y(j))&&G?G.p(j,x):(G&&G.d(1),G=J&&J(j),G&&(G.c(),G.m(D,null)))},i(j){$||(F(e.$$.fragment,j),$=!0)},o(j){Z(e.$$.fragment,j),$=!1},d(j){j&&(f(l),f(s),f(r),f(o),f(w),f(y)),ce(e,j),O.d(),B&&B.d(),G&&G.d(),T=!1,rt(L)}}}function Kd(n){let e,t=n[10].t("Custom")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&1024&&t!==(t=s[10].t("Custom")+"")&&z(l,t)},d(s){s&&f(e)}}}function qd(n){let e,t=n[10].t("Default")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&1024&&t!==(t=s[10].t("Default")+"")&&z(l,t)},d(s){s&&f(e)}}}function Uo(n){let e,t,l,s,r;return{c(){e=m("div"),t=m("input"),this.h()},l(o){e=p(o,"DIV",{class:!0});var a=g(e);t=p(a,"INPUT",{class:!0,type:!0,placeholder:!0}),a.forEach(f),this.h()},h(){u(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),u(t,"type","text"),u(t,"placeholder",l=n[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'.")),u(e,"class","flex mt-1 space-x-2")},m(o,a){M(o,e,a),c(e,t),je(t,n[8]),s||(r=te(t,"input",n[27]),s=!0)},p(o,a){a[0]&1024&&l!==(l=o[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'."))&&u(t,"placeholder",l),a[0]&256&&t.value!==o[8]&&je(t,o[8])},d(o){o&&f(e),s=!1,r()}}}function Xd(n){let e,t=n[10].t("JSON")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&1024&&t!==(t=s[10].t("JSON")+"")&&z(l,t)},d(s){s&&f(e)}}}function Qd(n){let e,t=n[10].t("Default")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&1024&&t!==(t=s[10].t("Default")+"")&&z(l,t)},d(s){s&&f(e)}}}function eh(n){var pt,mt;let e,t,l,s,r=n[10].t("WebUI Settings")+"",o,a,i,d,h=n[10].t("Theme")+"",_,v,b,w,y,k,V=n[10].t("System")+"",U,I,E,D=n[10].t("Dark")+"",$,T,L,N=n[10].t("OLED Dark")+"",S,W,q,O=n[10].t("Light")+"",B,Y,J=" Her",G,R,j,x=n[10].t("Language")+"",X,K,ee,se,ue,he,me,pe,de,ke=n[10].t("Notifications")+"",Fe,Be,be,ne,ye,Re,We,Ie=n[10].t("Save")+"",Ae,Se,xe,Ze,nt=st(n[2]),Q=[];for(let we=0;we<nt.length;we+=1)Q[we]=Oo(No(n,nt,we));let ve=n[10].language==="en-US"&&Lo();function ge(we,He){return we[4]===!0?Jd:Gd}let $e=ge(n),Oe=$e(n),Ue=(n[11].role==="admin"||((mt=(pt=n[11])==null?void 0:pt.permissions.chat)==null?void 0:mt.controls))&&Mo(n);return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("div"),o=H(r),a=A(),i=m("div"),d=m("div"),_=H(h),v=A(),b=m("div"),w=m("select"),y=m("option"),k=H(" "),U=H(V),I=m("option"),E=H(" "),$=H(D),T=m("option"),L=H(" "),S=H(N),W=m("option"),q=H(" "),B=H(O),Y=m("option"),Y.textContent=J,G=A(),R=m("div"),j=m("div"),X=H(x),K=A(),ee=m("div"),se=m("select");for(let we=0;we<Q.length;we+=1)Q[we].c();ue=A(),ve&&ve.c(),he=A(),me=m("div"),pe=m("div"),de=m("div"),Fe=H(ke),Be=A(),be=m("button"),Oe.c(),ne=A(),Ue&&Ue.c(),ye=A(),Re=m("div"),We=m("button"),Ae=H(Ie),this.h()},l(we){e=p(we,"DIV",{class:!0});var He=g(e);t=p(He,"DIV",{class:!0});var qe=g(t);l=p(qe,"DIV",{class:!0});var fe=g(l);s=p(fe,"DIV",{class:!0});var _e=g(s);o=P(_e,r),_e.forEach(f),a=C(fe),i=p(fe,"DIV",{class:!0});var Ke=g(i);d=p(Ke,"DIV",{class:!0});var ct=g(d);_=P(ct,h),ct.forEach(f),v=C(Ke),b=p(Ke,"DIV",{class:!0});var Ge=g(b);w=p(Ge,"SELECT",{class:!0,placeholder:!0});var De=g(w);y=p(De,"OPTION",{});var ze=g(y);k=P(ze," "),U=P(ze,V),ze.forEach(f),I=p(De,"OPTION",{});var tt=g(I);E=P(tt," "),$=P(tt,D),tt.forEach(f),T=p(De,"OPTION",{});var Le=g(T);L=P(Le," "),S=P(Le,N),Le.forEach(f),W=p(De,"OPTION",{});var ft=g(W);q=P(ft," "),B=P(ft,O),ft.forEach(f),Y=p(De,"OPTION",{"data-svelte-h":!0}),Ye(Y)!=="svelte-188ouwx"&&(Y.textContent=J),De.forEach(f),Ge.forEach(f),Ke.forEach(f),G=C(fe),R=p(fe,"DIV",{class:!0});var _t=g(R);j=p(_t,"DIV",{class:!0});var yt=g(j);X=P(yt,x),yt.forEach(f),K=C(_t),ee=p(_t,"DIV",{class:!0});var le=g(ee);se=p(le,"SELECT",{class:!0,placeholder:!0});var Te=g(se);for(let It=0;It<Q.length;It+=1)Q[It].l(Te);Te.forEach(f),le.forEach(f),_t.forEach(f),ue=C(fe),ve&&ve.l(fe),he=C(fe),me=p(fe,"DIV",{});var Pe=g(me);pe=p(Pe,"DIV",{class:!0});var Ne=g(pe);de=p(Ne,"DIV",{class:!0});var Xe=g(de);Fe=P(Xe,ke),Xe.forEach(f),Be=C(Ne),be=p(Ne,"BUTTON",{class:!0,type:!0});var vt=g(be);Oe.l(vt),vt.forEach(f),Ne.forEach(f),Pe.forEach(f),fe.forEach(f),ne=C(qe),Ue&&Ue.l(qe),qe.forEach(f),ye=C(He),Re=p(He,"DIV",{class:!0});var Et=g(Re);We=p(Et,"BUTTON",{class:!0});var St=g(We);Ae=P(St,Ie),St.forEach(f),Et.forEach(f),He.forEach(f),this.h()},h(){u(s,"class","mb-1 text-sm font-medium"),u(d,"class","self-center text-xs font-medium"),y.__value="system",je(y,y.__value),I.__value="dark",je(I,I.__value),T.__value="oled-dark",je(T,T.__value),W.__value="light",je(W,W.__value),Y.__value="her",je(Y,Y.__value),u(w,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),u(w,"placeholder","Select a theme"),n[1]===void 0&&Nl(()=>n[18].call(w)),u(b,"class","flex items-center relative"),u(i,"class","flex w-full justify-between"),u(j,"class","self-center text-xs font-medium"),u(se,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),u(se,"placeholder","Select a language"),n[3]===void 0&&Nl(()=>n[20].call(se)),u(ee,"class","flex items-center relative"),u(R,"class","flex w-full justify-between"),u(de,"class","self-center text-xs font-medium"),u(be,"class","p-1 px-3 text-xs flex rounded transition"),u(be,"type","button"),u(pe,"class","py-0.5 flex w-full justify-between"),u(l,"class",""),u(t,"class","overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(We,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(Re,"class","flex justify-end pt-3 text-sm font-medium"),u(e,"class","flex flex-col h-full justify-between text-sm")},m(we,He){M(we,e,He),c(e,t),c(t,l),c(l,s),c(s,o),c(l,a),c(l,i),c(i,d),c(d,_),c(i,v),c(i,b),c(b,w),c(w,y),c(y,k),c(y,U),c(w,I),c(I,E),c(I,$),c(w,T),c(T,L),c(T,S),c(w,W),c(W,q),c(W,B),c(w,Y),al(w,n[1],!0),c(l,G),c(l,R),c(R,j),c(j,X),c(R,K),c(R,ee),c(ee,se);for(let qe=0;qe<Q.length;qe+=1)Q[qe]&&Q[qe].m(se,null);al(se,n[3],!0),c(l,ue),ve&&ve.m(l,null),c(l,he),c(l,me),c(me,pe),c(pe,de),c(de,Fe),c(pe,Be),c(pe,be),Oe.m(be,null),c(t,ne),Ue&&Ue.m(t,null),c(e,ye),c(e,Re),c(Re,We),c(We,Ae),Se=!0,xe||(Ze=[te(w,"change",n[18]),te(w,"change",n[19]),te(se,"change",n[20]),te(se,"change",n[21]),te(be,"click",n[22]),te(We,"click",n[29])],xe=!0)},p(we,He){var qe,fe;if((!Se||He[0]&1024)&&r!==(r=we[10].t("WebUI Settings")+"")&&z(o,r),(!Se||He[0]&1024)&&h!==(h=we[10].t("Theme")+"")&&z(_,h),(!Se||He[0]&1024)&&V!==(V=we[10].t("System")+"")&&z(U,V),(!Se||He[0]&1024)&&D!==(D=we[10].t("Dark")+"")&&z($,D),(!Se||He[0]&1024)&&N!==(N=we[10].t("OLED Dark")+"")&&z(S,N),(!Se||He[0]&1024)&&O!==(O=we[10].t("Light")+"")&&z(B,O),He[0]&2&&al(w,we[1]),(!Se||He[0]&1024)&&x!==(x=we[10].t("Language")+"")&&z(X,x),He[0]&4){nt=st(we[2]);let _e;for(_e=0;_e<nt.length;_e+=1){const Ke=No(we,nt,_e);Q[_e]?Q[_e].p(Ke,He):(Q[_e]=Oo(Ke),Q[_e].c(),Q[_e].m(se,null))}for(;_e<Q.length;_e+=1)Q[_e].d(1);Q.length=nt.length}He[0]&12&&al(se,we[3]),we[10].language==="en-US"?ve||(ve=Lo(),ve.c(),ve.m(l,he)):ve&&(ve.d(1),ve=null),(!Se||He[0]&1024)&&ke!==(ke=we[10].t("Notifications")+"")&&z(Fe,ke),$e===($e=ge(we))&&Oe?Oe.p(we,He):(Oe.d(1),Oe=$e(we),Oe&&(Oe.c(),Oe.m(be,null))),we[11].role==="admin"||(fe=(qe=we[11])==null?void 0:qe.permissions.chat)!=null&&fe.controls?Ue?(Ue.p(we,He),He[0]&2048&&F(Ue,1)):(Ue=Mo(we),Ue.c(),F(Ue,1),Ue.m(t,null)):Ue&&(Qe(),Z(Ue,1,1,()=>{Ue=null}),et()),(!Se||He[0]&1024)&&Ie!==(Ie=we[10].t("Save")+"")&&z(Ae,Ie)},i(we){Se||(F(Ue),Se=!0)},o(we){Z(Ue),Se=!1},d(we){we&&f(e),$t(Q,we),ve&&ve.d(),Oe.d(),Ue&&Ue.d(),xe=!1,rt(Ze)}}}function th(n,e,t){let l,s,r;Ee(n,Ht,x=>t(30,l=x)),Ee(n,Tl,x=>t(11,r=x));const o=At(),a=wt("i18n");Ee(n,a,x=>t(10,s=x));let{saveSettings:i}=e,{getModels:d}=e,h=["dark","light","rose-pine dark","rose-pine-dawn light","oled-dark"],_="system",v=[],b=s.language,w=!1,y="",k=!1;const V=async()=>{await Notification.requestPermission()==="granted"?(t(4,w=!w),i({notificationEnabled:w})):Me.error(s.t("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access."))};let U="",I=null,E={stream_response:null,seed:null,temperature:null,frequency_penalty:null,repeat_last_n:null,mirostat:null,mirostat_eta:null,mirostat_tau:null,top_k:null,top_p:null,min_p:null,stop:null,tfs_z:null,num_ctx:null,num_batch:null,num_keep:null,max_tokens:null,num_gpu:null};const D=async()=>{U===""?t(7,U="json"):t(7,U=""),i({requestFormat:U!==""?U:void 0})};Ct(async()=>{var x,X;t(1,_=localStorage.theme??"system"),t(2,v=await Jc()),t(4,w=l.notificationEnabled??!1),t(5,y=l.system??""),t(7,U=l.requestFormat??""),t(8,I=l.keepAlive??null),t(9,E={...E,...l.params}),t(9,E.stop=(x=l==null?void 0:l.params)!=null&&x.stop?(((X=l==null?void 0:l.params)==null?void 0:X.stop)??[]).join(","):null,E)});const $=x=>{let X=x==="oled-dark"?"dark":x;x==="system"&&(X=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X==="dark"&&!x.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-800","#333"),document.documentElement.style.setProperty("--color-gray-850","#262626"),document.documentElement.style.setProperty("--color-gray-900","#171717"),document.documentElement.style.setProperty("--color-gray-950","#0d0d0d")),h.filter(ee=>ee!==X).forEach(ee=>{ee.split(" ").forEach(se=>{document.documentElement.classList.remove(se)})}),X.split(" ").forEach(ee=>{document.documentElement.classList.add(ee)});const K=document.querySelector('meta[name="theme-color"]');if(K)if(x.includes("system")){const ee=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";console.log("Setting system meta theme color: "+ee),K.setAttribute("content",ee==="light"?"#ffffff":"#171717")}else console.log("Setting meta theme color: "+x),K.setAttribute("content",x==="dark"?"#171717":x==="oled-dark"?"#000000":x==="her"?"#983724":"#ffffff");console.log(x)},T=x=>{qi.set(x),localStorage.setItem("theme",x),x.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-800","#101010"),document.documentElement.style.setProperty("--color-gray-850","#050505"),document.documentElement.style.setProperty("--color-gray-900","#000000"),document.documentElement.style.setProperty("--color-gray-950","#000000"),document.documentElement.classList.add("dark")),$(x)};function L(){_=_s(this),t(1,_)}const N=()=>T(_);function S(){b=_s(this),t(3,b),t(2,v)}const W=x=>{s.changeLanguage(b)},q=()=>{V()};function O(){y=this.value,t(5,y)}const B=()=>{t(6,k=!k)};function Y(x){E=x,t(9,E)}const J=()=>{t(8,I=I===null?"5m":null)};function G(){I=this.value,t(8,I)}const R=()=>{D()},j=()=>{i({system:y!==""?y:void 0,params:{stream_response:E.stream_response!==null?E.stream_response:void 0,seed:(E.seed!==null?E.seed:void 0)??void 0,stop:E.stop?E.stop.split(",").filter(x=>x):void 0,temperature:E.temperature!==null?E.temperature:void 0,frequency_penalty:E.frequency_penalty!==null?E.frequency_penalty:void 0,repeat_last_n:E.repeat_last_n!==null?E.repeat_last_n:void 0,mirostat:E.mirostat!==null?E.mirostat:void 0,mirostat_eta:E.mirostat_eta!==null?E.mirostat_eta:void 0,mirostat_tau:E.mirostat_tau!==null?E.mirostat_tau:void 0,top_k:E.top_k!==null?E.top_k:void 0,top_p:E.top_p!==null?E.top_p:void 0,min_p:E.min_p!==null?E.min_p:void 0,tfs_z:E.tfs_z!==null?E.tfs_z:void 0,num_ctx:E.num_ctx!==null?E.num_ctx:void 0,num_batch:E.num_batch!==null?E.num_batch:void 0,num_keep:E.num_keep!==null?E.num_keep:void 0,max_tokens:E.max_tokens!==null?E.max_tokens:void 0,use_mmap:E.use_mmap!==null?E.use_mmap:void 0,use_mlock:E.use_mlock!==null?E.use_mlock:void 0,num_thread:E.num_thread!==null?E.num_thread:void 0,num_gpu:E.num_gpu!==null?E.num_gpu:void 0},keepAlive:I?isNaN(I)?I:parseInt(I):void 0}),o("save")};return n.$$set=x=>{"saveSettings"in x&&t(0,i=x.saveSettings),"getModels"in x&&t(17,d=x.getModels)},[i,_,v,b,w,y,k,U,I,E,s,r,o,a,V,D,T,d,L,N,S,W,q,O,B,Y,J,G,R,j]}class lh extends ot{constructor(e){super(),it(this,e,th,eh,at,{saveSettings:0,getModels:17},null,[-1,-1])}}function sh(n){let e,t=n[25].t("Chat")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Chat")+"")&&z(l,t)},d(s){s&&f(e)}}}function nh(n){let e,t=n[25].t("Default")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Default")+"")&&z(l,t)},d(s){s&&f(e)}}}function rh(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function ah(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function Ho(n){let e,t,l,s=n[25].t("Display the username instead of You in the Chat")+"",r,o,a,i,d;function h(b,w){return b[10]===!0?ih:oh}let _=h(n),v=_(n);return{c(){e=m("div"),t=m("div"),l=m("div"),r=H(s),o=A(),a=m("button"),v.c(),this.h()},l(b){e=p(b,"DIV",{});var w=g(e);t=p(w,"DIV",{class:!0});var y=g(t);l=p(y,"DIV",{class:!0});var k=g(l);r=P(k,s),k.forEach(f),o=C(y),a=p(y,"BUTTON",{class:!0,type:!0});var V=g(a);v.l(V),V.forEach(f),y.forEach(f),w.forEach(f),this.h()},h(){u(l,"class","self-center text-xs"),u(a,"class","p-1 px-3 text-xs flex rounded transition"),u(a,"type","button"),u(t,"class","py-0.5 flex w-full justify-between")},m(b,w){M(b,e,w),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),v.m(a,null),i||(d=te(a,"click",n[54]),i=!0)},p(b,w){w[0]&33554432&&s!==(s=b[25].t("Display the username instead of You in the Chat")+"")&&z(r,s),_===(_=h(b))&&v?v.p(b,w):(v.d(1),v=_(b),v&&(v.c(),v.m(a,null)))},d(b){b&&f(e),v.d(),i=!1,d()}}}function oh(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function ih(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function ch(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function fh(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function uh(n){let e,t=n[25].t("RTL")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("RTL")+"")&&z(l,t)},d(s){s&&f(e)}}}function dh(n){let e,t=n[25].t("LTR")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("LTR")+"")&&z(l,t)},d(s){s&&f(e)}}}function hh(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function mh(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function Po(n){let e,t,l,s=n[25].t("Toast notifications for new updates")+"",r,o,a,i,d,h,_,v=n[25].t(`Show "What's New" modal on login`)+"",b,w,y,k,V;function U(L,N){return L[19]===!0?_h:ph}let I=U(n),E=I(n);function D(L,N){return L[20]===!0?gh:vh}let $=D(n),T=$(n);return{c(){e=m("div"),t=m("div"),l=m("div"),r=H(s),o=A(),a=m("button"),E.c(),i=A(),d=m("div"),h=m("div"),_=m("div"),b=H(v),w=A(),y=m("button"),T.c(),this.h()},l(L){e=p(L,"DIV",{});var N=g(e);t=p(N,"DIV",{class:!0});var S=g(t);l=p(S,"DIV",{class:!0});var W=g(l);r=P(W,s),W.forEach(f),o=C(S),a=p(S,"BUTTON",{class:!0,type:!0});var q=g(a);E.l(q),q.forEach(f),S.forEach(f),N.forEach(f),i=C(L),d=p(L,"DIV",{});var O=g(d);h=p(O,"DIV",{class:!0});var B=g(h);_=p(B,"DIV",{class:!0});var Y=g(_);b=P(Y,v),Y.forEach(f),w=C(B),y=p(B,"BUTTON",{class:!0,type:!0});var J=g(y);T.l(J),J.forEach(f),B.forEach(f),O.forEach(f),this.h()},h(){u(l,"class","self-center text-xs"),u(a,"class","p-1 px-3 text-xs flex rounded transition"),u(a,"type","button"),u(t,"class","py-0.5 flex w-full justify-between"),u(_,"class","self-center text-xs"),u(y,"class","p-1 px-3 text-xs flex rounded transition"),u(y,"type","button"),u(h,"class","py-0.5 flex w-full justify-between")},m(L,N){M(L,e,N),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),E.m(a,null),M(L,i,N),M(L,d,N),c(d,h),c(h,_),c(_,b),c(h,w),c(h,y),T.m(y,null),k||(V=[te(a,"click",n[57]),te(y,"click",n[58])],k=!0)},p(L,N){N[0]&33554432&&s!==(s=L[25].t("Toast notifications for new updates")+"")&&z(r,s),I===(I=U(L))&&E?E.p(L,N):(E.d(1),E=I(L),E&&(E.c(),E.m(a,null))),N[0]&33554432&&v!==(v=L[25].t(`Show "What's New" modal on login`)+"")&&z(b,v),$===($=D(L))&&T?T.p(L,N):(T.d(1),T=$(L),T&&(T.c(),T.m(y,null)))},d(L){L&&(f(e),f(i),f(d)),E.d(),T.d(),k=!1,rt(V)}}}function ph(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function _h(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function vh(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function gh(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function bh(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function wh(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function kh(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function yh(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function Eh(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function Ih(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function Dh(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function Th(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function Vh(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function Ah(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function Ch(n){let e,t=n[25].t("Upload")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Upload")+"")&&z(l,t)},d(s){s&&f(e)}}}function Sh(n){let e,t=n[25].t("Reset")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Reset")+"")&&z(l,t)},d(s){s&&f(e)}}}function $h(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function Nh(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function Oh(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function Lh(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function Mh(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function Bh(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function Uh(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function Hh(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function Ph(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function jh(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function Rh(n){let e,t=n[25].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function xh(n){let e,t=n[25].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&33554432&&t!==(t=s[25].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function jo(n){let e,t,l,s=n[25].t("Image Max Compression Size")+"",r,o,a,i,d,h,_,v;return{c(){e=m("div"),t=m("div"),l=m("div"),r=H(s),o=A(),a=m("div"),i=m("input"),d=H(`x
							`),h=m("input"),this.h()},l(b){e=p(b,"DIV",{});var w=g(e);t=p(w,"DIV",{class:!0});var y=g(t);l=p(y,"DIV",{class:!0});var k=g(l);r=P(k,s),k.forEach(f),o=C(y),a=p(y,"DIV",{});var V=g(a);i=p(V,"INPUT",{type:!0,class:!0,min:!0,placeholder:!0}),d=P(V,`x
							`),h=p(V,"INPUT",{type:!0,class:!0,min:!0,placeholder:!0}),V.forEach(f),y.forEach(f),w.forEach(f),this.h()},h(){u(l,"class","self-center text-xs"),u(i,"type","number"),u(i,"class","w-20 bg-transparent outline-none text-center"),u(i,"min","0"),u(i,"placeholder","Width"),u(h,"type","number"),u(h,"class","w-20 bg-transparent outline-none text-center"),u(h,"min","0"),u(h,"placeholder","Height"),u(t,"class","py-0.5 flex w-full justify-between text-xs")},m(b,w){M(b,e,w),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),c(a,i),je(i,n[18].width),c(a,d),c(a,h),je(h,n[18].height),_||(v=[te(i,"input",n[71]),te(h,"input",n[72])],_=!0)},p(b,w){w[0]&33554432&&s!==(s=b[25].t("Image Max Compression Size")+"")&&z(r,s),w[0]&262144&&vn(i.value)!==b[18].width&&je(i,b[18].width),w[0]&262144&&vn(h.value)!==b[18].height&&je(h,b[18].height)},d(b){b&&f(e),_=!1,rt(v)}}}function zh(n){let e,t,l,s,r,o,a=n[25].t("UI")+"",i,d,h,_,v,b=n[25].t("Landing Page Mode")+"",w,y,k,V,U,I,E,D=n[25].t("Chat Bubble UI")+"",$,T,L,N,S,W,q,O,B=n[25].t("Widescreen Mode")+"",Y,J,G,R,j,x,X,K=n[25].t("Chat direction")+"",ee,se,ue,he,me,pe,de,ke=n[25].t("Notification Sound")+"",Fe,Be,be,ne,ye,Re,We=n[25].t("Chat")+"",Ie,Ae,Se,xe,Ze,nt=n[25].t("Title Auto-Generation")+"",Q,ve,ge,$e,Oe,Ue,pt,mt=n[25].t("Chat Tags Auto-Generation")+"",we,He,qe,fe,_e,Ke,ct,Ge=n[25].t("Auto-Copy Response to Clipboard")+"",De,ze,tt,Le,ft,_t,yt,le=n[25].t("Rich Text Input for Chat")+"",Te,Pe,Ne,Xe,vt,Et,St,It=n[25].t("Paste Large Text as File")+"",Vl,Ml,Mt,vl,gl,Pt,il,rl=n[25].t("Chat Background Image")+"",Al,Bl,Bt,Ul,ts,bl,Hl,ls=n[25].t("Allow User Location")+"",ks,Dn,cl,Tn,ss,wl,Pl,ns=n[25].t("Haptic Feedback")+"",ys,Vn,fl,An,rs,kl,jl,as=n[25].t("Scroll to bottom when switching between branches")+"",Es,Cn,ul,Sn,Rl,os=n[25].t("Voice")+"",Is,$n,is,yl,xl,cs=n[25].t("Allow Voice Interruption in Call")+"",Ds,Nn,dl,On,fs,El,zl,us=n[25].t("Display Emoji in Call")+"",Ts,Ln,hl,Mn,Fl,ds=n[25].t("File")+"",Vs,Bn,hs,Il,Wl,ms=n[25].t("Image Compression")+"",As,Un,ml,Hn,Pn,Yl,Cl,ps=n[25].t("Save")+"",Cs,jn,ir;function cr(re,Ve){return re[14]===""?nh:sh}let Ss=cr(n),jt=Ss(n);function fr(re,Ve){return re[15]===!0?ah:rh}let $s=fr(n),Rt=$s(n),Dt=!n[24].chatBubble&&Ho(n);function ur(re,Ve){return re[7]===!0?fh:ch}let Ns=ur(n),xt=Ns(n);function dr(re,Ve){return re[16]==="LTR"?dh:uh}let Os=dr(n),zt=Os(n);function hr(re,Ve){return re[13]===!0?mh:hh}let Ls=hr(n),Ft=Ls(n),Tt=n[26].role==="admin"&&Po(n);function mr(re,Ve){return re[4]===!0?wh:bh}let Ms=mr(n),Wt=Ms(n);function pr(re,Ve){return re[5]===!0?yh:kh}let Bs=pr(n),Yt=Bs(n);function _r(re,Ve){return re[6]===!0?Ih:Eh}let Us=_r(n),Zt=Us(n);function vr(re,Ve){return re[11]===!0?Th:Dh}let Hs=vr(n),Gt=Hs(n);function gr(re,Ve){return re[12]===!0?Ah:Vh}let Ps=gr(n),Jt=Ps(n);function br(re,Ve){return re[1]!==null?Sh:Ch}let js=br(n),Kt=js(n);function wr(re,Ve){return re[9]===!0?Nh:$h}let Rs=wr(n),qt=Rs(n);function kr(re,Ve){return re[23]===!0?Lh:Oh}let xs=kr(n),Xt=xs(n);function yr(re,Ve){return re[8]===!0?Bh:Mh}let zs=yr(n),Qt=zs(n);function Er(re,Ve){return re[22]===!0?Hh:Uh}let Fs=Er(n),el=Fs(n);function Ir(re,Ve){return re[21]===!0?jh:Ph}let Ws=Ir(n),tl=Ws(n);function Dr(re,Ve){return re[17]===!0?xh:Rh}let Ys=Dr(n),ll=Ys(n),Vt=n[17]&&jo(n);return{c(){e=m("form"),t=m("input"),l=A(),s=m("div"),r=m("div"),o=m("div"),i=H(a),d=A(),h=m("div"),_=m("div"),v=m("div"),w=H(b),y=A(),k=m("button"),jt.c(),V=A(),U=m("div"),I=m("div"),E=m("div"),$=H(D),T=A(),L=m("button"),Rt.c(),N=A(),Dt&&Dt.c(),S=A(),W=m("div"),q=m("div"),O=m("div"),Y=H(B),J=A(),G=m("button"),xt.c(),R=A(),j=m("div"),x=m("div"),X=m("div"),ee=H(K),se=A(),ue=m("button"),zt.c(),he=A(),me=m("div"),pe=m("div"),de=m("div"),Fe=H(ke),Be=A(),be=m("button"),Ft.c(),ne=A(),Tt&&Tt.c(),ye=A(),Re=m("div"),Ie=H(We),Ae=A(),Se=m("div"),xe=m("div"),Ze=m("div"),Q=H(nt),ve=A(),ge=m("button"),Wt.c(),$e=A(),Oe=m("div"),Ue=m("div"),pt=m("div"),we=H(mt),He=A(),qe=m("button"),Yt.c(),fe=A(),_e=m("div"),Ke=m("div"),ct=m("div"),De=H(Ge),ze=A(),tt=m("button"),Zt.c(),Le=A(),ft=m("div"),_t=m("div"),yt=m("div"),Te=H(le),Pe=A(),Ne=m("button"),Gt.c(),Xe=A(),vt=m("div"),Et=m("div"),St=m("div"),Vl=H(It),Ml=A(),Mt=m("button"),Jt.c(),vl=A(),gl=m("div"),Pt=m("div"),il=m("div"),Al=H(rl),Bl=A(),Bt=m("button"),Kt.c(),Ul=A(),ts=m("div"),bl=m("div"),Hl=m("div"),ks=H(ls),Dn=A(),cl=m("button"),qt.c(),Tn=A(),ss=m("div"),wl=m("div"),Pl=m("div"),ys=H(ns),Vn=A(),fl=m("button"),Xt.c(),An=A(),rs=m("div"),kl=m("div"),jl=m("div"),Es=H(as),Cn=A(),ul=m("button"),Qt.c(),Sn=A(),Rl=m("div"),Is=H(os),$n=A(),is=m("div"),yl=m("div"),xl=m("div"),Ds=H(cs),Nn=A(),dl=m("button"),el.c(),On=A(),fs=m("div"),El=m("div"),zl=m("div"),Ts=H(us),Ln=A(),hl=m("button"),tl.c(),Mn=A(),Fl=m("div"),Vs=H(ds),Bn=A(),hs=m("div"),Il=m("div"),Wl=m("div"),As=H(ms),Un=A(),ml=m("button"),ll.c(),Hn=A(),Vt&&Vt.c(),Pn=A(),Yl=m("div"),Cl=m("button"),Cs=H(ps),this.h()},l(re){e=p(re,"FORM",{class:!0});var Ve=g(e);t=p(Ve,"INPUT",{type:!0,accept:!0}),l=C(Ve),s=p(Ve,"DIV",{class:!0});var Tr=g(s);r=p(Tr,"DIV",{});var Je=g(r);o=p(Je,"DIV",{class:!0});var Vr=g(o);i=P(Vr,a),Vr.forEach(f),d=C(Je),h=p(Je,"DIV",{});var Ar=g(h);_=p(Ar,"DIV",{class:!0});var Zs=g(_);v=p(Zs,"DIV",{class:!0});var Cr=g(v);w=P(Cr,b),Cr.forEach(f),y=C(Zs),k=p(Zs,"BUTTON",{class:!0,type:!0});var Sr=g(k);jt.l(Sr),Sr.forEach(f),Zs.forEach(f),Ar.forEach(f),V=C(Je),U=p(Je,"DIV",{});var $r=g(U);I=p($r,"DIV",{class:!0});var Gs=g(I);E=p(Gs,"DIV",{class:!0});var Nr=g(E);$=P(Nr,D),Nr.forEach(f),T=C(Gs),L=p(Gs,"BUTTON",{class:!0,type:!0});var Or=g(L);Rt.l(Or),Or.forEach(f),Gs.forEach(f),$r.forEach(f),N=C(Je),Dt&&Dt.l(Je),S=C(Je),W=p(Je,"DIV",{});var Lr=g(W);q=p(Lr,"DIV",{class:!0});var Js=g(q);O=p(Js,"DIV",{class:!0});var Mr=g(O);Y=P(Mr,B),Mr.forEach(f),J=C(Js),G=p(Js,"BUTTON",{class:!0,type:!0});var Br=g(G);xt.l(Br),Br.forEach(f),Js.forEach(f),Lr.forEach(f),R=C(Je),j=p(Je,"DIV",{});var Ur=g(j);x=p(Ur,"DIV",{class:!0});var Ks=g(x);X=p(Ks,"DIV",{class:!0});var Hr=g(X);ee=P(Hr,K),Hr.forEach(f),se=C(Ks),ue=p(Ks,"BUTTON",{class:!0,type:!0});var Pr=g(ue);zt.l(Pr),Pr.forEach(f),Ks.forEach(f),Ur.forEach(f),he=C(Je),me=p(Je,"DIV",{});var jr=g(me);pe=p(jr,"DIV",{class:!0});var qs=g(pe);de=p(qs,"DIV",{class:!0});var Rr=g(de);Fe=P(Rr,ke),Rr.forEach(f),Be=C(qs),be=p(qs,"BUTTON",{class:!0,type:!0});var xr=g(be);Ft.l(xr),xr.forEach(f),qs.forEach(f),jr.forEach(f),ne=C(Je),Tt&&Tt.l(Je),ye=C(Je),Re=p(Je,"DIV",{class:!0});var zr=g(Re);Ie=P(zr,We),zr.forEach(f),Ae=C(Je),Se=p(Je,"DIV",{});var Fr=g(Se);xe=p(Fr,"DIV",{class:!0});var Xs=g(xe);Ze=p(Xs,"DIV",{class:!0});var Wr=g(Ze);Q=P(Wr,nt),Wr.forEach(f),ve=C(Xs),ge=p(Xs,"BUTTON",{class:!0,type:!0});var Yr=g(ge);Wt.l(Yr),Yr.forEach(f),Xs.forEach(f),Fr.forEach(f),$e=C(Je),Oe=p(Je,"DIV",{});var Zr=g(Oe);Ue=p(Zr,"DIV",{class:!0});var Qs=g(Ue);pt=p(Qs,"DIV",{class:!0});var Gr=g(pt);we=P(Gr,mt),Gr.forEach(f),He=C(Qs),qe=p(Qs,"BUTTON",{class:!0,type:!0});var Jr=g(qe);Yt.l(Jr),Jr.forEach(f),Qs.forEach(f),Zr.forEach(f),fe=C(Je),_e=p(Je,"DIV",{});var Kr=g(_e);Ke=p(Kr,"DIV",{class:!0});var en=g(Ke);ct=p(en,"DIV",{class:!0});var qr=g(ct);De=P(qr,Ge),qr.forEach(f),ze=C(en),tt=p(en,"BUTTON",{class:!0,type:!0});var Xr=g(tt);Zt.l(Xr),Xr.forEach(f),en.forEach(f),Kr.forEach(f),Le=C(Je),ft=p(Je,"DIV",{});var Qr=g(ft);_t=p(Qr,"DIV",{class:!0});var tn=g(_t);yt=p(tn,"DIV",{class:!0});var ea=g(yt);Te=P(ea,le),ea.forEach(f),Pe=C(tn),Ne=p(tn,"BUTTON",{class:!0,type:!0});var ta=g(Ne);Gt.l(ta),ta.forEach(f),tn.forEach(f),Qr.forEach(f),Xe=C(Je),vt=p(Je,"DIV",{});var la=g(vt);Et=p(la,"DIV",{class:!0});var ln=g(Et);St=p(ln,"DIV",{class:!0});var sa=g(St);Vl=P(sa,It),sa.forEach(f),Ml=C(ln),Mt=p(ln,"BUTTON",{class:!0,type:!0});var na=g(Mt);Jt.l(na),na.forEach(f),ln.forEach(f),la.forEach(f),vl=C(Je),gl=p(Je,"DIV",{});var ra=g(gl);Pt=p(ra,"DIV",{class:!0});var sn=g(Pt);il=p(sn,"DIV",{class:!0});var aa=g(il);Al=P(aa,rl),aa.forEach(f),Bl=C(sn),Bt=p(sn,"BUTTON",{class:!0,type:!0});var oa=g(Bt);Kt.l(oa),oa.forEach(f),sn.forEach(f),ra.forEach(f),Ul=C(Je),ts=p(Je,"DIV",{});var ia=g(ts);bl=p(ia,"DIV",{class:!0});var nn=g(bl);Hl=p(nn,"DIV",{class:!0});var ca=g(Hl);ks=P(ca,ls),ca.forEach(f),Dn=C(nn),cl=p(nn,"BUTTON",{class:!0,type:!0});var fa=g(cl);qt.l(fa),fa.forEach(f),nn.forEach(f),ia.forEach(f),Tn=C(Je),ss=p(Je,"DIV",{});var ua=g(ss);wl=p(ua,"DIV",{class:!0});var rn=g(wl);Pl=p(rn,"DIV",{class:!0});var da=g(Pl);ys=P(da,ns),da.forEach(f),Vn=C(rn),fl=p(rn,"BUTTON",{class:!0,type:!0});var ha=g(fl);Xt.l(ha),ha.forEach(f),rn.forEach(f),ua.forEach(f),An=C(Je),rs=p(Je,"DIV",{});var ma=g(rs);kl=p(ma,"DIV",{class:!0});var an=g(kl);jl=p(an,"DIV",{class:!0});var pa=g(jl);Es=P(pa,as),pa.forEach(f),Cn=C(an),ul=p(an,"BUTTON",{class:!0,type:!0});var _a=g(ul);Qt.l(_a),_a.forEach(f),an.forEach(f),ma.forEach(f),Sn=C(Je),Rl=p(Je,"DIV",{class:!0});var va=g(Rl);Is=P(va,os),va.forEach(f),$n=C(Je),is=p(Je,"DIV",{});var ga=g(is);yl=p(ga,"DIV",{class:!0});var on=g(yl);xl=p(on,"DIV",{class:!0});var ba=g(xl);Ds=P(ba,cs),ba.forEach(f),Nn=C(on),dl=p(on,"BUTTON",{class:!0,type:!0});var wa=g(dl);el.l(wa),wa.forEach(f),on.forEach(f),ga.forEach(f),On=C(Je),fs=p(Je,"DIV",{});var ka=g(fs);El=p(ka,"DIV",{class:!0});var cn=g(El);zl=p(cn,"DIV",{class:!0});var ya=g(zl);Ts=P(ya,us),ya.forEach(f),Ln=C(cn),hl=p(cn,"BUTTON",{class:!0,type:!0});var Ea=g(hl);tl.l(Ea),Ea.forEach(f),cn.forEach(f),ka.forEach(f),Mn=C(Je),Fl=p(Je,"DIV",{class:!0});var Ia=g(Fl);Vs=P(Ia,ds),Ia.forEach(f),Bn=C(Je),hs=p(Je,"DIV",{});var Da=g(hs);Il=p(Da,"DIV",{class:!0});var fn=g(Il);Wl=p(fn,"DIV",{class:!0});var Ta=g(Wl);As=P(Ta,ms),Ta.forEach(f),Un=C(fn),ml=p(fn,"BUTTON",{class:!0,type:!0});var Va=g(ml);ll.l(Va),Va.forEach(f),fn.forEach(f),Da.forEach(f),Hn=C(Je),Vt&&Vt.l(Je),Je.forEach(f),Tr.forEach(f),Pn=C(Ve),Yl=p(Ve,"DIV",{class:!0});var Aa=g(Yl);Cl=p(Aa,"BUTTON",{class:!0,type:!0});var Ca=g(Cl);Cs=P(Ca,ps),Ca.forEach(f),Aa.forEach(f),Ve.forEach(f),this.h()},h(){u(t,"type","file"),t.hidden=!0,u(t,"accept","image/*"),u(o,"class","mb-1.5 text-sm font-medium"),u(v,"class","self-center text-xs"),u(k,"class","p-1 px-3 text-xs flex rounded transition"),u(k,"type","button"),u(_,"class","py-0.5 flex w-full justify-between"),u(E,"class","self-center text-xs"),u(L,"class","p-1 px-3 text-xs flex rounded transition"),u(L,"type","button"),u(I,"class","py-0.5 flex w-full justify-between"),u(O,"class","self-center text-xs"),u(G,"class","p-1 px-3 text-xs flex rounded transition"),u(G,"type","button"),u(q,"class","py-0.5 flex w-full justify-between"),u(X,"class","self-center text-xs"),u(ue,"class","p-1 px-3 text-xs flex rounded transition"),u(ue,"type","button"),u(x,"class","py-0.5 flex w-full justify-between"),u(de,"class","self-center text-xs"),u(be,"class","p-1 px-3 text-xs flex rounded transition"),u(be,"type","button"),u(pe,"class","py-0.5 flex w-full justify-between"),u(Re,"class","my-1.5 text-sm font-medium"),u(Ze,"class","self-center text-xs"),u(ge,"class","p-1 px-3 text-xs flex rounded transition"),u(ge,"type","button"),u(xe,"class","py-0.5 flex w-full justify-between"),u(pt,"class","self-center text-xs"),u(qe,"class","p-1 px-3 text-xs flex rounded transition"),u(qe,"type","button"),u(Ue,"class","py-0.5 flex w-full justify-between"),u(ct,"class","self-center text-xs"),u(tt,"class","p-1 px-3 text-xs flex rounded transition"),u(tt,"type","button"),u(Ke,"class","py-0.5 flex w-full justify-between"),u(yt,"class","self-center text-xs"),u(Ne,"class","p-1 px-3 text-xs flex rounded transition"),u(Ne,"type","button"),u(_t,"class","py-0.5 flex w-full justify-between"),u(St,"class","self-center text-xs"),u(Mt,"class","p-1 px-3 text-xs flex rounded transition"),u(Mt,"type","button"),u(Et,"class","py-0.5 flex w-full justify-between"),u(il,"class","self-center text-xs"),u(Bt,"class","p-1 px-3 text-xs flex rounded transition"),u(Bt,"type","button"),u(Pt,"class","py-0.5 flex w-full justify-between"),u(Hl,"class","self-center text-xs"),u(cl,"class","p-1 px-3 text-xs flex rounded transition"),u(cl,"type","button"),u(bl,"class","py-0.5 flex w-full justify-between"),u(Pl,"class","self-center text-xs"),u(fl,"class","p-1 px-3 text-xs flex rounded transition"),u(fl,"type","button"),u(wl,"class","py-0.5 flex w-full justify-between"),u(jl,"class","self-center text-xs"),u(ul,"class","p-1 px-3 text-xs flex rounded transition"),u(ul,"type","button"),u(kl,"class","py-0.5 flex w-full justify-between"),u(Rl,"class","my-1.5 text-sm font-medium"),u(xl,"class","self-center text-xs"),u(dl,"class","p-1 px-3 text-xs flex rounded transition"),u(dl,"type","button"),u(yl,"class","py-0.5 flex w-full justify-between"),u(zl,"class","self-center text-xs"),u(hl,"class","p-1 px-3 text-xs flex rounded transition"),u(hl,"type","button"),u(El,"class","py-0.5 flex w-full justify-between"),u(Fl,"class","my-1.5 text-sm font-medium"),u(Wl,"class","self-center text-xs"),u(ml,"class","p-1 px-3 text-xs flex rounded transition"),u(ml,"type","button"),u(Il,"class","py-0.5 flex w-full justify-between"),u(s,"class","space-y-3 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(Cl,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(Cl,"type","submit"),u(Yl,"class","flex justify-end text-sm font-medium"),u(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(re,Ve){M(re,e,Ve),c(e,t),n[49](t),c(e,l),c(e,s),c(s,r),c(r,o),c(o,i),c(r,d),c(r,h),c(h,_),c(_,v),c(v,w),c(_,y),c(_,k),jt.m(k,null),c(r,V),c(r,U),c(U,I),c(I,E),c(E,$),c(I,T),c(I,L),Rt.m(L,null),c(r,N),Dt&&Dt.m(r,null),c(r,S),c(r,W),c(W,q),c(q,O),c(O,Y),c(q,J),c(q,G),xt.m(G,null),c(r,R),c(r,j),c(j,x),c(x,X),c(X,ee),c(x,se),c(x,ue),zt.m(ue,null),c(r,he),c(r,me),c(me,pe),c(pe,de),c(de,Fe),c(pe,Be),c(pe,be),Ft.m(be,null),c(r,ne),Tt&&Tt.m(r,null),c(r,ye),c(r,Re),c(Re,Ie),c(r,Ae),c(r,Se),c(Se,xe),c(xe,Ze),c(Ze,Q),c(xe,ve),c(xe,ge),Wt.m(ge,null),c(r,$e),c(r,Oe),c(Oe,Ue),c(Ue,pt),c(pt,we),c(Ue,He),c(Ue,qe),Yt.m(qe,null),c(r,fe),c(r,_e),c(_e,Ke),c(Ke,ct),c(ct,De),c(Ke,ze),c(Ke,tt),Zt.m(tt,null),c(r,Le),c(r,ft),c(ft,_t),c(_t,yt),c(yt,Te),c(_t,Pe),c(_t,Ne),Gt.m(Ne,null),c(r,Xe),c(r,vt),c(vt,Et),c(Et,St),c(St,Vl),c(Et,Ml),c(Et,Mt),Jt.m(Mt,null),c(r,vl),c(r,gl),c(gl,Pt),c(Pt,il),c(il,Al),c(Pt,Bl),c(Pt,Bt),Kt.m(Bt,null),c(r,Ul),c(r,ts),c(ts,bl),c(bl,Hl),c(Hl,ks),c(bl,Dn),c(bl,cl),qt.m(cl,null),c(r,Tn),c(r,ss),c(ss,wl),c(wl,Pl),c(Pl,ys),c(wl,Vn),c(wl,fl),Xt.m(fl,null),c(r,An),c(r,rs),c(rs,kl),c(kl,jl),c(jl,Es),c(kl,Cn),c(kl,ul),Qt.m(ul,null),c(r,Sn),c(r,Rl),c(Rl,Is),c(r,$n),c(r,is),c(is,yl),c(yl,xl),c(xl,Ds),c(yl,Nn),c(yl,dl),el.m(dl,null),c(r,On),c(r,fs),c(fs,El),c(El,zl),c(zl,Ts),c(El,Ln),c(El,hl),tl.m(hl,null),c(r,Mn),c(r,Fl),c(Fl,Vs),c(r,Bn),c(r,hs),c(hs,Il),c(Il,Wl),c(Wl,As),c(Il,Un),c(Il,ml),ll.m(ml,null),c(r,Hn),Vt&&Vt.m(r,null),c(e,Pn),c(e,Yl),c(Yl,Cl),c(Cl,Cs),jn||(ir=[te(t,"change",n[50]),te(t,"change",n[51]),te(k,"click",n[52]),te(L,"click",n[53]),te(G,"click",n[55]),te(ue,"click",n[47]),te(be,"click",n[56]),te(ge,"click",n[59]),te(qe,"click",n[60]),te(tt,"click",n[61]),te(Ne,"click",n[62]),te(Mt,"click",n[63]),te(Bt,"click",n[64]),te(cl,"click",n[65]),te(fl,"click",n[66]),te(ul,"click",n[67]),te(dl,"click",n[68]),te(hl,"click",n[69]),te(ml,"click",n[70]),te(e,"submit",Ol(n[73]))],jn=!0)},p(re,Ve){Ve[0]&33554432&&a!==(a=re[25].t("UI")+"")&&z(i,a),Ve[0]&33554432&&b!==(b=re[25].t("Landing Page Mode")+"")&&z(w,b),Ss===(Ss=cr(re))&&jt?jt.p(re,Ve):(jt.d(1),jt=Ss(re),jt&&(jt.c(),jt.m(k,null))),Ve[0]&33554432&&D!==(D=re[25].t("Chat Bubble UI")+"")&&z($,D),$s===($s=fr(re))&&Rt?Rt.p(re,Ve):(Rt.d(1),Rt=$s(re),Rt&&(Rt.c(),Rt.m(L,null))),re[24].chatBubble?Dt&&(Dt.d(1),Dt=null):Dt?Dt.p(re,Ve):(Dt=Ho(re),Dt.c(),Dt.m(r,S)),Ve[0]&33554432&&B!==(B=re[25].t("Widescreen Mode")+"")&&z(Y,B),Ns===(Ns=ur(re))&&xt?xt.p(re,Ve):(xt.d(1),xt=Ns(re),xt&&(xt.c(),xt.m(G,null))),Ve[0]&33554432&&K!==(K=re[25].t("Chat direction")+"")&&z(ee,K),Os===(Os=dr(re))&&zt?zt.p(re,Ve):(zt.d(1),zt=Os(re),zt&&(zt.c(),zt.m(ue,null))),Ve[0]&33554432&&ke!==(ke=re[25].t("Notification Sound")+"")&&z(Fe,ke),Ls===(Ls=hr(re))&&Ft?Ft.p(re,Ve):(Ft.d(1),Ft=Ls(re),Ft&&(Ft.c(),Ft.m(be,null))),re[26].role==="admin"?Tt?Tt.p(re,Ve):(Tt=Po(re),Tt.c(),Tt.m(r,ye)):Tt&&(Tt.d(1),Tt=null),Ve[0]&33554432&&We!==(We=re[25].t("Chat")+"")&&z(Ie,We),Ve[0]&33554432&&nt!==(nt=re[25].t("Title Auto-Generation")+"")&&z(Q,nt),Ms===(Ms=mr(re))&&Wt?Wt.p(re,Ve):(Wt.d(1),Wt=Ms(re),Wt&&(Wt.c(),Wt.m(ge,null))),Ve[0]&33554432&&mt!==(mt=re[25].t("Chat Tags Auto-Generation")+"")&&z(we,mt),Bs===(Bs=pr(re))&&Yt?Yt.p(re,Ve):(Yt.d(1),Yt=Bs(re),Yt&&(Yt.c(),Yt.m(qe,null))),Ve[0]&33554432&&Ge!==(Ge=re[25].t("Auto-Copy Response to Clipboard")+"")&&z(De,Ge),Us===(Us=_r(re))&&Zt?Zt.p(re,Ve):(Zt.d(1),Zt=Us(re),Zt&&(Zt.c(),Zt.m(tt,null))),Ve[0]&33554432&&le!==(le=re[25].t("Rich Text Input for Chat")+"")&&z(Te,le),Hs===(Hs=vr(re))&&Gt?Gt.p(re,Ve):(Gt.d(1),Gt=Hs(re),Gt&&(Gt.c(),Gt.m(Ne,null))),Ve[0]&33554432&&It!==(It=re[25].t("Paste Large Text as File")+"")&&z(Vl,It),Ps===(Ps=gr(re))&&Jt?Jt.p(re,Ve):(Jt.d(1),Jt=Ps(re),Jt&&(Jt.c(),Jt.m(Mt,null))),Ve[0]&33554432&&rl!==(rl=re[25].t("Chat Background Image")+"")&&z(Al,rl),js===(js=br(re))&&Kt?Kt.p(re,Ve):(Kt.d(1),Kt=js(re),Kt&&(Kt.c(),Kt.m(Bt,null))),Ve[0]&33554432&&ls!==(ls=re[25].t("Allow User Location")+"")&&z(ks,ls),Rs===(Rs=wr(re))&&qt?qt.p(re,Ve):(qt.d(1),qt=Rs(re),qt&&(qt.c(),qt.m(cl,null))),Ve[0]&33554432&&ns!==(ns=re[25].t("Haptic Feedback")+"")&&z(ys,ns),xs===(xs=kr(re))&&Xt?Xt.p(re,Ve):(Xt.d(1),Xt=xs(re),Xt&&(Xt.c(),Xt.m(fl,null))),Ve[0]&33554432&&as!==(as=re[25].t("Scroll to bottom when switching between branches")+"")&&z(Es,as),zs===(zs=yr(re))&&Qt?Qt.p(re,Ve):(Qt.d(1),Qt=zs(re),Qt&&(Qt.c(),Qt.m(ul,null))),Ve[0]&33554432&&os!==(os=re[25].t("Voice")+"")&&z(Is,os),Ve[0]&33554432&&cs!==(cs=re[25].t("Allow Voice Interruption in Call")+"")&&z(Ds,cs),Fs===(Fs=Er(re))&&el?el.p(re,Ve):(el.d(1),el=Fs(re),el&&(el.c(),el.m(dl,null))),Ve[0]&33554432&&us!==(us=re[25].t("Display Emoji in Call")+"")&&z(Ts,us),Ws===(Ws=Ir(re))&&tl?tl.p(re,Ve):(tl.d(1),tl=Ws(re),tl&&(tl.c(),tl.m(hl,null))),Ve[0]&33554432&&ds!==(ds=re[25].t("File")+"")&&z(Vs,ds),Ve[0]&33554432&&ms!==(ms=re[25].t("Image Compression")+"")&&z(As,ms),Ys===(Ys=Dr(re))&&ll?ll.p(re,Ve):(ll.d(1),ll=Ys(re),ll&&(ll.c(),ll.m(ml,null))),re[17]?Vt?Vt.p(re,Ve):(Vt=jo(re),Vt.c(),Vt.m(r,null)):Vt&&(Vt.d(1),Vt=null),Ve[0]&33554432&&ps!==(ps=re[25].t("Save")+"")&&z(Cs,ps)},i:Ce,o:Ce,d(re){re&&f(e),n[49](null),jt.d(),Rt.d(),Dt&&Dt.d(),xt.d(),zt.d(),Ft.d(),Tt&&Tt.d(),Wt.d(),Yt.d(),Zt.d(),Gt.d(),Jt.d(),Kt.d(),qt.d(),Xt.d(),Qt.d(),el.d(),tl.d(),ll.d(),Vt&&Vt.d(),jn=!1,rt(ir)}}}function Fh(n,e,t){let l,s,r,o;Ee(n,Ht,Le=>t(24,l=Le)),Ee(n,es,Le=>t(76,s=Le)),Ee(n,Tl,Le=>t(26,o=Le));const a=At(),i=wt("i18n");Ee(n,i,Le=>t(25,r=Le));let{saveSettings:d}=e,h=null,_=null,v,b=!0,w=!0,y=!1,k=!1,V=!0,U=!1,I="",E=!1,D=!0,$=!1,T=!0,L="",N=!0,S="LTR",W=!1,q={width:"",height:""},O=!0,B=!0,Y=!1,J=!1,G=!1;const R=async()=>{t(8,V=!V),d({scrollOnBranchChange:V})},j=async()=>{t(7,k=!k),d({widescreenMode:k})},x=async()=>{t(15,N=!N),d({chatBubble:N})},X=async()=>{t(14,L=L===""?"chat":""),d({landingPageMode:L})},K=async()=>{t(19,O=!O),d({showUpdateToast:O})},ee=async()=>{t(13,T=!T),d({notificationSound:T})},se=async()=>{t(20,B=!B),d({showChangelog:B})},ue=async()=>{t(10,E=!E),d({showUsername:E})},he=async()=>{t(21,Y=!Y),d({showEmojiInCall:Y})},me=async()=>{t(22,J=!J),d({voiceInterruption:J})},pe=async()=>{t(17,W=!W),d({imageCompression:W})},de=async()=>{t(23,G=!G),d({hapticFeedback:G})},ke=async()=>{if(t(9,U=!U),U){const Le=await sc().catch(ft=>(Me.error(ft.message),null));Le?(await ic(localStorage.token,{location:Le}),Me.success(r.t("User location successfully retrieved."))):t(9,U=!1)}d({userLocation:U})},Fe=async()=>{t(4,b=!b),d({title:{...l.title,auto:b}})},Be=async()=>{t(5,w=!w),d({autoTags:w})},be=async()=>{t(11,D=!D),d({richTextInput:D})},ne=async()=>{t(12,$=!$),d({largeTextAsFile:$})},ye=async()=>{const Le=await navigator.clipboard.readText().then(()=>"granted").catch(()=>"");console.log(Le),Le==="granted"?(t(6,y=!y),d({responseAutoCopy:y})):Me.error(r.t("Clipboard write permission denied. Please check your browser settings to grant the necessary access."))},Re=async()=>{t(16,S=S==="LTR"?"RTL":"LTR"),d({chatDirection:S})},We=async()=>{d({models:[I],imageCompressionSize:q})};Ct(async()=>{var Le,ft;t(4,b=((Le=l==null?void 0:l.title)==null?void 0:Le.auto)??!0),t(5,w=l.autoTags??!0),t(6,y=l.responseAutoCopy??!1),t(10,E=l.showUsername??!1),t(19,O=l.showUpdateToast??!0),t(20,B=l.showChangelog??!0),t(21,Y=l.showEmojiInCall??!1),t(22,J=l.voiceInterruption??!1),t(11,D=l.richTextInput??!0),t(12,$=l.largeTextAsFile??!1),t(14,L=l.landingPageMode??""),t(15,N=l.chatBubble??!0),t(7,k=l.widescreenMode??!1),l.splitLargeChunks,t(8,V=l.scrollOnBranchChange??!0),t(16,S=l.chatDirection??"LTR"),t(9,U=l.userLocation??!1),t(13,T=l.notificationSound??!0),t(23,G=l.hapticFeedback??!1),t(17,W=l.imageCompression??!1),t(18,q=l.imageCompressionSize??{width:"",height:""}),I=((ft=l==null?void 0:l.models)==null?void 0:ft.at(0))??"",s!=null&&s.default_models&&(I=s.default_models.split(",")[0]),t(1,h=l.backgroundImageUrl??null)});function Ie(Le){lt[Le?"unshift":"push"](()=>{v=Le,t(3,v)})}function Ae(){_=this.files,t(2,_)}const Se=()=>{let Le=new FileReader;Le.onload=ft=>{let _t=`${ft.target.result}`;t(1,h=_t),d({backgroundImageUrl:h})},_&&_.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(_[0].type)?Le.readAsDataURL(_[0]):(console.log(`Unsupported File Type '${_[0].type}'.`),t(2,_=null))},xe=()=>{X()},Ze=()=>{x()},nt=()=>{ue()},Q=()=>{j()},ve=()=>{ee()},ge=()=>{K()},$e=()=>{se()},Oe=()=>{Fe()},Ue=()=>{Be()},pt=()=>{ye()},mt=()=>{be()},we=()=>{ne()},He=()=>{h!==null?(t(1,h=null),d({backgroundImageUrl:h})):v.click()},qe=()=>{ke()},fe=()=>{de()},_e=()=>{R()},Ke=()=>{me()},ct=()=>{he()},Ge=()=>{pe()};function De(){q.width=vn(this.value),t(18,q)}function ze(){q.height=vn(this.value),t(18,q)}const tt=()=>{We(),a("save")};return n.$$set=Le=>{"saveSettings"in Le&&t(0,d=Le.saveSettings)},[d,h,_,v,b,w,y,k,V,U,E,D,$,T,L,N,S,W,q,O,B,Y,J,G,l,r,o,a,i,R,j,x,X,K,ee,se,ue,he,me,pe,de,ke,Fe,Be,be,ne,ye,Re,We,Ie,Ae,Se,xe,Ze,nt,Q,ve,ge,$e,Oe,Ue,pt,mt,we,He,qe,fe,_e,Ke,ct,Ge,De,ze,tt]}class Wh extends ot{constructor(e){super(),it(this,e,Fh,zh,at,{saveSettings:0},null,[-1,-1,-1])}}function Ro(n,e,t){const l=n.slice();return l[9]=e[t],l}function xo(n,e,t){const l=n.slice();return l[27]=e[t],l}function zo(n,e,t){const l=n.slice();return l[32]=e[t],l}function Fo(n){let e,t,l=n[8].t("Speech-to-Text Engine")+"",s,r,o,a,i,d=n[8].t("Default")+"",h,_,v=n[8].t("Web API")+"",b,w,y;return{c(){e=m("div"),t=m("div"),s=H(l),r=A(),o=m("div"),a=m("select"),i=m("option"),h=H(d),_=m("option"),b=H(v),this.h()},l(k){e=p(k,"DIV",{class:!0});var V=g(e);t=p(V,"DIV",{class:!0});var U=g(t);s=P(U,l),U.forEach(f),r=C(V),o=p(V,"DIV",{class:!0});var I=g(o);a=p(I,"SELECT",{class:!0,placeholder:!0});var E=g(a);i=p(E,"OPTION",{});var D=g(i);h=P(D,d),D.forEach(f),_=p(E,"OPTION",{});var $=g(_);b=P($,v),$.forEach(f),E.forEach(f),I.forEach(f),V.forEach(f),this.h()},h(){u(t,"class","self-center text-xs font-medium"),i.__value="",je(i,i.__value),_.__value="web",je(_,_.__value),u(a,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),u(a,"placeholder","Select an engine"),n[4]===void 0&&Nl(()=>n[15].call(a)),u(o,"class","flex items-center relative"),u(e,"class","py-0.5 flex w-full justify-between")},m(k,V){M(k,e,V),c(e,t),c(t,s),c(e,r),c(e,o),c(o,a),c(a,i),c(i,h),c(a,_),c(_,b),al(a,n[4],!0),w||(y=te(a,"change",n[15]),w=!0)},p(k,V){V[0]&256&&l!==(l=k[8].t("Speech-to-Text Engine")+"")&&z(s,l),V[0]&256&&d!==(d=k[8].t("Default")+"")&&z(h,d),V[0]&256&&v!==(v=k[8].t("Web API")+"")&&z(b,v),V[0]&16&&al(a,k[4])},d(k){k&&f(e),w=!1,y()}}}function Yh(n){let e,t=n[8].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&256&&t!==(t=s[8].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function Zh(n){let e,t=n[8].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&256&&t!==(t=s[8].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function Gh(n){let e,t=n[8].t("Off")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&256&&t!==(t=s[8].t("Off")+"")&&z(l,t)},d(s){s&&f(e)}}}function Jh(n){let e,t=n[8].t("On")+"",l;return{c(){e=m("span"),l=H(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&256&&t!==(t=s[8].t("On")+"")&&z(l,t)},d(s){s&&f(e)}}}function Wo(n){let e,t=n[32]+"",l,s,r;return{c(){e=m("option"),l=H(t),s=H("x"),this.h()},l(o){e=p(o,"OPTION",{});var a=g(e);l=P(a,t),s=P(a,"x"),a.forEach(f),this.h()},h(){e.__value=n[32],je(e,e.__value),e.selected=r=n[6]===n[32]},m(o,a){M(o,e,a),c(e,l),c(e,s)},p(o,a){a[0]&4160&&r!==(r=o[6]===o[32])&&(e.selected=r)},d(o){o&&f(e)}}}function Kh(n){let e,t,l=n[8].t("Set Voice")+"",s,r,o,a,i,d,h,_,v,b=st(n[5]),w=[];for(let y=0;y<b.length;y+=1)w[y]=Yo(Ro(n,b,y));return{c(){e=m("div"),t=m("div"),s=H(l),r=A(),o=m("div"),a=m("div"),i=m("input"),d=A(),h=m("datalist");for(let y=0;y<w.length;y+=1)w[y].c();this.h()},l(y){e=p(y,"DIV",{});var k=g(e);t=p(k,"DIV",{class:!0});var V=g(t);s=P(V,l),V.forEach(f),r=C(k),o=p(k,"DIV",{class:!0});var U=g(o);a=p(U,"DIV",{class:!0});var I=g(a);i=p(I,"INPUT",{list:!0,class:!0,placeholder:!0}),d=C(I),h=p(I,"DATALIST",{id:!0});var E=g(h);for(let D=0;D<w.length;D+=1)w[D].l(E);E.forEach(f),I.forEach(f),U.forEach(f),k.forEach(f),this.h()},h(){u(t,"class","mb-2.5 text-sm font-medium"),u(i,"list","voice-list"),u(i,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),u(i,"placeholder","Select a voice"),u(h,"id","voice-list"),u(a,"class","flex-1"),u(o,"class","flex w-full")},m(y,k){M(y,e,k),c(e,t),c(t,s),c(e,r),c(e,o),c(o,a),c(a,i),je(i,n[9]),c(a,d),c(a,h);for(let V=0;V<w.length;V+=1)w[V]&&w[V].m(h,null);_||(v=te(i,"input",n[22]),_=!0)},p(y,k){if(k[0]&256&&l!==(l=y[8].t("Set Voice")+"")&&z(s,l),k[0]&552&&i.value!==y[9]&&je(i,y[9]),k[0]&32){b=st(y[5]);let V;for(V=0;V<b.length;V+=1){const U=Ro(y,b,V);w[V]?w[V].p(U,k):(w[V]=Yo(U),w[V].c(),w[V].m(h,null))}for(;V<w.length;V+=1)w[V].d(1);w.length=b.length}},i:Ce,o:Ce,d(y){y&&f(e),$t(w,y),_=!1,v()}}}function qh(n){let e,t,l=n[8].t("Set Voice")+"",s,r,o,a,i,d,h=n[8].t("Default")+"",_,v,b,w,y,k=n[8].t("Allow non-local voices")+"",V,U,I,E,D,$,T,L,N=st(n[5].filter(n[19])),S=[];for(let O=0;O<N.length;O+=1)S[O]=Zo(xo(n,N,O));function W(O){n[21](O)}let q={};return n[3]!==void 0&&(q.state=n[3]),E=new Mi({props:q}),lt.push(()=>ht(E,"state",W)),{c(){e=m("div"),t=m("div"),s=H(l),r=A(),o=m("div"),a=m("div"),i=m("select"),d=m("option"),_=H(h);for(let O=0;O<S.length;O+=1)S[O].c();b=A(),w=m("div"),y=m("div"),V=H(k),U=A(),I=m("div"),ae(E.$$.fragment),this.h()},l(O){e=p(O,"DIV",{});var B=g(e);t=p(B,"DIV",{class:!0});var Y=g(t);s=P(Y,l),Y.forEach(f),r=C(B),o=p(B,"DIV",{class:!0});var J=g(o);a=p(J,"DIV",{class:!0});var G=g(a);i=p(G,"SELECT",{class:!0});var R=g(i);d=p(R,"OPTION",{});var j=g(d);_=P(j,h),j.forEach(f);for(let ee=0;ee<S.length;ee+=1)S[ee].l(R);R.forEach(f),G.forEach(f),J.forEach(f),b=C(B),w=p(B,"DIV",{class:!0});var x=g(w);y=p(x,"DIV",{class:!0});var X=g(y);V=P(X,k),X.forEach(f),U=C(x),I=p(x,"DIV",{class:!0});var K=g(I);oe(E.$$.fragment,K),K.forEach(f),x.forEach(f),B.forEach(f),this.h()},h(){u(t,"class","mb-2.5 text-sm font-medium"),d.__value="",je(d,d.__value),d.selected=v=n[9]!=="",u(i,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),n[9]===void 0&&Nl(()=>n[20].call(i)),u(a,"class","flex-1"),u(o,"class","flex w-full"),u(y,"class","text-xs"),u(I,"class","mt-1"),u(w,"class","flex items-center justify-between my-1.5")},m(O,B){M(O,e,B),c(e,t),c(t,s),c(e,r),c(e,o),c(o,a),c(a,i),c(i,d),c(d,_);for(let Y=0;Y<S.length;Y+=1)S[Y]&&S[Y].m(i,null);al(i,n[9],!0),c(e,b),c(e,w),c(w,y),c(y,V),c(w,U),c(w,I),ie(E,I,null),$=!0,T||(L=te(i,"change",n[20]),T=!0)},p(O,B){if((!$||B[0]&256)&&l!==(l=O[8].t("Set Voice")+"")&&z(s,l),(!$||B[0]&256)&&h!==(h=O[8].t("Default")+"")&&z(_,h),(!$||B[0]&552&&v!==(v=O[9]!==""))&&(d.selected=v),B[0]&552){N=st(O[5].filter(O[19]));let J;for(J=0;J<N.length;J+=1){const G=xo(O,N,J);S[J]?S[J].p(G,B):(S[J]=Zo(G),S[J].c(),S[J].m(i,null))}for(;J<S.length;J+=1)S[J].d(1);S.length=N.length}B[0]&552&&al(i,O[9]),(!$||B[0]&256)&&k!==(k=O[8].t("Allow non-local voices")+"")&&z(V,k);const Y={};!D&&B[0]&8&&(D=!0,Y.state=O[3],dt(()=>D=!1)),E.$set(Y)},i(O){$||(F(E.$$.fragment,O),$=!0)},o(O){Z(E.$$.fragment,O),$=!1},d(O){O&&f(e),$t(S,O),ce(E),T=!1,L()}}}function Yo(n){let e,t=n[9].name+"",l,s;return{c(){e=m("option"),l=H(t),this.h()},l(r){e=p(r,"OPTION",{});var o=g(e);l=P(o,t),o.forEach(f),this.h()},h(){e.__value=s=n[9].id,je(e,e.__value)},m(r,o){M(r,e,o),c(e,l)},p(r,o){o[0]&32&&t!==(t=r[9].name+"")&&z(l,t),o[0]&32&&s!==(s=r[9].id)&&(e.__value=s,je(e,e.__value))},d(r){r&&f(e)}}}function Zo(n){let e,t=n[27].name+"",l,s,r;return{c(){e=m("option"),l=H(t),this.h()},l(o){e=p(o,"OPTION",{class:!0});var a=g(e);l=P(a,t),a.forEach(f),this.h()},h(){e.__value=s=n[27].name,je(e,e.__value),u(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=r=n[9]===n[27].name},m(o,a){M(o,e,a),c(e,l)},p(o,a){a[0]&40&&t!==(t=o[27].name+"")&&z(l,t),a[0]&40&&s!==(s=o[27].name)&&(e.__value=s,je(e,e.__value)),a[0]&552&&r!==(r=o[9]===o[27].name)&&(e.selected=r)},d(o){o&&f(e)}}}function Xh(n){let e,t,l,s,r=n[8].t("STT Settings")+"",o,a,i,d,h,_=n[8].t("Instant Auto-Send After Voice Transcription")+"",v,b,w,y,k,V,U=n[8].t("TTS Settings")+"",I,E,D,$,T=n[8].t("Auto-playback response")+"",L,N,S,W,q,O,B=n[8].t("Speech Playback Speed")+"",Y,J,G,R,j,x,X,K,ee,se,ue,he,me=n[8].t("Save")+"",pe,de,ke,Fe,Be=n[7].audio.stt.engine!=="web"&&Fo(n);function be(Q,ve){return Q[1]===!0?Zh:Yh}let ne=be(n),ye=ne(n);function Re(Q,ve){return Q[2]===!0?Jh:Gh}let We=Re(n),Ie=We(n),Ae=st(n[12]),Se=[];for(let Q=0;Q<Ae.length;Q+=1)Se[Q]=Wo(zo(n,Ae,Q));const xe=[qh,Kh],Ze=[];function nt(Q,ve){return Q[7].audio.tts.engine===""?0:Q[7].audio.tts.engine!==""?1:-1}return~(K=nt(n))&&(ee=Ze[K]=xe[K](n)),{c(){e=m("form"),t=m("div"),l=m("div"),s=m("div"),o=H(r),a=A(),Be&&Be.c(),i=A(),d=m("div"),h=m("div"),v=H(_),b=A(),w=m("button"),ye.c(),y=A(),k=m("div"),V=m("div"),I=H(U),E=A(),D=m("div"),$=m("div"),L=H(T),N=A(),S=m("button"),Ie.c(),W=A(),q=m("div"),O=m("div"),Y=H(B),J=A(),G=m("div"),R=m("select");for(let Q=0;Q<Se.length;Q+=1)Se[Q].c();j=A(),x=m("hr"),X=A(),ee&&ee.c(),se=A(),ue=m("div"),he=m("button"),pe=H(me),this.h()},l(Q){e=p(Q,"FORM",{class:!0});var ve=g(e);t=p(ve,"DIV",{class:!0});var ge=g(t);l=p(ge,"DIV",{});var $e=g(l);s=p($e,"DIV",{class:!0});var Oe=g(s);o=P(Oe,r),Oe.forEach(f),a=C($e),Be&&Be.l($e),i=C($e),d=p($e,"DIV",{class:!0});var Ue=g(d);h=p(Ue,"DIV",{class:!0});var pt=g(h);v=P(pt,_),pt.forEach(f),b=C(Ue),w=p(Ue,"BUTTON",{class:!0,type:!0});var mt=g(w);ye.l(mt),mt.forEach(f),Ue.forEach(f),$e.forEach(f),y=C(ge),k=p(ge,"DIV",{});var we=g(k);V=p(we,"DIV",{class:!0});var He=g(V);I=P(He,U),He.forEach(f),E=C(we),D=p(we,"DIV",{class:!0});var qe=g(D);$=p(qe,"DIV",{class:!0});var fe=g($);L=P(fe,T),fe.forEach(f),N=C(qe),S=p(qe,"BUTTON",{class:!0,type:!0});var _e=g(S);Ie.l(_e),_e.forEach(f),qe.forEach(f),W=C(we),q=p(we,"DIV",{class:!0});var Ke=g(q);O=p(Ke,"DIV",{class:!0});var ct=g(O);Y=P(ct,B),ct.forEach(f),J=C(Ke),G=p(Ke,"DIV",{class:!0});var Ge=g(G);R=p(Ge,"SELECT",{class:!0});var De=g(R);for(let Le=0;Le<Se.length;Le+=1)Se[Le].l(De);De.forEach(f),Ge.forEach(f),Ke.forEach(f),we.forEach(f),j=C(ge),x=p(ge,"HR",{class:!0}),X=C(ge),ee&&ee.l(ge),ge.forEach(f),se=C(ve),ue=p(ve,"DIV",{class:!0});var ze=g(ue);he=p(ze,"BUTTON",{class:!0,type:!0});var tt=g(he);pe=P(tt,me),tt.forEach(f),ze.forEach(f),ve.forEach(f),this.h()},h(){u(s,"class","mb-1 text-sm font-medium"),u(h,"class","self-center text-xs font-medium"),u(w,"class","p-1 px-3 text-xs flex rounded transition"),u(w,"type","button"),u(d,"class","py-0.5 flex w-full justify-between"),u(V,"class","mb-1 text-sm font-medium"),u($,"class","self-center text-xs font-medium"),u(S,"class","p-1 px-3 text-xs flex rounded transition"),u(S,"type","button"),u(D,"class","py-0.5 flex w-full justify-between"),u(O,"class","self-center text-xs font-medium"),u(R,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n[6]===void 0&&Nl(()=>n[18].call(R)),u(G,"class","flex items-center relative"),u(q,"class","py-0.5 flex w-full justify-between"),u(x,"class","dark:border-gray-850"),u(t,"class","space-y-3 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(he,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(he,"type","submit"),u(ue,"class","flex justify-end text-sm font-medium"),u(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Q,ve){M(Q,e,ve),c(e,t),c(t,l),c(l,s),c(s,o),c(l,a),Be&&Be.m(l,null),c(l,i),c(l,d),c(d,h),c(h,v),c(d,b),c(d,w),ye.m(w,null),c(t,y),c(t,k),c(k,V),c(V,I),c(k,E),c(k,D),c(D,$),c($,L),c(D,N),c(D,S),Ie.m(S,null),c(k,W),c(k,q),c(q,O),c(O,Y),c(q,J),c(q,G),c(G,R);for(let ge=0;ge<Se.length;ge+=1)Se[ge]&&Se[ge].m(R,null);al(R,n[6],!0),c(t,j),c(t,x),c(t,X),~K&&Ze[K].m(t,null),c(e,se),c(e,ue),c(ue,he),c(he,pe),de=!0,ke||(Fe=[te(w,"click",n[16]),te(S,"click",n[17]),te(R,"change",n[18]),te(e,"submit",Ol(n[23]))],ke=!0)},p(Q,ve){if((!de||ve[0]&256)&&r!==(r=Q[8].t("STT Settings")+"")&&z(o,r),Q[7].audio.stt.engine!=="web"?Be?Be.p(Q,ve):(Be=Fo(Q),Be.c(),Be.m(l,i)):Be&&(Be.d(1),Be=null),(!de||ve[0]&256)&&_!==(_=Q[8].t("Instant Auto-Send After Voice Transcription")+"")&&z(v,_),ne===(ne=be(Q))&&ye?ye.p(Q,ve):(ye.d(1),ye=ne(Q),ye&&(ye.c(),ye.m(w,null))),(!de||ve[0]&256)&&U!==(U=Q[8].t("TTS Settings")+"")&&z(I,U),(!de||ve[0]&256)&&T!==(T=Q[8].t("Auto-playback response")+"")&&z(L,T),We===(We=Re(Q))&&Ie?Ie.p(Q,ve):(Ie.d(1),Ie=We(Q),Ie&&(Ie.c(),Ie.m(S,null))),(!de||ve[0]&256)&&B!==(B=Q[8].t("Speech Playback Speed")+"")&&z(Y,B),ve[0]&4160){Ae=st(Q[12]);let $e;for($e=0;$e<Ae.length;$e+=1){const Oe=zo(Q,Ae,$e);Se[$e]?Se[$e].p(Oe,ve):(Se[$e]=Wo(Oe),Se[$e].c(),Se[$e].m(R,null))}for(;$e<Se.length;$e+=1)Se[$e].d(1);Se.length=Ae.length}ve[0]&4160&&al(R,Q[6]);let ge=K;K=nt(Q),K===ge?~K&&Ze[K].p(Q,ve):(ee&&(Qe(),Z(Ze[ge],1,1,()=>{Ze[ge]=null}),et()),~K?(ee=Ze[K],ee?ee.p(Q,ve):(ee=Ze[K]=xe[K](Q),ee.c()),F(ee,1),ee.m(t,null)):ee=null),(!de||ve[0]&256)&&me!==(me=Q[8].t("Save")+"")&&z(pe,me)},i(Q){de||(F(ee),de=!0)},o(Q){Z(ee),de=!1},d(Q){Q&&f(e),Be&&Be.d(),ye.d(),Ie.d(),$t(Se,Q),~K&&Ze[K].d(),ke=!1,rt(Fe)}}}function Qh(n,e,t){let l,s,r;Ee(n,Ht,O=>t(25,l=O)),Ee(n,es,O=>t(7,s=O));const o=At(),a=wt("i18n");Ee(n,a,O=>t(8,r=O));let{saveSettings:i}=e,d=!1,h=!1,_=!1,v="",b=[],w="",y=1;const k=[2,1.75,1.5,1.25,1,.75,.5],V=async()=>{if(s.audio.tts.engine===""){const O=setInterval(async()=>{t(5,b=await speechSynthesis.getVoices()),b.length>0&&clearInterval(O)},100)}else{const O=await qc(localStorage.token).catch(B=>{Me.error(B)});O&&(console.log(O),t(5,b=O.voices))}},U=async()=>{t(2,h=!h),i({responseAutoPlayback:h})},I=async()=>{t(1,d=!d),i({speechAutoSend:d})};Ct(async()=>{var O,B,Y,J,G,R,j,x,X,K;t(6,y=((B=(O=l.audio)==null?void 0:O.tts)==null?void 0:B.playbackRate)??1),l.conversationMode,t(1,d=l.speechAutoSend??!1),t(2,h=l.responseAutoPlayback??!1),t(4,v=((J=(Y=l==null?void 0:l.audio)==null?void 0:Y.stt)==null?void 0:J.engine)??""),((R=(G=l==null?void 0:l.audio)==null?void 0:G.tts)==null?void 0:R.defaultVoice)===s.audio.tts.voice?t(9,w=((x=(j=l==null?void 0:l.audio)==null?void 0:j.tts)==null?void 0:x.voice)??s.audio.tts.voice??""):t(9,w=s.audio.tts.voice??""),t(3,_=((K=(X=l.audio)==null?void 0:X.tts)==null?void 0:K.nonLocalVoices)??!1),await V()});function E(){v=_s(this),t(4,v)}const D=()=>{I()},$=()=>{U()};function T(){y=_s(this),t(6,y),t(12,k)}const L=O=>_||O.localService===!0;function N(){w=_s(this),t(9,w),t(5,b),t(3,_)}function S(O){_=O,t(3,_)}function W(){w=this.value,t(9,w),t(5,b),t(3,_)}const q=async()=>{var O,B;i({audio:{stt:{engine:v!==""?v:void 0},tts:{playbackRate:y,voice:w!==""?w:void 0,defaultVoice:((B=(O=s==null?void 0:s.audio)==null?void 0:O.tts)==null?void 0:B.voice)??"",nonLocalVoices:s.audio.tts.engine===""?_:void 0}}}),o("save")};return n.$$set=O=>{"saveSettings"in O&&t(0,i=O.saveSettings)},[i,d,h,_,v,b,y,s,r,w,o,a,k,U,I,E,D,$,T,L,N,S,W,q]}class e1 extends ot{constructor(e){super(),it(this,e,Qh,Xh,at,{saveSettings:0},null,[-1,-1])}}function t1(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z"></path><path fill-rule="evenodd" d="m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087Zm6.163 3.75A.75.75 0 0 1 10 12h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg>',s,r,o=n[4].t("Archive All Chats")+"",a,i,d;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=H(o),this.h()},l(h){e=p(h,"BUTTON",{class:!0});var _=g(e);t=p(_,"DIV",{class:!0,"data-svelte-h":!0}),Ye(t)!=="svelte-1duozwn"&&(t.innerHTML=l),s=C(_),r=p(_,"DIV",{class:!0});var v=g(r);a=P(v,o),v.forEach(f),_.forEach(f),this.h()},h(){u(t,"class","self-center mr-3"),u(r,"class","self-center text-sm font-medium"),u(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(h,_){M(h,e,_),c(e,t),c(e,s),c(e,r),c(r,a),i||(d=te(e,"click",n[16]),i=!0)},p(h,_){_&16&&o!==(o=h[4].t("Archive All Chats")+"")&&z(a,o)},d(h){h&&f(e),i=!1,d()}}}function l1(n){let e,t,l,s,r,o,a,i=n[4].t("Are you sure?")+"",d,h,_,v,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',w,y,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',V,U;return{c(){e=m("div"),t=m("div"),l=gt("svg"),s=gt("path"),r=gt("path"),o=A(),a=m("span"),d=H(i),h=A(),_=m("div"),v=m("button"),v.innerHTML=b,w=A(),y=m("button"),y.innerHTML=k,this.h()},l(I){e=p(I,"DIV",{class:!0});var E=g(e);t=p(E,"DIV",{class:!0});var D=g(t);l=bt(D,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var $=g(l);s=bt($,"path",{d:!0}),g(s).forEach(f),r=bt($,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(r).forEach(f),$.forEach(f),o=C(D),a=p(D,"SPAN",{});var T=g(a);d=P(T,i),T.forEach(f),D.forEach(f),h=C(E),_=p(E,"DIV",{class:!0});var L=g(_);v=p(L,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(v)!=="svelte-88c061"&&(v.innerHTML=b),w=C(L),y=p(L,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(y)!=="svelte-1601eo8"&&(y.innerHTML=k),L.forEach(f),E.forEach(f),this.h()},h(){u(s,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),u(r,"fill-rule","evenodd"),u(r,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),u(r,"clip-rule","evenodd"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(l,"viewBox","0 0 16 16"),u(l,"fill","currentColor"),u(l,"class","w-4 h-4"),u(t,"class","flex items-center space-x-3"),u(v,"class","hover:text-white transition"),u(y,"class","hover:text-white transition"),u(_,"class","flex space-x-1.5 items-center"),u(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(I,E){M(I,e,E),c(e,t),c(t,l),c(l,s),c(l,r),c(t,o),c(t,a),c(a,d),c(e,h),c(e,_),c(_,v),c(_,w),c(_,y),V||(U=[te(v,"click",n[14]),te(y,"click",n[15])],V=!0)},p(I,E){E&16&&i!==(i=I[4].t("Are you sure?")+"")&&z(d,i)},d(I){I&&f(e),V=!1,rt(U)}}}function s1(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg>',s,r,o=n[4].t("Delete All Chats")+"",a,i,d;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=H(o),this.h()},l(h){e=p(h,"BUTTON",{class:!0});var _=g(e);t=p(_,"DIV",{class:!0,"data-svelte-h":!0}),Ye(t)!=="svelte-15aqp4h"&&(t.innerHTML=l),s=C(_),r=p(_,"DIV",{class:!0});var v=g(r);a=P(v,o),v.forEach(f),_.forEach(f),this.h()},h(){u(t,"class","self-center mr-3"),u(r,"class","self-center text-sm font-medium"),u(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(h,_){M(h,e,_),c(e,t),c(e,s),c(e,r),c(r,a),i||(d=te(e,"click",n[19]),i=!0)},p(h,_){_&16&&o!==(o=h[4].t("Delete All Chats")+"")&&z(a,o)},d(h){h&&f(e),i=!1,d()}}}function n1(n){let e,t,l,s,r,o,a,i=n[4].t("Are you sure?")+"",d,h,_,v,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',w,y,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',V,U;return{c(){e=m("div"),t=m("div"),l=gt("svg"),s=gt("path"),r=gt("path"),o=A(),a=m("span"),d=H(i),h=A(),_=m("div"),v=m("button"),v.innerHTML=b,w=A(),y=m("button"),y.innerHTML=k,this.h()},l(I){e=p(I,"DIV",{class:!0});var E=g(e);t=p(E,"DIV",{class:!0});var D=g(t);l=bt(D,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var $=g(l);s=bt($,"path",{d:!0}),g(s).forEach(f),r=bt($,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(r).forEach(f),$.forEach(f),o=C(D),a=p(D,"SPAN",{});var T=g(a);d=P(T,i),T.forEach(f),D.forEach(f),h=C(E),_=p(E,"DIV",{class:!0});var L=g(_);v=p(L,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(v)!=="svelte-19nv6qp"&&(v.innerHTML=b),w=C(L),y=p(L,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(y)!=="svelte-ekcykx"&&(y.innerHTML=k),L.forEach(f),E.forEach(f),this.h()},h(){u(s,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),u(r,"fill-rule","evenodd"),u(r,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),u(r,"clip-rule","evenodd"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(l,"viewBox","0 0 16 16"),u(l,"fill","currentColor"),u(l,"class","w-4 h-4"),u(t,"class","flex items-center space-x-3"),u(v,"class","hover:text-white transition"),u(y,"class","hover:text-white transition"),u(_,"class","flex space-x-1.5 items-center"),u(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(I,E){M(I,e,E),c(e,t),c(t,l),c(l,s),c(l,r),c(t,o),c(t,a),c(a,d),c(e,h),c(e,_),c(_,v),c(_,w),c(_,y),V||(U=[te(v,"click",n[17]),te(y,"click",n[18])],V=!0)},p(I,E){E&16&&i!==(i=I[4].t("Are you sure?")+"")&&z(d,i)},d(I){I&&f(e),V=!1,rt(U)}}}function r1(n){let e,t,l,s,r,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',d,h,_=n[4].t("Import Chats")+"",v,b,w,y,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',V,U,I=n[4].t("Export Chats")+"",E,D,$,T,L,N,S,W;function q(R,j){return R[1]?l1:t1}let O=q(n),B=O(n);function Y(R,j){return R[2]?n1:s1}let J=Y(n),G=J(n);return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("input"),r=A(),o=m("button"),a=m("div"),a.innerHTML=i,d=A(),h=m("div"),v=H(_),b=A(),w=m("button"),y=m("div"),y.innerHTML=k,V=A(),U=m("div"),E=H(I),D=A(),$=m("hr"),T=A(),L=m("div"),B.c(),N=A(),G.c(),this.h()},l(R){e=p(R,"DIV",{class:!0});var j=g(e);t=p(j,"DIV",{class:!0});var x=g(t);l=p(x,"DIV",{class:!0});var X=g(l);s=p(X,"INPUT",{id:!0,type:!0,accept:!0}),r=C(X),o=p(X,"BUTTON",{class:!0});var K=g(o);a=p(K,"DIV",{class:!0,"data-svelte-h":!0}),Ye(a)!=="svelte-135keqh"&&(a.innerHTML=i),d=C(K),h=p(K,"DIV",{class:!0});var ee=g(h);v=P(ee,_),ee.forEach(f),K.forEach(f),b=C(X),w=p(X,"BUTTON",{class:!0});var se=g(w);y=p(se,"DIV",{class:!0,"data-svelte-h":!0}),Ye(y)!=="svelte-7e4f4y"&&(y.innerHTML=k),V=C(se),U=p(se,"DIV",{class:!0});var ue=g(U);E=P(ue,I),ue.forEach(f),se.forEach(f),X.forEach(f),D=C(x),$=p(x,"HR",{class:!0}),T=C(x),L=p(x,"DIV",{class:!0});var he=g(L);B.l(he),N=C(he),G.l(he),he.forEach(f),x.forEach(f),j.forEach(f),this.h()},h(){u(s,"id","chat-import-input"),u(s,"type","file"),u(s,"accept",".json"),s.hidden=!0,u(a,"class","self-center mr-3"),u(h,"class","self-center text-sm font-medium"),u(o,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),u(y,"class","self-center mr-3"),u(U,"class","self-center text-sm font-medium"),u(w,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),u(l,"class","flex flex-col"),u($,"class","dark:border-gray-850"),u(L,"class","flex flex-col"),u(t,"class","space-y-2 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(R,j){M(R,e,j),c(e,t),c(t,l),c(l,s),n[10](s),c(l,r),c(l,o),c(o,a),c(o,d),c(o,h),c(h,v),c(l,b),c(l,w),c(w,y),c(w,V),c(w,U),c(U,E),c(t,D),c(t,$),c(t,T),c(t,L),B.m(L,null),c(L,N),G.m(L,null),S||(W=[te(s,"change",n[11]),te(o,"click",n[12]),te(w,"click",n[13])],S=!0)},p(R,[j]){j&16&&_!==(_=R[4].t("Import Chats")+"")&&z(v,_),j&16&&I!==(I=R[4].t("Export Chats")+"")&&z(E,I),O===(O=q(R))&&B?B.p(R,j):(B.d(1),B=O(R),B&&(B.c(),B.m(L,N))),J===(J=Y(R))&&G?G.p(R,j):(G.d(1),G=J(R),G&&(G.c(),G.m(L,null)))},i:Ce,o:Ce,d(R){R&&f(e),n[10](null),B.d(),G.d(),S=!1,rt(W)}}}function a1(n,e,t){let l,s;Ee(n,nl,S=>t(20,l=S));const{saveAs:r}=ws,o=wt("i18n");Ee(n,o,S=>t(4,s=S));let{saveSettings:a}=e,i,d=!1,h=!1,_;const v=async S=>{for(const W of S)console.log(W),W.chat?await Oa(localStorage.token,W.chat):await Oa(localStorage.token,W);nl.set(1),await sl.set(await $l(localStorage.token,l)),vs.set(!0)},b=async()=>{let S=new Blob([JSON.stringify(await pc(localStorage.token))],{type:"application/json"});r(S,`chat-export-${Date.now()}.json`)},w=async()=>{await _l("/"),await _c(localStorage.token).catch(S=>{Me.error(`${S}`)}),nl.set(1),await sl.set(await $l(localStorage.token,l)),vs.set(!0)},y=async()=>{await _l("/"),await vc(localStorage.token).catch(S=>{Me.error(`${S}`)}),nl.set(1),await sl.set(await $l(localStorage.token,l)),vs.set(!0)};function k(S){lt[S?"unshift":"push"](()=>{_=S,t(3,_)})}function V(){i=this.files,t(0,i)}const U=()=>{_.click()},I=()=>{b()},E=()=>{w(),t(1,d=!1)},D=()=>{t(1,d=!1)},$=()=>{t(1,d=!0)},T=()=>{y(),t(2,h=!1)},L=()=>{t(2,h=!1)},N=()=>{t(2,h=!0)};return n.$$set=S=>{"saveSettings"in S&&t(9,a=S.saveSettings)},n.$$.update=()=>{if(n.$$.dirty&1&&i){console.log(i);let S=new FileReader;S.onload=W=>{let q=JSON.parse(W.target.result);if(console.log(q),nc(q)=="openai")try{q=rc(q)}catch(O){console.log("Unable to import chats:",O)}v(q)},i.length>0&&S.readAsText(i[0])}},[i,d,h,_,s,o,b,w,y,a,k,V,U,I,E,D,$,T,L,N]}class o1 extends ot{constructor(e){super(),it(this,e,a1,r1,at,{saveSettings:9})}}function Go(n){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=m("div"),e.innerHTML=t,this.h()},l(l){e=p(l,"DIV",{class:!0,"data-svelte-h":!0}),Ye(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,s){M(l,e,s)},d(l){l&&f(e)}}}function i1(n){let e,t,l,s=n[3].t("Add Memory")+"",r,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,h,_,v,b,w,y,k,V,U,I=n[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",E,D,$,T,L=n[3].t("Add")+"",N,S,W,q,O,B=n[1]&&Go();return{c(){e=m("div"),t=m("div"),l=m("div"),r=H(s),o=A(),a=m("button"),a.innerHTML=i,d=A(),h=m("div"),_=m("div"),v=m("form"),b=m("div"),w=m("textarea"),k=A(),V=m("div"),U=H(" "),E=H(I),D=A(),$=m("div"),T=m("button"),N=H(L),S=A(),B&&B.c(),this.h()},l(Y){e=p(Y,"DIV",{});var J=g(e);t=p(J,"DIV",{class:!0});var G=g(t);l=p(G,"DIV",{class:!0});var R=g(l);r=P(R,s),R.forEach(f),o=C(G),a=p(G,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(a)!=="svelte-745w2y"&&(a.innerHTML=i),G.forEach(f),d=C(J),h=p(J,"DIV",{class:!0});var j=g(h);_=p(j,"DIV",{class:!0});var x=g(_);v=p(x,"FORM",{class:!0});var X=g(v);b=p(X,"DIV",{class:!0});var K=g(b);w=p(K,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),g(w).forEach(f),k=C(K),V=p(K,"DIV",{class:!0});var ee=g(V);U=P(ee," "),E=P(ee,I),ee.forEach(f),K.forEach(f),D=C(X),$=p(X,"DIV",{class:!0});var se=g($);T=p(se,"BUTTON",{class:!0,type:!0});var ue=g(T);N=P(ue,L),S=C(ue),B&&B.l(ue),ue.forEach(f),se.forEach(f),X.forEach(f),x.forEach(f),j.forEach(f),J.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(a,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),u(w,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),u(w,"rows","3"),u(w,"placeholder",y=n[3].t("Enter a detail about yourself for your LLMs to recall")),u(V,"class","text-xs text-gray-500"),u(b,"class",""),u(T,"class",W="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(n[1]?" cursor-not-allowed":"")),u(T,"type","submit"),T.disabled=n[1],u($,"class","flex justify-end pt-1 text-sm font-medium"),u(v,"class","flex flex-col w-full"),u(_,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(h,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(Y,J){M(Y,e,J),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),c(e,d),c(e,h),c(h,_),c(_,v),c(v,b),c(b,w),je(w,n[2]),c(b,k),c(b,V),c(V,U),c(V,E),c(v,D),c(v,$),c($,T),c(T,N),c(T,S),B&&B.m(T,null),q||(O=[te(a,"click",n[6]),te(w,"input",n[7]),te(v,"submit",Ol(n[8]))],q=!0)},p(Y,J){J&8&&s!==(s=Y[3].t("Add Memory")+"")&&z(r,s),J&8&&y!==(y=Y[3].t("Enter a detail about yourself for your LLMs to recall"))&&u(w,"placeholder",y),J&4&&je(w,Y[2]),J&8&&I!==(I=Y[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&z(E,I),J&8&&L!==(L=Y[3].t("Add")+"")&&z(N,L),Y[1]?B||(B=Go(),B.c(),B.m(T,null)):B&&(B.d(1),B=null),J&2&&W!==(W="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(Y[1]?" cursor-not-allowed":""))&&u(T,"class",W),J&2&&(T.disabled=Y[1])},d(Y){Y&&f(e),B&&B.d(),q=!1,rt(O)}}}function c1(n){let e,t,l;function s(o){n[9](o)}let r={size:"sm",$$slots:{default:[i1]},$$scope:{ctx:n}};return n[0]!==void 0&&(r.show=n[0]),e=new Ll({props:r}),lt.push(()=>ht(e,"show",s)),{c(){ae(e.$$.fragment)},l(o){oe(e.$$.fragment,o)},m(o,a){ie(e,o,a),l=!0},p(o,[a]){const i={};a&2063&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.show=o[0],dt(()=>t=!1)),e.$set(i)},i(o){l||(F(e.$$.fragment,o),l=!0)},o(o){Z(e.$$.fragment,o),l=!1},d(o){ce(e,o)}}}function f1(n,e,t){let l;const s=At();let{show:r}=e;const o=wt("i18n");Ee(n,o,w=>t(3,l=w));let a=!1,i="";const d=async()=>{t(1,a=!0);const w=await Dc(localStorage.token,i).catch(y=>(Me.error(`${y}`),null));w&&(console.log(w),Me.success(l.t("Memory added successfully")),t(2,i=""),t(0,r=!1),s("save")),t(1,a=!1)},h=()=>{t(0,r=!1)};function _(){i=this.value,t(2,i)}const v=()=>{d()};function b(w){r=w,t(0,r)}return n.$$set=w=>{"show"in w&&t(0,r=w.show)},[r,a,i,l,o,d,h,_,v,b]}class u1 extends ot{constructor(e){super(),it(this,e,f1,c1,at,{show:0})}}function Jo(n){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=m("div"),e.innerHTML=t,this.h()},l(l){e=p(l,"DIV",{class:!0,"data-svelte-h":!0}),Ye(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,s){M(l,e,s)},d(l){l&&f(e)}}}function d1(n){let e,t,l,s=n[3].t("Edit Memory")+"",r,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,h,_,v,b,w,y,k,V,U,I=n[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",E,D,$,T,L=n[3].t("Update")+"",N,S,W,q,O,B=n[1]&&Jo();return{c(){e=m("div"),t=m("div"),l=m("div"),r=H(s),o=A(),a=m("button"),a.innerHTML=i,d=A(),h=m("div"),_=m("div"),v=m("form"),b=m("div"),w=m("textarea"),k=A(),V=m("div"),U=H(" "),E=H(I),D=A(),$=m("div"),T=m("button"),N=H(L),S=A(),B&&B.c(),this.h()},l(Y){e=p(Y,"DIV",{});var J=g(e);t=p(J,"DIV",{class:!0});var G=g(t);l=p(G,"DIV",{class:!0});var R=g(l);r=P(R,s),R.forEach(f),o=C(G),a=p(G,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(a)!=="svelte-745w2y"&&(a.innerHTML=i),G.forEach(f),d=C(J),h=p(J,"DIV",{class:!0});var j=g(h);_=p(j,"DIV",{class:!0});var x=g(_);v=p(x,"FORM",{class:!0});var X=g(v);b=p(X,"DIV",{class:!0});var K=g(b);w=p(K,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),g(w).forEach(f),k=C(K),V=p(K,"DIV",{class:!0});var ee=g(V);U=P(ee," "),E=P(ee,I),ee.forEach(f),K.forEach(f),D=C(X),$=p(X,"DIV",{class:!0});var se=g($);T=p(se,"BUTTON",{class:!0,type:!0});var ue=g(T);N=P(ue,L),S=C(ue),B&&B.l(ue),ue.forEach(f),se.forEach(f),X.forEach(f),x.forEach(f),j.forEach(f),J.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(a,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),u(w,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),u(w,"rows","3"),u(w,"placeholder",y=n[3].t("Enter a detail about yourself for your LLMs to recall")),u(V,"class","text-xs text-gray-500"),u(b,"class",""),u(T,"class",W="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(n[1]?" cursor-not-allowed":"")),u(T,"type","submit"),T.disabled=n[1],u($,"class","flex justify-end pt-1 text-sm font-medium"),u(v,"class","flex flex-col w-full"),u(_,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(h,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(Y,J){M(Y,e,J),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),c(e,d),c(e,h),c(h,_),c(_,v),c(v,b),c(b,w),je(w,n[2]),c(b,k),c(b,V),c(V,U),c(V,E),c(v,D),c(v,$),c($,T),c(T,N),c(T,S),B&&B.m(T,null),q||(O=[te(a,"click",n[7]),te(w,"input",n[8]),te(v,"submit",Ol(n[9]))],q=!0)},p(Y,J){J&8&&s!==(s=Y[3].t("Edit Memory")+"")&&z(r,s),J&8&&y!==(y=Y[3].t("Enter a detail about yourself for your LLMs to recall"))&&u(w,"placeholder",y),J&4&&je(w,Y[2]),J&8&&I!==(I=Y[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&z(E,I),J&8&&L!==(L=Y[3].t("Update")+"")&&z(N,L),Y[1]?B||(B=Jo(),B.c(),B.m(T,null)):B&&(B.d(1),B=null),J&2&&W!==(W="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(Y[1]?" cursor-not-allowed":""))&&u(T,"class",W),J&2&&(T.disabled=Y[1])},d(Y){Y&&f(e),B&&B.d(),q=!1,rt(O)}}}function h1(n){let e,t,l;function s(o){n[10](o)}let r={size:"sm",$$slots:{default:[d1]},$$scope:{ctx:n}};return n[0]!==void 0&&(r.show=n[0]),e=new Ll({props:r}),lt.push(()=>ht(e,"show",s)),{c(){ae(e.$$.fragment)},l(o){oe(e.$$.fragment,o)},m(o,a){ie(e,o,a),l=!0},p(o,[a]){const i={};a&8207&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.show=o[0],dt(()=>t=!1)),e.$set(i)},i(o){l||(F(e.$$.fragment,o),l=!0)},o(o){Z(e.$$.fragment,o),l=!1},d(o){ce(e,o)}}}function m1(n,e,t){let l;const s=At();let{show:r}=e,{memory:o={}}=e;const a=wt("i18n");Ee(n,a,k=>t(3,l=k));let i=!1,d="";const h=()=>{t(2,d=o.content)},_=async()=>{t(1,i=!0);const k=await Tc(localStorage.token,o.id,d).catch(V=>(Me.error(`${V}`),null));k&&(console.log(k),Me.success(l.t("Memory updated successfully")),s("save"),t(0,r=!1)),t(1,i=!1)},v=()=>{t(0,r=!1)};function b(){d=this.value,t(2,d)}const w=()=>{_()};function y(k){r=k,t(0,r)}return n.$$set=k=>{"show"in k&&t(0,r=k.show),"memory"in k&&t(6,o=k.memory)},n.$$.update=()=>{n.$$.dirty&1&&r&&h()},[r,i,d,l,a,_,o,v,b,w,y]}class p1 extends ot{constructor(e){super(),it(this,e,m1,h1,at,{show:0,memory:6})}}function Ko(n,e,t){const l=n.slice();return l[19]=e[t],l}function _1(n){let e,t,l=n[5].t("Memories accessible by LLMs will be shown here.")+"",s;return{c(){e=m("div"),t=m("div"),s=H(l),this.h()},l(r){e=p(r,"DIV",{class:!0});var o=g(e);t=p(o,"DIV",{class:!0});var a=g(t);s=P(a,l),a.forEach(f),o.forEach(f),this.h()},h(){u(t,"class","my-auto pb-10 px-4 w-full text-gray-500"),u(e,"class","text-center flex h-full text-sm w-full")},m(r,o){M(r,e,o),c(e,t),c(t,s)},p(r,o){o&32&&l!==(l=r[5].t("Memories accessible by LLMs will be shown here.")+"")&&z(s,l)},i:Ce,o:Ce,d(r){r&&f(e)}}}function v1(n){let e,t,l,s,r,o,a=n[5].t("Name")+"",i,d,h,_=n[5].t("Last Modified")+"",v,b,w,y,k,V,U=st(n[1]),I=[];for(let D=0;D<U.length;D+=1)I[D]=qo(Ko(n,U,D));const E=D=>Z(I[D],1,1,()=>{I[D]=null});return{c(){e=m("div"),t=m("div"),l=m("table"),s=m("thead"),r=m("tr"),o=m("th"),i=H(a),d=A(),h=m("th"),v=H(_),b=A(),w=m("th"),y=A(),k=m("tbody");for(let D=0;D<I.length;D+=1)I[D].c();this.h()},l(D){e=p(D,"DIV",{class:!0});var $=g(e);t=p($,"DIV",{class:!0});var T=g(t);l=p(T,"TABLE",{class:!0});var L=g(l);s=p(L,"THEAD",{class:!0});var N=g(s);r=p(N,"TR",{});var S=g(r);o=p(S,"TH",{scope:!0,class:!0});var W=g(o);i=P(W,a),W.forEach(f),d=C(S),h=p(S,"TH",{scope:!0,class:!0});var q=g(h);v=P(q,_),q.forEach(f),b=C(S),w=p(S,"TH",{scope:!0,class:!0}),g(w).forEach(f),S.forEach(f),N.forEach(f),y=C(L),k=p(L,"TBODY",{});var O=g(k);for(let B=0;B<I.length;B+=1)I[B].l(O);O.forEach(f),L.forEach(f),T.forEach(f),$.forEach(f),this.h()},h(){u(o,"scope","col"),u(o,"class","px-3 py-2"),u(h,"scope","col"),u(h,"class","px-3 py-2 hidden md:flex"),u(w,"scope","col"),u(w,"class","px-3 py-2 text-right"),u(s,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),u(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),u(t,"class","relative overflow-x-auto"),u(e,"class","text-left text-sm w-full mb-4 overflow-y-scroll")},m(D,$){M(D,e,$),c(e,t),c(t,l),c(l,s),c(s,r),c(r,o),c(o,i),c(r,d),c(r,h),c(h,v),c(r,b),c(r,w),c(l,y),c(l,k);for(let T=0;T<I.length;T+=1)I[T]&&I[T].m(k,null);V=!0},p(D,$){if((!V||$&32)&&a!==(a=D[5].t("Name")+"")&&z(i,a),(!V||$&32)&&_!==(_=D[5].t("Last Modified")+"")&&z(v,_),$&58){U=st(D[1]);let T;for(T=0;T<U.length;T+=1){const L=Ko(D,U,T);I[T]?(I[T].p(L,$),F(I[T],1)):(I[T]=qo(L),I[T].c(),F(I[T],1),I[T].m(k,null))}for(Qe(),T=U.length;T<I.length;T+=1)E(T);et()}},i(D){if(!V){for(let $=0;$<U.length;$+=1)F(I[$]);V=!0}},o(D){I=I.filter(Boolean);for(let $=0;$<I.length;$+=1)Z(I[$]);V=!1},d(D){D&&f(e),$t(I,D)}}}function g1(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 s-FoVA_WMOgxUD"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125" class="s-FoVA_WMOgxUD"></path></svg>',l,s;function r(){return n[9](n[19])}return{c(){e=m("button"),e.innerHTML=t,this.h()},l(o){e=p(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(e)!=="svelte-1hkti8u"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,a){M(o,e,a),l||(s=te(e,"click",r),l=!0)},p(o,a){n=o},d(o){o&&f(e),l=!1,s()}}}function b1(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,s;function r(){return n[10](n[19])}return{c(){e=m("button"),e.innerHTML=t,this.h()},l(o){e=p(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(e)!=="svelte-1uabthr"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,a){M(o,e,a),l||(s=te(e,"click",r),l=!0)},p(o,a){n=o},d(o){o&&f(e),l=!1,s()}}}function qo(n){let e,t,l,s=n[19].content+"",r,o,a,i,d=kn(n[19].updated_at*1e3).format(n[5].t("MMMM DD, YYYY hh:mm:ss A"))+"",h,_,v,b,w,y,k,V,U;return w=new Ot({props:{content:"Edit",$$slots:{default:[g1]},$$scope:{ctx:n}}}),k=new Ot({props:{content:"Delete",$$slots:{default:[b1]},$$scope:{ctx:n}}}),{c(){e=m("tr"),t=m("td"),l=m("div"),r=H(s),o=A(),a=m("td"),i=m("div"),h=H(d),_=A(),v=m("td"),b=m("div"),ae(w.$$.fragment),y=A(),ae(k.$$.fragment),V=A(),this.h()},l(I){e=p(I,"TR",{class:!0});var E=g(e);t=p(E,"TD",{class:!0});var D=g(t);l=p(D,"DIV",{class:!0});var $=g(l);r=P($,s),$.forEach(f),D.forEach(f),o=C(E),a=p(E,"TD",{class:!0});var T=g(a);i=p(T,"DIV",{class:!0});var L=g(i);h=P(L,d),L.forEach(f),T.forEach(f),_=C(E),v=p(E,"TD",{class:!0});var N=g(v);b=p(N,"DIV",{class:!0});var S=g(b);oe(w.$$.fragment,S),y=C(S),oe(k.$$.fragment,S),S.forEach(f),N.forEach(f),V=C(E),E.forEach(f),this.h()},h(){u(l,"class","line-clamp-1"),u(t,"class","px-3 py-1"),u(i,"class","my-auto whitespace-nowrap"),u(a,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),u(b,"class","flex justify-end w-full"),u(v,"class","px-3 py-1"),u(e,"class","border-b dark:border-gray-800 items-center")},m(I,E){M(I,e,E),c(e,t),c(t,l),c(l,r),c(e,o),c(e,a),c(a,i),c(i,h),c(e,_),c(e,v),c(v,b),ie(w,b,null),c(b,y),ie(k,b,null),c(e,V),U=!0},p(I,E){(!U||E&2)&&s!==(s=I[19].content+"")&&z(r,s),(!U||E&34)&&d!==(d=kn(I[19].updated_at*1e3).format(I[5].t("MMMM DD, YYYY hh:mm:ss A"))+"")&&z(h,d);const D={};E&4194330&&(D.$$scope={dirty:E,ctx:I}),w.$set(D);const $={};E&4194338&&($.$$scope={dirty:E,ctx:I}),k.$set($)},i(I){U||(F(w.$$.fragment,I),F(k.$$.fragment,I),U=!0)},o(I){Z(w.$$.fragment,I),Z(k.$$.fragment,I),U=!1},d(I){I&&f(e),ce(w),ce(k)}}}function w1(n){let e,t,l,s=n[5].t("Memory")+"",r,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,h,_,v,b,w,y,k,V=n[5].t("Add Memory")+"",U,I,E,D=n[5].t("Clear memory")+"",$,T,L,N;const S=[v1,_1],W=[];function q(O,B){return O[1].length>0?0:1}return v=q(n),b=W[v]=S[v](n),{c(){e=m("div"),t=m("div"),l=m("div"),r=H(s),o=A(),a=m("button"),a.innerHTML=i,d=A(),h=m("div"),_=m("div"),b.c(),w=A(),y=m("div"),k=m("button"),U=H(V),I=A(),E=m("button"),$=H(D),this.h()},l(O){e=p(O,"DIV",{});var B=g(e);t=p(B,"DIV",{class:!0});var Y=g(t);l=p(Y,"DIV",{class:!0});var J=g(l);r=P(J,s),J.forEach(f),o=C(Y),a=p(Y,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(a)!=="svelte-745w2y"&&(a.innerHTML=i),Y.forEach(f),d=C(B),h=p(B,"DIV",{class:!0});var G=g(h);_=p(G,"DIV",{class:!0});var R=g(_);b.l(R),R.forEach(f),w=C(G),y=p(G,"DIV",{class:!0});var j=g(y);k=p(j,"BUTTON",{class:!0});var x=g(k);U=P(x,V),x.forEach(f),I=C(j),E=p(j,"BUTTON",{class:!0});var X=g(E);$=P(X,D),X.forEach(f),j.forEach(f),G.forEach(f),B.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(a,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),u(_,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6 h-[28rem] max-h-screen outline outline-1 rounded-xl outline-gray-100 dark:outline-gray-800 mb-4 mt-1"),u(k,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),u(E,"class","px-3.5 py-1.5 font-medium text-red-500 hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-red-300 dark:outline-red-800 rounded-3xl"),u(y,"class","flex text-sm font-medium gap-1.5"),u(h,"class","flex flex-col w-full px-5 pb-5 dark:text-gray-200")},m(O,B){M(O,e,B),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),c(e,d),c(e,h),c(h,_),W[v].m(_,null),c(h,w),c(h,y),c(y,k),c(k,U),c(y,I),c(y,E),c(E,$),T=!0,L||(N=[te(a,"click",n[8]),te(k,"click",n[11]),te(E,"click",n[12])],L=!0)},p(O,B){(!T||B&32)&&s!==(s=O[5].t("Memory")+"")&&z(r,s);let Y=v;v=q(O),v===Y?W[v].p(O,B):(Qe(),Z(W[Y],1,1,()=>{W[Y]=null}),et(),b=W[v],b?b.p(O,B):(b=W[v]=S[v](O),b.c()),F(b,1),b.m(_,null)),(!T||B&32)&&V!==(V=O[5].t("Add Memory")+"")&&z(U,V),(!T||B&32)&&D!==(D=O[5].t("Clear memory")+"")&&z($,D)},i(O){T||(F(b),T=!0)},o(O){Z(b),T=!1},d(O){O&&f(e),W[v].d(),L=!1,rt(N)}}}function k1(n){let e,t,l,s,r,o,a,i,d;function h(k){n[13](k)}let _={size:"xl",$$slots:{default:[w1]},$$scope:{ctx:n}};n[0]!==void 0&&(_.show=n[0]),e=new Ll({props:_}),lt.push(()=>ht(e,"show",h));function v(k){n[14](k)}let b={};n[2]!==void 0&&(b.show=n[2]),s=new u1({props:b}),lt.push(()=>ht(s,"show",v)),s.$on("save",n[15]);function w(k){n[16](k)}let y={memory:n[4]};return n[3]!==void 0&&(y.show=n[3]),a=new p1({props:y}),lt.push(()=>ht(a,"show",w)),a.$on("save",n[17]),{c(){ae(e.$$.fragment),l=A(),ae(s.$$.fragment),o=A(),ae(a.$$.fragment)},l(k){oe(e.$$.fragment,k),l=C(k),oe(s.$$.fragment,k),o=C(k),oe(a.$$.fragment,k)},m(k,V){ie(e,k,V),M(k,l,V),ie(s,k,V),M(k,o,V),ie(a,k,V),d=!0},p(k,[V]){const U={};V&4194367&&(U.$$scope={dirty:V,ctx:k}),!t&&V&1&&(t=!0,U.show=k[0],dt(()=>t=!1)),e.$set(U);const I={};!r&&V&4&&(r=!0,I.show=k[2],dt(()=>r=!1)),s.$set(I);const E={};V&16&&(E.memory=k[4]),!i&&V&8&&(i=!0,E.show=k[3],dt(()=>i=!1)),a.$set(E)},i(k){d||(F(e.$$.fragment,k),F(s.$$.fragment,k),F(a.$$.fragment,k),d=!0)},o(k){Z(e.$$.fragment,k),Z(s.$$.fragment,k),Z(a.$$.fragment,k),d=!1},d(k){k&&(f(l),f(o)),ce(e,k),ce(s,k),ce(a,k)}}}function y1(n,e,t){let l;At();const s=wt("i18n");Ee(n,s,D=>t(5,l=D));let{show:r=!1}=e,o=[],a=!0,i=!1,d=!1,h=null;const _=()=>{t(0,r=!1)},v=D=>{t(4,h=D),t(3,d=!0)},b=async D=>{await Vc(localStorage.token,D.id).catch(T=>(Me.error(`${T}`),null))&&(Me.success(l.t("Memory deleted successfully")),t(1,o=await dn(localStorage.token)))},w=()=>{t(2,i=!0)},y=async()=>{await Ac(localStorage.token).catch($=>(Me.error(`${$}`),null))&&(Me.success(l.t("Memory cleared successfully")),t(1,o=[]))};function k(D){r=D,t(0,r)}function V(D){i=D,t(2,i)}const U=async()=>{t(1,o=await dn(localStorage.token))};function I(D){d=D,t(3,d)}const E=async()=>{t(1,o=await dn(localStorage.token))};return n.$$set=D=>{"show"in D&&t(0,r=D.show)},n.$$.update=()=>{n.$$.dirty&131&&r&&o.length===0&&a&&(async()=>(t(1,o=await dn(localStorage.token)),t(7,a=!1)))()},[r,o,i,d,h,l,s,a,_,v,b,w,y,k,V,U,I,E]}class E1 extends ot{constructor(e){super(),it(this,e,y1,k1,at,{show:0})}}function I1(n){let e,t=n[3].t("Memory")+"",l,s,r,o,a=n[3].t("Experimental")+"",i,d;return{c(){e=m("div"),l=H(t),s=A(),r=m("span"),o=H("("),i=H(a),d=H(")"),this.h()},l(h){e=p(h,"DIV",{class:!0});var _=g(e);l=P(_,t),s=C(_),r=p(_,"SPAN",{class:!0});var v=g(r);o=P(v,"("),i=P(v,a),d=P(v,")"),v.forEach(f),_.forEach(f),this.h()},h(){u(r,"class","text-xs text-gray-500"),u(e,"class","text-sm font-medium")},m(h,_){M(h,e,_),c(e,l),c(e,s),c(e,r),c(r,o),c(r,i),c(r,d)},p(h,_){_&8&&t!==(t=h[3].t("Memory")+"")&&z(l,t),_&8&&a!==(a=h[3].t("Experimental")+"")&&z(i,a)},d(h){h&&f(e)}}}function D1(n){let e,t,l,s,r,o,a,i,d,h,_,v,b,w,y,k=n[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"",V,U,I,E,D=n[3].t("Manage")+"",$,T,L,N,S=n[3].t("Save")+"",W,q,O,B;function Y(j){n[6](j)}let J={};n[1]!==void 0&&(J.show=n[1]),e=new E1({props:J}),lt.push(()=>ht(e,"show",Y)),i=new Ot({props:{content:n[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time."),$$slots:{default:[I1]},$$scope:{ctx:n}}});function G(j){n[7](j)}let R={};return n[2]!==void 0&&(R.state=n[2]),_=new Mi({props:R}),lt.push(()=>ht(_,"state",G)),_.$on("change",n[8]),{c(){ae(e.$$.fragment),l=A(),s=m("form"),r=m("div"),o=m("div"),a=m("div"),ae(i.$$.fragment),d=A(),h=m("div"),ae(_.$$.fragment),b=A(),w=m("div"),y=m("div"),V=H(k),U=A(),I=m("div"),E=m("button"),$=H(D),T=A(),L=m("div"),N=m("button"),W=H(S),this.h()},l(j){oe(e.$$.fragment,j),l=C(j),s=p(j,"FORM",{class:!0});var x=g(s);r=p(x,"DIV",{class:!0});var X=g(r);o=p(X,"DIV",{});var K=g(o);a=p(K,"DIV",{class:!0});var ee=g(a);oe(i.$$.fragment,ee),d=C(ee),h=p(ee,"DIV",{class:!0});var se=g(h);oe(_.$$.fragment,se),se.forEach(f),ee.forEach(f),K.forEach(f),b=C(X),w=p(X,"DIV",{class:!0});var ue=g(w);y=p(ue,"DIV",{});var he=g(y);V=P(he,k),he.forEach(f),ue.forEach(f),U=C(X),I=p(X,"DIV",{class:!0});var me=g(I);E=p(me,"BUTTON",{type:!0,class:!0});var pe=g(E);$=P(pe,D),pe.forEach(f),me.forEach(f),X.forEach(f),T=C(x),L=p(x,"DIV",{class:!0});var de=g(L);N=p(de,"BUTTON",{class:!0,type:!0});var ke=g(N);W=P(ke,S),ke.forEach(f),de.forEach(f),x.forEach(f),this.h()},h(){u(h,"class",""),u(a,"class","flex items-center justify-between mb-1"),u(w,"class","text-xs text-gray-600 dark:text-gray-400"),u(E,"type","button"),u(E,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),u(I,"class","mt-3 mb-1 ml-1"),u(r,"class","py-1 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(N,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(N,"type","submit"),u(L,"class","flex justify-end text-sm font-medium"),u(s,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(j,x){ie(e,j,x),M(j,l,x),M(j,s,x),c(s,r),c(r,o),c(o,a),ie(i,a,null),c(a,d),c(a,h),ie(_,h,null),c(r,b),c(r,w),c(w,y),c(y,V),c(r,U),c(r,I),c(I,E),c(E,$),c(s,T),c(s,L),c(L,N),c(N,W),q=!0,O||(B=[te(E,"click",n[9]),te(s,"submit",Ol(n[10]))],O=!0)},p(j,[x]){const X={};!t&&x&2&&(t=!0,X.show=j[1],dt(()=>t=!1)),e.$set(X);const K={};x&8&&(K.content=j[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time.")),x&4104&&(K.$$scope={dirty:x,ctx:j}),i.$set(K);const ee={};!v&&x&4&&(v=!0,ee.state=j[2],dt(()=>v=!1)),_.$set(ee),(!q||x&8)&&k!==(k=j[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"")&&z(V,k),(!q||x&8)&&D!==(D=j[3].t("Manage")+"")&&z($,D),(!q||x&8)&&S!==(S=j[3].t("Save")+"")&&z(W,S)},i(j){q||(F(e.$$.fragment,j),F(i.$$.fragment,j),F(_.$$.fragment,j),q=!0)},o(j){Z(e.$$.fragment,j),Z(i.$$.fragment,j),Z(_.$$.fragment,j),q=!1},d(j){j&&(f(l),f(s)),ce(e,j),ce(i),ce(_),O=!1,rt(B)}}}function T1(n,e,t){let l,s;Ee(n,Ht,y=>t(11,l=y));const r=At(),o=wt("i18n");Ee(n,o,y=>t(3,s=y));let{saveSettings:a}=e,i=!1,d=!1;Ct(async()=>{t(2,d=(l==null?void 0:l.memory)??!1)});function h(y){i=y,t(1,i)}function _(y){d=y,t(2,d)}const v=async()=>{a({memory:d})},b=()=>{t(1,i=!0)},w=()=>{r("save")};return n.$$set=y=>{"saveSettings"in y&&t(0,a=y.saveSettings)},[a,i,d,s,r,o,h,_,v,b,w]}class V1 extends ot{constructor(e){super(),it(this,e,T1,D1,at,{saveSettings:0})}}function Xo(n,e,t){const l=n.slice();return l[33]=e[t],l}function A1(n){let e,t=n[4].t("No results found")+"",l;return{c(){e=m("div"),l=H(t),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);l=P(r,t),r.forEach(f),this.h()},h(){u(e,"class","text-center text-gray-500 mt-4")},m(s,r){M(s,e,r),c(e,l)},p(s,r){r[0]&16&&t!==(t=s[4].t("No results found")+"")&&z(l,t)},i:Ce,o:Ce,d(s){s&&f(e)}}}function C1(n){let e=[],t=new Map,l,s,r=st(n[2]);const o=a=>a[33];for(let a=0;a<r.length;a+=1){let i=Xo(n,r,a),d=o(i);t.set(d,e[a]=ei(d,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ut()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);l=ut()},m(a,i){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(a,i);M(a,l,i),s=!0},p(a,i){i[0]&61&&(r=st(a[2]),Qe(),e=yn(e,i,o,1,a,r,t,l.parentNode,En,ei,l,Xo),et())},i(a){if(!s){for(let i=0;i<r.length;i+=1)F(e[i]);s=!0}},o(a){for(let i=0;i<e.length;i+=1)Z(e[i]);s=!1},d(a){a&&f(l);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function S1(n){let e,t=n[5].role==="admin"&&Qo(n);return{c(){t&&t.c(),e=ut()},l(l){t&&t.l(l),e=ut()},m(l,s){t&&t.m(l,s),M(l,e,s)},p(l,s){l[5].role==="admin"?t?t.p(l,s):(t=Qo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ce,o:Ce,d(l){l&&f(e),t&&t.d(l)}}}function $1(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>',s,r,o=n[4].t("About")+"",a,i,d,h,_;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=H(o),i=A(),this.h()},l(v){e=p(v,"BUTTON",{class:!0});var b=g(e);t=p(b,"DIV",{class:!0,"data-svelte-h":!0}),Ye(t)!=="svelte-im5r31"&&(t.innerHTML=l),s=C(b),r=p(b,"DIV",{class:!0});var w=g(r);a=P(w,o),w.forEach(f),i=C(b),b.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(r,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(n[3]==="about"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(v,b){M(v,e,b),c(e,t),c(e,s),c(e,r),c(r,a),c(e,i),h||(_=te(e,"click",n[18]),h=!0)},p(v,b){b[0]&16&&o!==(o=v[4].t("About")+"")&&z(a,o),b[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(v[3]==="about"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:Ce,o:Ce,d(v){v&&f(e),h=!1,_()}}}function N1(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z" clip-rule="evenodd"></path></svg>',s,r,o=n[4].t("Account")+"",a,i,d,h,_;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=H(o),i=A(),this.h()},l(v){e=p(v,"BUTTON",{class:!0});var b=g(e);t=p(b,"DIV",{class:!0,"data-svelte-h":!0}),Ye(t)!=="svelte-uyxh8m"&&(t.innerHTML=l),s=C(b),r=p(b,"DIV",{class:!0});var w=g(r);a=P(w,o),w.forEach(f),i=C(b),b.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(r,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(n[3]==="account"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(v,b){M(v,e,b),c(e,t),c(e,s),c(e,r),c(r,a),c(e,i),h||(_=te(e,"click",n[17]),h=!0)},p(v,b){b[0]&16&&o!==(o=v[4].t("Account")+"")&&z(a,o),b[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(v[3]==="account"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:Ce,o:Ce,d(v){v&&f(e),h=!1,_()}}}function O1(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>',s,r,o=n[4].t("Chats")+"",a,i,d,h,_;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=H(o),i=A(),this.h()},l(v){e=p(v,"BUTTON",{class:!0});var b=g(e);t=p(b,"DIV",{class:!0,"data-svelte-h":!0}),Ye(t)!=="svelte-hp16vk"&&(t.innerHTML=l),s=C(b),r=p(b,"DIV",{class:!0});var w=g(r);a=P(w,o),w.forEach(f),i=C(b),b.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(r,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(n[3]==="chats"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(v,b){M(v,e,b),c(e,t),c(e,s),c(e,r),c(r,a),c(e,i),h||(_=te(e,"click",n[16]),h=!0)},p(v,b){b[0]&16&&o!==(o=v[4].t("Chats")+"")&&z(a,o),b[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(v[3]==="chats"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:Ce,o:Ce,d(v){v&&f(e),h=!1,_()}}}function L1(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',s,r,o=n[4].t("Audio")+"",a,i,d,h,_;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=H(o),i=A(),this.h()},l(v){e=p(v,"BUTTON",{class:!0});var b=g(e);t=p(b,"DIV",{class:!0,"data-svelte-h":!0}),Ye(t)!=="svelte-1bad48g"&&(t.innerHTML=l),s=C(b),r=p(b,"DIV",{class:!0});var w=g(r);a=P(w,o),w.forEach(f),i=C(b),b.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(r,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(n[3]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(v,b){M(v,e,b),c(e,t),c(e,s),c(e,r),c(r,a),c(e,i),h||(_=te(e,"click",n[15]),h=!0)},p(v,b){b[0]&16&&o!==(o=v[4].t("Audio")+"")&&z(a,o),b[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(v[3]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:Ce,o:Ce,d(v){v&&f(e),h=!1,_()}}}function M1(n){let e,t,l,s,r,o=n[4].t("Personalization")+"",a,i,d,h,_,v;return l=new Xc({}),{c(){e=m("button"),t=m("div"),ae(l.$$.fragment),s=A(),r=m("div"),a=H(o),i=A(),this.h()},l(b){e=p(b,"BUTTON",{class:!0});var w=g(e);t=p(w,"DIV",{class:!0});var y=g(t);oe(l.$$.fragment,y),y.forEach(f),s=C(w),r=p(w,"DIV",{class:!0});var k=g(r);a=P(k,o),k.forEach(f),i=C(w),w.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(r,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(n[3]==="personalization"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(b,w){M(b,e,w),c(e,t),ie(l,t,null),c(e,s),c(e,r),c(r,a),c(e,i),h=!0,_||(v=te(e,"click",n[14]),_=!0)},p(b,w){(!h||w[0]&16)&&o!==(o=b[4].t("Personalization")+"")&&z(a,o),(!h||w[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(b[3]==="personalization"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&u(e,"class",d)},i(b){h||(F(l.$$.fragment,b),h=!0)},o(b){Z(l.$$.fragment,b),h=!1},d(b){b&&f(e),ce(l),_=!1,v()}}}function B1(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',s,r,o=n[4].t("Interface")+"",a,i,d,h,_;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=H(o),i=A(),this.h()},l(v){e=p(v,"BUTTON",{class:!0});var b=g(e);t=p(b,"DIV",{class:!0,"data-svelte-h":!0}),Ye(t)!=="svelte-183k9gv"&&(t.innerHTML=l),s=C(b),r=p(b,"DIV",{class:!0});var w=g(r);a=P(w,o),w.forEach(f),i=C(b),b.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(r,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(n[3]==="interface"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(v,b){M(v,e,b),c(e,t),c(e,s),c(e,r),c(r,a),c(e,i),h||(_=te(e,"click",n[13]),h=!0)},p(v,b){b[0]&16&&o!==(o=v[4].t("Interface")+"")&&z(a,o),b[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(v[3]==="interface"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:Ce,o:Ce,d(v){v&&f(e),h=!1,_()}}}function U1(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"></path></svg>',s,r,o=n[4].t("General")+"",a,i,d,h,_;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=H(o),i=A(),this.h()},l(v){e=p(v,"BUTTON",{class:!0});var b=g(e);t=p(b,"DIV",{class:!0,"data-svelte-h":!0}),Ye(t)!=="svelte-d0uebp"&&(t.innerHTML=l),s=C(b),r=p(b,"DIV",{class:!0});var w=g(r);a=P(w,o),w.forEach(f),i=C(b),b.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(r,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(n[3]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(v,b){M(v,e,b),c(e,t),c(e,s),c(e,r),c(r,a),c(e,i),h||(_=te(e,"click",n[12]),h=!0)},p(v,b){b[0]&16&&o!==(o=v[4].t("General")+"")&&z(a,o),b[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(v[3]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:Ce,o:Ce,d(v){v&&f(e),h=!1,_()}}}function Qo(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z" clip-rule="evenodd"></path></svg>',s,r,o=n[4].t("Admin Settings")+"",a,i,d,h,_;return{c(){e=m("button"),t=m("div"),t.innerHTML=l,s=A(),r=m("div"),a=H(o),i=A(),this.h()},l(v){e=p(v,"BUTTON",{class:!0});var b=g(e);t=p(b,"DIV",{class:!0,"data-svelte-h":!0}),Ye(t)!=="svelte-1rekzwz"&&(t.innerHTML=l),s=C(b),r=p(b,"DIV",{class:!0});var w=g(r);a=P(w,o),w.forEach(f),i=C(b),b.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(r,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(n[3]==="admin"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(v,b){M(v,e,b),c(e,t),c(e,s),c(e,r),c(r,a),c(e,i),h||(_=te(e,"click",n[19]),h=!0)},p(v,b){b[0]&16&&o!==(o=v[4].t("Admin Settings")+"")&&z(a,o),b[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(v[3]==="admin"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},d(v){v&&f(e),h=!1,_()}}}function ei(n,e){let t,l,s,r,o;const a=[U1,B1,M1,L1,O1,N1,$1,S1],i=[];function d(h,_){return h[33]==="general"?0:h[33]==="interface"?1:h[33]==="personalization"?2:h[33]==="audio"?3:h[33]==="chats"?4:h[33]==="account"?5:h[33]==="about"?6:h[33]==="admin"?7:-1}return~(l=d(e))&&(s=i[l]=a[l](e)),{key:n,first:null,c(){t=ut(),s&&s.c(),r=ut(),this.h()},l(h){t=ut(),s&&s.l(h),r=ut(),this.h()},h(){this.first=t},m(h,_){M(h,t,_),~l&&i[l].m(h,_),M(h,r,_),o=!0},p(h,_){e=h;let v=l;l=d(e),l===v?~l&&i[l].p(e,_):(s&&(Qe(),Z(i[v],1,1,()=>{i[v]=null}),et()),~l?(s=i[l],s?s.p(e,_):(s=i[l]=a[l](e),s.c()),F(s,1),s.m(r.parentNode,r)):s=null)},i(h){o||(F(s),o=!0)},o(h){Z(s),o=!1},d(h){h&&(f(t),f(r)),~l&&i[l].d(h)}}}function H1(n){let e,t;return e=new Zd({}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p:Ce,i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function P1(n){let e,t;return e=new zd({props:{saveSettings:n[8],saveHandler:n[24]}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p(l,s){const r={};s[0]&16&&(r.saveHandler=l[24]),e.$set(r)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function j1(n){let e,t;return e=new o1({props:{saveSettings:n[8]}}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p:Ce,i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function R1(n){let e,t;return e=new e1({props:{saveSettings:n[8]}}),e.$on("save",n[23]),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p:Ce,i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function x1(n){let e,t;return e=new V1({props:{saveSettings:n[8]}}),e.$on("save",n[22]),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p:Ce,i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function z1(n){let e,t;return e=new Wh({props:{saveSettings:n[8]}}),e.$on("save",n[21]),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p:Ce,i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function F1(n){let e,t;return e=new lh({props:{getModels:n[9],saveSettings:n[8]}}),e.$on("save",n[20]),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p:Ce,i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function W1(n){let e,t,l,s=n[4].t("Settings")+"",r,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,h,_,v,b,w,y,k,V,U,I,E,D,$,T,L,N,S,W;w=new Qc({props:{className:"size-3.5"}});const q=[C1,A1],O=[];function B(R,j){return R[2].length>0?0:1}I=B(n),E=O[I]=q[I](n);const Y=[F1,z1,x1,R1,j1,P1,H1],J=[];function G(R,j){return R[3]==="general"?0:R[3]==="interface"?1:R[3]==="personalization"?2:R[3]==="audio"?3:R[3]==="chats"?4:R[3]==="account"?5:R[3]==="about"?6:-1}return~(T=G(n))&&(L=J[T]=Y[T](n)),{c(){e=m("div"),t=m("div"),l=m("div"),r=H(s),o=A(),a=m("button"),a.innerHTML=i,d=A(),h=m("div"),_=m("div"),v=m("div"),b=m("div"),ae(w.$$.fragment),y=A(),k=m("input"),U=A(),E.c(),D=A(),$=m("div"),L&&L.c(),this.h()},l(R){e=p(R,"DIV",{class:!0});var j=g(e);t=p(j,"DIV",{class:!0});var x=g(t);l=p(x,"DIV",{class:!0});var X=g(l);r=P(X,s),X.forEach(f),o=C(x),a=p(x,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(a)!=="svelte-745w2y"&&(a.innerHTML=i),x.forEach(f),d=C(j),h=p(j,"DIV",{class:!0});var K=g(h);_=p(K,"DIV",{id:!0,class:!0});var ee=g(_);v=p(ee,"DIV",{class:!0,id:!0});var se=g(v);b=p(se,"DIV",{class:!0});var ue=g(b);oe(w.$$.fragment,ue),ue.forEach(f),y=C(se),k=p(se,"INPUT",{class:!0,placeholder:!0}),se.forEach(f),U=C(ee),E.l(ee),ee.forEach(f),D=C(K),$=p(K,"DIV",{class:!0});var he=g($);L&&L.l(he),he.forEach(f),K.forEach(f),j.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(a,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),u(b,"class","self-center rounded-l-xl bg-transparent"),u(k,"class","w-full py-1.5 text-sm bg-transparent dark:text-gray-300 outline-none svelte-1vx7r9s"),u(k,"placeholder",V=n[4].t("Search")),u(v,"class","hidden md:flex w-full rounded-xl -mb-1 px-0.5 gap-2"),u(v,"id","settings-search"),u(_,"id","settings-tabs-container"),u(_,"class","tabs flex flex-row overflow-x-auto gap-2.5 md:gap-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-sm font-medium text-left mb-1 md:mb-0 -translate-y-1 svelte-1vx7r9s"),u($,"class","flex-1 md:min-h-[32rem] max-h-[32rem]"),u(h,"class","flex flex-col md:flex-row w-full px-4 pt-1 pb-4 md:space-x-4"),u(e,"class","text-gray-700 dark:text-gray-100")},m(R,j){M(R,e,j),c(e,t),c(t,l),c(l,r),c(t,o),c(t,a),c(e,d),c(e,h),c(h,_),c(_,v),c(v,b),ie(w,b,null),c(v,y),c(v,k),je(k,n[1]),c(_,U),O[I].m(_,null),c(h,D),c(h,$),~T&&J[T].m($,null),N=!0,S||(W=[te(a,"click",n[10]),te(k,"input",n[11]),te(k,"input",n[7])],S=!0)},p(R,j){(!N||j[0]&16)&&s!==(s=R[4].t("Settings")+"")&&z(r,s),(!N||j[0]&16&&V!==(V=R[4].t("Search")))&&u(k,"placeholder",V),j[0]&2&&k.value!==R[1]&&je(k,R[1]);let x=I;I=B(R),I===x?O[I].p(R,j):(Qe(),Z(O[x],1,1,()=>{O[x]=null}),et(),E=O[I],E?E.p(R,j):(E=O[I]=q[I](R),E.c()),F(E,1),E.m(_,null));let X=T;T=G(R),T===X?~T&&J[T].p(R,j):(L&&(Qe(),Z(J[X],1,1,()=>{J[X]=null}),et()),~T?(L=J[T],L?L.p(R,j):(L=J[T]=Y[T](R),L.c()),F(L,1),L.m($,null)):L=null)},i(R){N||(F(w.$$.fragment,R),F(E),F(L),N=!0)},o(R){Z(w.$$.fragment,R),Z(E),Z(L),N=!1},d(R){R&&f(e),ce(w),O[I].d(),~T&&J[T].d(),S=!1,rt(W)}}}function Y1(n){let e,t,l;function s(o){n[25](o)}let r={size:"xl",$$slots:{default:[W1]},$$scope:{ctx:n}};return n[0]!==void 0&&(r.show=n[0]),e=new Ll({props:r}),lt.push(()=>ht(e,"show",s)),{c(){ae(e.$$.fragment)},l(o){oe(e.$$.fragment,o)},m(o,a){ie(e,o,a),l=!0},p(o,a){const i={};a[0]&63|a[1]&32&&(i.$$scope={dirty:a,ctx:o}),!t&&a[0]&1&&(t=!0,i.show=o[0],dt(()=>t=!1)),e.$set(i)},i(o){l||(F(e.$$.fragment,o),l=!0)},o(o){Z(e.$$.fragment,o),l=!1},d(o){ce(e,o)}}}function Z1(n,e,t){let l,s,r;Ee(n,Ht,x=>t(27,l=x)),Ee(n,Tl,x=>t(5,r=x));const o=wt("i18n");Ee(n,o,x=>t(4,s=x));let{show:a=!1}=e;const i=[{id:"general",title:"General",keywords:["general","theme","language","notifications","system","systemprompt","prompt","advanced","settings","defaultsettings","configuration","systemsettings","notificationsettings","systempromptconfig","languageoptions","defaultparameters","systemparameters"]},{id:"interface",title:"Interface",keywords:["defaultmodel","selectmodel","ui","userinterface","display","layout","design","landingpage","landingpagemode","default","chat","chatbubble","chatui","username","showusername","displayusername","widescreen","widescreenmode","fullscreen","expandmode","chatdirection","lefttoright","ltr","righttoleft","rtl","notifications","toast","toastnotifications","largechunks","streamlargechunks","scroll","scrollonbranchchange","scrollbehavior","richtext","richtextinput","background","chatbackground","chatbackgroundimage","backgroundimage","uploadbackground","resetbackground","titleautogen","titleautogeneration","autotitle","chattags","autochattags","responseautocopy","clipboard","location","userlocation","userlocationaccess","haptic","hapticfeedback","vibration","voice","voicecontrol","voiceinterruption","call","emojis","displayemoji","save","interfaceoptions","interfacecustomization"]},{id:"personalization",title:"Personalization",keywords:["personalization","memory","personalize","preferences","profile","personalsettings","customsettings","userpreferences","accountpreferences"]},{id:"audio",title:"Audio",keywords:["audio","sound","soundsettings","audiocontrol","volume","speech","speechrecognition","stt","speechtotext","tts","texttospeech","playback","playbackspeed","voiceplayback","speechplayback","audiooutput","speechengine","voicecontrol","audioplayback","transcription","autotranscribe","autosend","speechsettings","audiovoice","voiceoptions","setvoice","nonlocalvoices","savesettings","audioconfig","speechconfig","voicerecognition","speechsynthesis","speechmode","voicespeed","speechrate","speechspeed","audioinput","audiofeatures","voicemodes"]},{id:"chats",title:"Chats",keywords:["chat","messages","conversations","chatsettings","history","chathistory","messagehistory","messagearchive","convo","chats","conversationhistory","exportmessages","chatactivity"]},{id:"account",title:"Account",keywords:["account","profile","security","privacy","settings","login","useraccount","userdata","api","apikey","userprofile","profiledetails","accountsettings","accountpreferences","securitysettings","privacysettings"]},{id:"admin",title:"Admin",keywords:["admin","administrator","adminsettings","adminpanel","systemadmin","administratoraccess","systemcontrol","manage","management","admincontrols","adminfeatures","usercontrol","arenamodel","evaluations","websearch","database","pipelines","images","audio","documents","rag","models","ollama","openai","users"]},{id:"about",title:"About",keywords:["about","info","information","version","documentation","help","support","details","aboutus","softwareinfo","timothyjaeryangbaek","openwebui","release","updates","updateinfo","versioninfo","aboutapp","terms","termsandconditions","contact","aboutpage"]}];let d="",h=i.map(x=>x.id),_;const v=x=>{const X=x.toLowerCase().trim();return i.filter(K=>K.title.toLowerCase().includes(X)||K.keywords.some(ee=>ee.includes(X))).map(K=>K.id)},b=()=>{clearTimeout(_),_=setTimeout(()=>{t(2,h=v(d)),h.length>0&&!h.includes(k)&&t(3,k=h[0])},100)},w=async x=>{console.log(x),await Ht.set({...l,...x}),await bi.set(await y()),await Ei(localStorage.token,{ui:l})},y=async()=>await ki(localStorage.token);let k="general";const V=x=>{const X=document.getElementById("settings-tabs-container");X&&(x.preventDefault(),X.scrollLeft+=x.deltaY)},U=async()=>{await Dl();const x=document.getElementById("settings-tabs-container");x&&x.addEventListener("wheel",V)},I=async()=>{await Dl();const x=document.getElementById("settings-tabs-container");x&&x.removeEventListener("wheel",V)},E=()=>{t(0,a=!1)};function D(){d=this.value,t(1,d)}const $=()=>{t(3,k="general")},T=()=>{t(3,k="interface")},L=()=>{t(3,k="personalization")},N=()=>{t(3,k="audio")},S=()=>{t(3,k="chats")},W=()=>{t(3,k="account")},q=()=>{t(3,k="about")},O=async()=>{await _l("/admin/settings"),t(0,a=!1)},B=()=>{Me.success(s.t("Settings saved successfully!"))},Y=()=>{Me.success(s.t("Settings saved successfully!"))},J=()=>{Me.success(s.t("Settings saved successfully!"))},G=()=>{Me.success(s.t("Settings saved successfully!"))},R=()=>{Me.success(s.t("Settings saved successfully!"))};function j(x){a=x,t(0,a)}return n.$$set=x=>{"show"in x&&t(0,a=x.show)},n.$$.update=()=>{n.$$.dirty[0]&1&&(a?U():I())},[a,d,h,k,s,r,o,b,w,y,E,D,$,T,L,N,S,W,q,O,B,Y,J,G,R,j]}class G1 extends ot{constructor(e){super(),it(this,e,Z1,Y1,at,{show:0},null,[-1,-1])}}function ti(n,e,t){const l=n.slice();return l[18]=e[t],l}function li(n){let e,t=st({length:n[6]}),l=[];for(let s=0;s<t.length;s+=1)l[s]=si(ti(n,t,s));return{c(){e=m("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=p(s,"DIV",{class:!0});var r=g(e);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(f),this.h()},h(){u(e,"class","confetti-holder svelte-io58ff"),Zl(e,"rounded",n[9]),Zl(e,"cone",n[10]),Zl(e,"no-gravity",n[11])},m(s,r){M(s,e,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,r){if(r&20991){t=st({length:s[6]});let o;for(o=0;o<t.length;o+=1){const a=ti(s,t,o);l[o]?l[o].p(a,r):(l[o]=si(a),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}r&512&&Zl(e,"rounded",s[9]),r&1024&&Zl(e,"cone",s[10]),r&2048&&Zl(e,"no-gravity",s[11])},d(s){s&&f(e),$t(l,s)}}}function si(n){let e;return{c(){e=m("div"),this.h()},l(t){e=p(t,"DIV",{class:!0,style:!0}),g(e).forEach(f),this.h()},h(){u(e,"class","confetti svelte-io58ff"),kt(e,"--fall-distance",n[8]),kt(e,"--size",n[0]+"px"),kt(e,"--color",n[14]()),kt(e,"--skew",Nt(-45,45)+"deg,"+Nt(-45,45)+"deg"),kt(e,"--rotation-xyz",Nt(-10,10)+", "+Nt(-10,10)+", "+Nt(-10,10)),kt(e,"--rotation-deg",Nt(0,360)+"deg"),kt(e,"--translate-y-multiplier",Nt(n[2][0],n[2][1])),kt(e,"--translate-x-multiplier",Nt(n[1][0],n[1][1])),kt(e,"--scale",.1*Nt(2,10)),kt(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),kt(e,"--transition-delay",Nt(n[5][0],n[5][1])+"ms"),kt(e,"--transition-iteration-count",n[4]?"infinite":n[7]),kt(e,"--x-spread",1-n[12])},m(t,l){M(t,e,l)},p(t,l){l&256&&kt(e,"--fall-distance",t[8]),l&1&&kt(e,"--size",t[0]+"px"),l&4&&kt(e,"--translate-y-multiplier",Nt(t[2][0],t[2][1])),l&2&&kt(e,"--translate-x-multiplier",Nt(t[1][0],t[1][1])),l&24&&kt(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&kt(e,"--transition-delay",Nt(t[5][0],t[5][1])+"ms"),l&144&&kt(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&kt(e,"--x-spread",1-t[12])},d(t){t&&f(e)}}}function J1(n){let e,t=!n[13]&&li(n);return{c(){t&&t.c(),e=ut()},l(l){t&&t.l(l),e=ut()},m(l,s){t&&t.m(l,s),M(l,e,s)},p(l,[s]){l[13]?t&&(t.d(1),t=null):t?t.p(l,s):(t=li(l),t.c(),t.m(e.parentNode,e))},i:Ce,o:Ce,d(l){l&&f(e),t&&t.d(l)}}}function Nt(n,e){return Math.random()*(e-n)+n}function K1(n,e,t){let{size:l=10}=e,{x:s=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:o=2e3}=e,{infinite:a=!1}=e,{delay:i=[0,50]}=e,{colorRange:d=[0,360]}=e,{colorArray:h=[]}=e,{amount:_=50}=e,{iterationCount:v=1}=e,{fallDistance:b="100px"}=e,{rounded:w=!1}=e,{cone:y=!1}=e,{noGravity:k=!1}=e,{xSpread:V=.15}=e,{destroyOnComplete:U=!0}=e,I=!1;Ct(()=>{!U||a||v=="infinite"||setTimeout(()=>t(13,I=!0),(o+i[1])*v)});function E(){return h.length?h[Math.round(Math.random()*(h.length-1))]:`hsl(${Math.round(Nt(d[0],d[1]))}, 75%, 50%)`}return n.$$set=D=>{"size"in D&&t(0,l=D.size),"x"in D&&t(1,s=D.x),"y"in D&&t(2,r=D.y),"duration"in D&&t(3,o=D.duration),"infinite"in D&&t(4,a=D.infinite),"delay"in D&&t(5,i=D.delay),"colorRange"in D&&t(15,d=D.colorRange),"colorArray"in D&&t(16,h=D.colorArray),"amount"in D&&t(6,_=D.amount),"iterationCount"in D&&t(7,v=D.iterationCount),"fallDistance"in D&&t(8,b=D.fallDistance),"rounded"in D&&t(9,w=D.rounded),"cone"in D&&t(10,y=D.cone),"noGravity"in D&&t(11,k=D.noGravity),"xSpread"in D&&t(12,V=D.xSpread),"destroyOnComplete"in D&&t(17,U=D.destroyOnComplete)},[l,s,r,o,a,i,_,v,b,w,y,k,V,I,E,d,h,U]}class q1 extends ot{constructor(e){super(),it(this,e,K1,J1,at,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function ni(n,e,t){const l=n.slice();return l[10]=e[t],l}function ri(n,e,t){const l=n.slice();return l[13]=e[t],l}function ai(n,e,t){const l=n.slice();return l[16]=e[t],l}function oi(n){let e,t=st(Object.keys(n[1])),l=[];for(let s=0;s<t.length;s+=1)l[s]=fi(ni(n,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ut()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=ut()},m(s,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,r);M(s,e,r)},p(s,r){if(r&2){t=st(Object.keys(s[1]));let o;for(o=0;o<t.length;o+=1){const a=ni(s,t,o);l[o]?l[o].p(a,r):(l[o]=fi(a),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&f(e),$t(l,s)}}}function ii(n){let e,t,l=n[1][n[10]][n[13]][n[16]].title+"",s,r,o,a=n[1][n[10]][n[13]][n[16]].content+"",i;return{c(){e=m("div"),t=m("div"),s=H(l),r=A(),o=m("div"),i=H(a),this.h()},l(d){e=p(d,"DIV",{class:!0});var h=g(e);t=p(h,"DIV",{class:!0});var _=g(t);s=P(_,l),_.forEach(f),r=C(h),o=p(h,"DIV",{class:!0});var v=g(o);i=P(v,a),v.forEach(f),h.forEach(f),this.h()},h(){u(t,"class","font-semibold uppercase"),u(o,"class","mb-2 mt-1"),u(e,"class","text-sm mb-2")},m(d,h){M(d,e,h),c(e,t),c(t,s),c(e,r),c(e,o),c(o,i)},p(d,h){h&2&&l!==(l=d[1][d[10]][d[13]][d[16]].title+"")&&z(s,l),h&2&&a!==(a=d[1][d[10]][d[13]][d[16]].content+"")&&z(i,a)},d(d){d&&f(e)}}}function ci(n){let e,t,l=n[13]+"",s,r,o,a,i=st(Object.keys(n[1][n[10]][n[13]])),d=[];for(let h=0;h<i.length;h+=1)d[h]=ii(ai(n,i,h));return{c(){e=m("div"),t=m("div"),s=H(l),o=A(),a=m("div");for(let h=0;h<d.length;h+=1)d[h].c();this.h()},l(h){e=p(h,"DIV",{class:!0});var _=g(e);t=p(_,"DIV",{class:!0});var v=g(t);s=P(v,l),v.forEach(f),o=C(_),a=p(_,"DIV",{class:!0});var b=g(a);for(let w=0;w<d.length;w+=1)d[w].l(b);b.forEach(f),_.forEach(f),this.h()},h(){u(t,"class",r="font-semibold uppercase text-xs "+(n[13]==="added"?"text-white bg-blue-600":n[13]==="fixed"?"text-white bg-green-600":n[13]==="changed"?"text-white bg-yellow-600":n[13]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5"),u(a,"class","my-2.5 px-1.5"),u(e,"class","")},m(h,_){M(h,e,_),c(e,t),c(t,s),c(e,o),c(e,a);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(a,null)},p(h,_){if(_&2&&l!==(l=h[13]+"")&&z(s,l),_&2&&r!==(r="font-semibold uppercase text-xs "+(h[13]==="added"?"text-white bg-blue-600":h[13]==="fixed"?"text-white bg-green-600":h[13]==="changed"?"text-white bg-yellow-600":h[13]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5")&&u(t,"class",r),_&2){i=st(Object.keys(h[1][h[10]][h[13]]));let v;for(v=0;v<i.length;v+=1){const b=ai(h,i,v);d[v]?d[v].p(b,_):(d[v]=ii(b),d[v].c(),d[v].m(a,null))}for(;v<d.length;v+=1)d[v].d(1);d.length=i.length}},d(h){h&&f(e),$t(d,h)}}}function fi(n){let e,t,l,s=n[10]+"",r,o,a=n[1][n[10]].date+"",i,d,h,_,v,b=st(Object.keys(n[1][n[10]]).filter(ui)),w=[];for(let y=0;y<b.length;y+=1)w[y]=ci(ri(n,b,y));return{c(){e=m("div"),t=m("div"),l=H("v"),r=H(s),o=H(" - "),i=H(a),d=A(),h=m("hr"),_=A();for(let y=0;y<w.length;y+=1)w[y].c();v=A(),this.h()},l(y){e=p(y,"DIV",{class:!0});var k=g(e);t=p(k,"DIV",{class:!0});var V=g(t);l=P(V,"v"),r=P(V,s),o=P(V," - "),i=P(V,a),V.forEach(f),d=C(k),h=p(k,"HR",{class:!0}),_=C(k);for(let U=0;U<w.length;U+=1)w[U].l(k);v=C(k),k.forEach(f),this.h()},h(){u(t,"class","font-semibold text-xl mb-1 dark:text-white"),u(h,"class","dark:border-gray-800 my-2"),u(e,"class","mb-3 pr-2")},m(y,k){M(y,e,k),c(e,t),c(t,l),c(t,r),c(t,o),c(t,i),c(e,d),c(e,h),c(e,_);for(let V=0;V<w.length;V+=1)w[V]&&w[V].m(e,null);c(e,v)},p(y,k){if(k&2&&s!==(s=y[10]+"")&&z(r,s),k&2&&a!==(a=y[1][y[10]].date+"")&&z(i,a),k&2){b=st(Object.keys(y[1][y[10]]).filter(ui));let V;for(V=0;V<b.length;V+=1){const U=ri(y,b,V);w[V]?w[V].p(U,k):(w[V]=ci(U),w[V].c(),w[V].m(e,v))}for(;V<w.length;V+=1)w[V].d(1);w.length=b.length}},d(y){y&&f(e),$t(w,y)}}}function X1(n){let e,t,l,s=n[2].t("Whats New in")+"",r,o,a,i,d,h,_,v='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,w,y,k=n[2].t("Release Notes")+"",V,U,I,E,D,$,T,L,N,S,W,q,O,B,Y,J=n[2].t("Okay, Let's Go!")+"",G,R,j,x;d=new q1({props:{x:[-1,-.25],y:[0,.5]}});let X=n[1]&&oi(n);return{c(){e=m("div"),t=m("div"),l=m("div"),r=H(s),o=A(),a=H(n[3]),i=A(),ae(d.$$.fragment),h=A(),_=m("button"),_.innerHTML=v,b=A(),w=m("div"),y=m("div"),V=H(k),U=A(),I=m("div"),E=A(),D=m("div"),$=H("v"),T=H(ol),L=A(),N=m("div"),S=m("div"),W=m("div"),X&&X.c(),q=A(),O=m("div"),B=m("button"),Y=m("span"),G=H(J),this.h()},l(K){e=p(K,"DIV",{class:!0});var ee=g(e);t=p(ee,"DIV",{class:!0});var se=g(t);l=p(se,"DIV",{class:!0});var ue=g(l);r=P(ue,s),o=C(ue),a=P(ue,n[3]),i=C(ue),oe(d.$$.fragment,ue),ue.forEach(f),h=C(se),_=p(se,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(_)!=="svelte-14wj4tl"&&(_.innerHTML=v),se.forEach(f),b=C(ee),w=p(ee,"DIV",{class:!0});var he=g(w);y=p(he,"DIV",{class:!0});var me=g(y);V=P(me,k),me.forEach(f),U=C(he),I=p(he,"DIV",{class:!0}),g(I).forEach(f),E=C(he),D=p(he,"DIV",{class:!0});var pe=g(D);$=P(pe,"v"),T=P(pe,ol),pe.forEach(f),he.forEach(f),ee.forEach(f),L=C(K),N=p(K,"DIV",{class:!0});var de=g(N);S=p(de,"DIV",{class:!0});var ke=g(S);W=p(ke,"DIV",{class:!0});var Fe=g(W);X&&X.l(Fe),Fe.forEach(f),ke.forEach(f),q=C(de),O=p(de,"DIV",{class:!0});var Be=g(O);B=p(Be,"BUTTON",{class:!0});var be=g(B);Y=p(be,"SPAN",{class:!0});var ne=g(Y);G=P(ne,J),ne.forEach(f),be.forEach(f),Be.forEach(f),de.forEach(f),this.h()},h(){u(l,"class","text-xl font-semibold"),u(_,"class","self-center"),u(t,"class","flex justify-between items-start"),u(y,"class","text-sm dark:text-gray-200"),u(I,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),u(D,"class","text-sm dark:text-gray-200"),u(w,"class","flex items-center mt-1"),u(e,"class","px-5 pt-4 dark:text-gray-300 text-gray-700"),u(W,"class","mb-3"),u(S,"class","overflow-y-scroll max-h-96 scrollbar-hidden"),u(Y,"class","relative"),u(B,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(O,"class","flex justify-end pt-3 text-sm font-medium"),u(N,"class","w-full p-4 px-5 text-gray-700 dark:text-gray-100")},m(K,ee){M(K,e,ee),c(e,t),c(t,l),c(l,r),c(l,o),c(l,a),c(l,i),ie(d,l,null),c(t,h),c(t,_),c(e,b),c(e,w),c(w,y),c(y,V),c(w,U),c(w,I),c(w,E),c(w,D),c(D,$),c(D,T),M(K,L,ee),M(K,N,ee),c(N,S),c(S,W),X&&X.m(W,null),c(N,q),c(N,O),c(O,B),c(B,Y),c(Y,G),R=!0,j||(x=[te(_,"click",n[7]),te(B,"click",n[8])],j=!0)},p(K,ee){(!R||ee&4)&&s!==(s=K[2].t("Whats New in")+"")&&z(r,s),(!R||ee&8)&&z(a,K[3]),(!R||ee&4)&&k!==(k=K[2].t("Release Notes")+"")&&z(V,k),K[1]?X?X.p(K,ee):(X=oi(K),X.c(),X.m(W,null)):X&&(X.d(1),X=null),(!R||ee&4)&&J!==(J=K[2].t("Okay, Let's Go!")+"")&&z(G,J)},i(K){R||(F(d.$$.fragment,K),R=!0)},o(K){Z(d.$$.fragment,K),R=!1},d(K){K&&(f(e),f(L),f(N)),ce(d),X&&X.d(),j=!1,rt(x)}}}function Q1(n){let e,t,l;function s(o){n[9](o)}let r={size:"lg",$$slots:{default:[X1]},$$scope:{ctx:n}};return n[0]!==void 0&&(r.show=n[0]),e=new Ll({props:r}),lt.push(()=>ht(e,"show",s)),{c(){ae(e.$$.fragment)},l(o){oe(e.$$.fragment,o)},m(o,a){ie(e,o,a),l=!0},p(o,[a]){const i={};a&524351&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.show=o[0],dt(()=>t=!1)),e.$set(i)},i(o){l||(F(e.$$.fragment,o),l=!0)},o(o){Z(e.$$.fragment,o),l=!1},d(o){ce(e,o)}}}const ui=n=>n!=="date";function e0(n,e,t){let l,s,r,o;Ee(n,gi,b=>t(3,s=b)),Ee(n,es,b=>t(4,r=b)),Ee(n,Ht,b=>t(5,o=b));const a=wt("i18n");Ee(n,a,b=>t(2,l=b));let{show:i=!1}=e,d=null;Ct(async()=>{const b=await ec();t(1,d=b)});const h=()=>{localStorage.version=r.version,t(0,i=!1)},_=async()=>{localStorage.version=r.version,await Ht.set({...o,version:r.version}),await Ei(localStorage.token,{ui:o}),t(0,i=!1)};function v(b){i=b,t(0,i)}return n.$$set=b=>{"show"in b&&t(0,i=b.show)},[i,d,l,s,r,o,a,h,_,v]}class t0 extends ot{constructor(e){super(),it(this,e,e0,Q1,at,{show:0})}}function di(n){let e,t,l=n[1].t("Admin")+"",s,r,o=n[0].name+"",a,i,d=n[0].email+"",h,_;return{c(){e=m("div"),t=m("div"),s=H(l),r=H(": "),a=H(o),i=H(" ("),h=H(d),_=H(")"),this.h()},l(v){e=p(v,"DIV",{class:!0});var b=g(e);t=p(b,"DIV",{});var w=g(t);s=P(w,l),r=P(w,": "),a=P(w,o),i=P(w," ("),h=P(w,d),_=P(w,")"),w.forEach(f),b.forEach(f),this.h()},h(){u(e,"class","mt-4 text-sm font-medium text-center")},m(v,b){M(v,e,b),c(e,t),c(t,s),c(t,r),c(t,a),c(t,i),c(t,h),c(t,_)},p(v,b){b&2&&l!==(l=v[1].t("Admin")+"")&&z(s,l),b&1&&o!==(o=v[0].name+"")&&z(a,o),b&1&&d!==(d=v[0].email+"")&&z(h,d)},d(v){v&&f(e)}}}function l0(n){let e,t,l,s,r,o=n[1].t("Account Activation Pending")+"",a,i,d,h=n[1].t("Contact Admin for WebUI Access")+"",_,v,b,w=n[1].t("Your account status is currently pending activation.")+"",y,k,V,U=n[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"",I,E,D,$,T,L=n[1].t("Check Again")+"",N,S,W,q=n[1].t("Sign Out")+"",O,B,Y,J=n[0]&&di(n);return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("div"),r=m("div"),a=H(o),i=m("br"),d=A(),_=H(h),v=A(),b=m("div"),y=H(w),k=m("br"),V=A(),I=H(U),E=A(),J&&J.c(),D=A(),$=m("div"),T=m("button"),N=H(L),S=A(),W=m("button"),O=H(q),this.h()},l(G){e=p(G,"DIV",{class:!0});var R=g(e);t=p(R,"DIV",{class:!0});var j=g(t);l=p(j,"DIV",{class:!0});var x=g(l);s=p(x,"DIV",{class:!0});var X=g(s);r=p(X,"DIV",{class:!0});var K=g(r);a=P(K,o),i=p(K,"BR",{}),d=C(K),_=P(K,h),K.forEach(f),v=C(X),b=p(X,"DIV",{class:!0});var ee=g(b);y=P(ee,w),k=p(ee,"BR",{}),V=C(ee),I=P(ee,U),ee.forEach(f),E=C(X),J&&J.l(X),D=C(X),$=p(X,"DIV",{class:!0});var se=g($);T=p(se,"BUTTON",{class:!0});var ue=g(T);N=P(ue,L),ue.forEach(f),S=C(se),W=p(se,"BUTTON",{class:!0});var he=g(W);O=P(he,q),he.forEach(f),se.forEach(f),X.forEach(f),x.forEach(f),j.forEach(f),R.forEach(f),this.h()},h(){u(r,"class","text-center dark:text-white text-2xl font-medium z-50"),u(b,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),u(T,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 text-gray-700 transition font-medium text-sm"),u(W,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),u($,"class","mt-6 mx-auto relative group w-fit"),u(s,"class","max-w-md"),u(l,"class","m-auto pb-10 flex flex-col justify-center"),u(t,"class","absolute w-full h-full backdrop-blur-lg bg-white/10 dark:bg-gray-900/50 flex justify-center"),u(e,"class","fixed w-full h-full flex z-[999]")},m(G,R){M(G,e,R),c(e,t),c(t,l),c(l,s),c(s,r),c(r,a),c(r,i),c(r,d),c(r,_),c(s,v),c(s,b),c(b,y),c(b,k),c(b,V),c(b,I),c(s,E),J&&J.m(s,null),c(s,D),c(s,$),c($,T),c(T,N),c($,S),c($,W),c(W,O),B||(Y=[te(T,"click",n[3]),te(W,"click",n[4])],B=!0)},p(G,[R]){R&2&&o!==(o=G[1].t("Account Activation Pending")+"")&&z(a,o),R&2&&h!==(h=G[1].t("Contact Admin for WebUI Access")+"")&&z(_,h),R&2&&w!==(w=G[1].t("Your account status is currently pending activation.")+"")&&z(y,w),R&2&&U!==(U=G[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"")&&z(I,U),G[0]?J?J.p(G,R):(J=di(G),J.c(),J.m(s,D)):J&&(J.d(1),J=null),R&2&&L!==(L=G[1].t("Check Again")+"")&&z(N,L),R&2&&q!==(q=G[1].t("Sign Out")+"")&&z(O,q)},i:Ce,o:Ce,d(G){G&&f(e),J&&J.d(),B=!1,rt(Y)}}}function s0(n,e,t){let l;const s=wt("i18n");Ee(n,s,i=>t(1,l=i));let r=null;return Ct(async()=>{t(0,r=await Zc(localStorage.token).catch(i=>(console.error(i),null)))}),[r,l,s,async()=>{location.href="/"},async()=>{localStorage.removeItem("token"),location.href="/auth"}]}class n0 extends ot{constructor(e){super(),it(this,e,s0,l0,at,{})}}function r0(n){let e,t,l=n[1].t("A new version (v{{LATEST_VERSION}}) is now available.",{LATEST_VERSION:n[0].latest})+"",s,r,o,a=n[1].t("Update for the latest features and improvements.")+"",i,d,h,_,v,b,w,y;return v=new Ci({}),{c(){e=m("div"),t=m("div"),s=H(l),r=A(),o=m("a"),i=H(a),d=A(),h=m("div"),_=m("button"),ae(v.$$.fragment),this.h()},l(k){e=p(k,"DIV",{class:!0});var V=g(e);t=p(V,"DIV",{class:!0});var U=g(t);s=P(U,l),r=C(U),o=p(U,"A",{href:!0,target:!0,class:!0});var I=g(o);i=P(I,a),I.forEach(f),U.forEach(f),d=C(V),h=p(V,"DIV",{class:!0});var E=g(h);_=p(E,"BUTTON",{class:!0});var D=g(_);oe(v.$$.fragment,D),D.forEach(f),E.forEach(f),V.forEach(f),this.h()},h(){u(o,"href","https://github.com/open-webui/open-webui/releases"),u(o,"target","_blank"),u(o,"class","underline"),u(t,"class","flex-1 font-medium"),u(_,"class","hover:text-blue-900 dark:hover:text-blue-300 transition"),u(h,"class","flex-shrink-0 pr-1"),u(e,"class","flex items-start bg-[#F1F8FE] dark:bg-[#020C1D] border border-[3371D5] dark:border-[#03113B] text-[#3371D5] dark:text-[#6795EC] rounded-lg px-3.5 py-3 text-xs max-w-80 pr-2 w-full shadow-lg")},m(k,V){M(k,e,V),c(e,t),c(t,s),c(t,r),c(t,o),c(o,i),c(e,d),c(e,h),c(h,_),ie(v,_,null),b=!0,w||(y=te(_,"click",n[4]),w=!0)},p(k,[V]){(!b||V&3)&&l!==(l=k[1].t("A new version (v{{LATEST_VERSION}}) is now available.",{LATEST_VERSION:k[0].latest})+"")&&z(s,l),(!b||V&2)&&a!==(a=k[1].t("Update for the latest features and improvements.")+"")&&z(i,a)},i(k){b||(F(v.$$.fragment,k),b=!0)},o(k){Z(v.$$.fragment,k),b=!1},d(k){k&&f(e),ce(v),w=!1,y()}}}function a0(n,e,t){let l;const s=At(),r=wt("i18n");Ee(n,r,i=>t(1,l=i));let{version:o={current:ol,latest:ol}}=e;const a=()=>{s("close")};return n.$$set=i=>{"version"in i&&t(0,o=i.version)},[o,l,s,r,a]}class o0 extends ot{constructor(e){super(),it(this,e,a0,r0,at,{version:0})}}function hi(n){let e,t,l,s;return t=new o0({props:{version:n[3]}}),t.$on("close",n[15]),{c(){e=m("div"),ae(t.$$.fragment),this.h()},l(r){e=p(r,"DIV",{class:!0});var o=g(e);oe(t.$$.fragment,o),o.forEach(f),this.h()},h(){u(e,"class","absolute bottom-8 right-8 z-50")},m(r,o){M(r,e,o),ie(t,e,null),s=!0},p(r,o){const a={};o&8&&(a.version=r[3]),t.$set(a)},i(r){s||(F(t.$$.fragment,r),r&&(l||Nl(()=>{l=_i(e,vi,{duration:100}),l.start()})),s=!0)},o(r){Z(t.$$.fragment,r),s=!1},d(r){r&&f(e),ce(t)}}}function mi(n){let e,t,l,s,r,o,a;const i=[c0,i0],d=[];function h(b,w){return w&16&&(e=null),e==null&&(e=!["user","admin"].includes(b[4].role)),e?0:b[2].length>0?1:-1}~(t=h(n,-1))&&(l=d[t]=i[t](n)),r=new Sd({});const _=n[12].default,v=Gl(_,n,n[11],null);return{c(){l&&l.c(),s=A(),ae(r.$$.fragment),o=A(),v&&v.c()},l(b){l&&l.l(b),s=C(b),oe(r.$$.fragment,b),o=C(b),v&&v.l(b)},m(b,w){~t&&d[t].m(b,w),M(b,s,w),ie(r,b,w),M(b,o,w),v&&v.m(b,w),a=!0},p(b,w){let y=t;t=h(b,w),t===y?~t&&d[t].p(b,w):(l&&(Qe(),Z(d[y],1,1,()=>{d[y]=null}),et()),~t?(l=d[t],l?l.p(b,w):(l=d[t]=i[t](b),l.c()),F(l,1),l.m(s.parentNode,s)):l=null),v&&v.p&&(!a||w&2048)&&Jl(v,_,b,b[11],a?ql(_,b[11],w,null):Kl(b[11]),null)},i(b){a||(F(l),F(r.$$.fragment,b),F(v,b),a=!0)},o(b){Z(l),Z(r.$$.fragment,b),Z(v,b),a=!1},d(b){b&&(f(s),f(o)),~t&&d[t].d(b),ce(r,b),v&&v.d(b)}}}function i0(n){let e,t,l,s,r,o="Important Update<br/> Action Required for Chat Log Storage",a,i,d=n[8].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"",h,_,v,b=n[8].t("Settings")+"",w,y,k=n[8].t("Chats")+"",V,U,I=n[8].t("Import Chats")+"",E,D,$=n[8].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"",T,L,N,S,W="Download & Delete",q,O,B=n[8].t("Close")+"",Y,J,G;return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("div"),r=m("div"),r.innerHTML=o,a=A(),i=m("div"),h=H(d),_=A(),v=m("span"),w=H(b),y=H(" > "),V=H(k),U=H(" > "),E=H(I),D=H(". "),T=H($),L=A(),N=m("div"),S=m("button"),S.textContent=W,q=A(),O=m("button"),Y=H(B),this.h()},l(R){e=p(R,"DIV",{class:!0});var j=g(e);t=p(j,"DIV",{class:!0});var x=g(t);l=p(x,"DIV",{class:!0});var X=g(l);s=p(X,"DIV",{class:!0});var K=g(s);r=p(K,"DIV",{class:!0,"data-svelte-h":!0}),Ye(r)!=="svelte-mnqwc6"&&(r.innerHTML=o),a=C(K),i=p(K,"DIV",{class:!0});var ee=g(i);h=P(ee,d),_=C(ee),v=p(ee,"SPAN",{class:!0});var se=g(v);w=P(se,b),y=P(se," > "),V=P(se,k),U=P(se," > "),E=P(se,I),se.forEach(f),D=P(ee,". "),T=P(ee,$),ee.forEach(f),L=C(K),N=p(K,"DIV",{class:!0});var ue=g(N);S=p(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(S)!=="svelte-1ia8i9q"&&(S.textContent=W),q=C(ue),O=p(ue,"BUTTON",{class:!0});var he=g(O);Y=P(he,B),he.forEach(f),ue.forEach(f),K.forEach(f),X.forEach(f),x.forEach(f),j.forEach(f),this.h()},h(){u(r,"class","text-center dark:text-white text-2xl font-medium z-50"),u(v,"class","font-semibold dark:text-white"),u(i,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),u(S,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),u(O,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),u(N,"class","mt-6 mx-auto relative group w-fit"),u(s,"class","max-w-md"),u(l,"class","m-auto pb-44 flex flex-col justify-center"),u(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),u(e,"class","fixed w-full h-full flex z-50")},m(R,j){M(R,e,j),c(e,t),c(t,l),c(l,s),c(s,r),c(s,a),c(s,i),c(i,h),c(i,_),c(i,v),c(v,w),c(v,y),c(v,V),c(v,U),c(v,E),c(i,D),c(i,T),c(s,L),c(s,N),c(N,S),c(N,q),c(N,O),c(O,Y),J||(G=[te(S,"click",n[16]),te(O,"click",n[17])],J=!0)},p(R,j){j&256&&d!==(d=R[8].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"")&&z(h,d),j&256&&b!==(b=R[8].t("Settings")+"")&&z(w,b),j&256&&k!==(k=R[8].t("Chats")+"")&&z(V,k),j&256&&I!==(I=R[8].t("Import Chats")+"")&&z(E,I),j&256&&$!==($=R[8].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"")&&z(T,$),j&256&&B!==(B=R[8].t("Close")+"")&&z(Y,B)},i:Ce,o:Ce,d(R){R&&f(e),J=!1,rt(G)}}}function c0(n){let e,t;return e=new n0({}),{c(){ae(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ie(e,l,s),t=!0},p:Ce,i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function f0(n){var U;let e,t,l,s,r,o,a=n[3]&&Jn(n[3].latest,n[3].current)&&(((U=n[5])==null?void 0:U.showUpdateToast)??!0),i,d,h,_;function v(I){n[13](I)}let b={};n[6]!==void 0&&(b.show=n[6]),e=new G1({props:b}),lt.push(()=>ht(e,"show",v));function w(I){n[14](I)}let y={};n[7]!==void 0&&(y.show=n[7]),s=new t0({props:y}),lt.push(()=>ht(s,"show",w));let k=a&&hi(n),V=n[0]&&mi(n);return{c(){ae(e.$$.fragment),l=A(),ae(s.$$.fragment),o=A(),k&&k.c(),i=A(),d=m("div"),h=m("div"),V&&V.c(),this.h()},l(I){oe(e.$$.fragment,I),l=C(I),oe(s.$$.fragment,I),o=C(I),k&&k.l(I),i=C(I),d=p(I,"DIV",{class:!0});var E=g(d);h=p(E,"DIV",{class:!0});var D=g(h);V&&V.l(D),D.forEach(f),E.forEach(f),this.h()},h(){u(h,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 h-screen max-h-[100dvh] overflow-auto flex flex-row justify-end"),u(d,"class","app relative")},m(I,E){ie(e,I,E),M(I,l,E),ie(s,I,E),M(I,o,E),k&&k.m(I,E),M(I,i,E),M(I,d,E),c(d,h),V&&V.m(h,null),_=!0},p(I,[E]){var T;const D={};!t&&E&64&&(t=!0,D.show=I[6],dt(()=>t=!1)),e.$set(D);const $={};!r&&E&128&&(r=!0,$.show=I[7],dt(()=>r=!1)),s.$set($),E&40&&(a=I[3]&&Jn(I[3].latest,I[3].current)&&(((T=I[5])==null?void 0:T.showUpdateToast)??!0)),a?k?(k.p(I,E),E&40&&F(k,1)):(k=hi(I),k.c(),F(k,1),k.m(i.parentNode,i)):k&&(Qe(),Z(k,1,1,()=>{k=null}),et()),I[0]?V?(V.p(I,E),E&1&&F(V,1)):(V=mi(I),V.c(),F(V,1),V.m(h,null)):V&&(Qe(),Z(V,1,1,()=>{V=null}),et())},i(I){_||(F(e.$$.fragment,I),F(s.$$.fragment,I),F(k),F(V),_=!0)},o(I){Z(e.$$.fragment,I),Z(s.$$.fragment,I),Z(k),Z(V),_=!1},d(I){I&&(f(l),f(o),f(i),f(d)),ce(e,I),ce(s,I),k&&k.d(I),V&&V.d()}}}function u0(n,e,t){let l,s,r,o,a,i,d,h;Ee(n,Tl,N=>t(4,l=N)),Ee(n,lr,N=>t(18,s=N)),Ee(n,es,N=>t(19,r=N)),Ee(n,Ht,N=>t(5,o=N)),Ee(n,hn,N=>t(20,a=N)),Ee(n,xn,N=>t(6,i=N)),Ee(n,mn,N=>t(7,d=N));let{$$slots:_={},$$scope:v}=e;const{saveAs:b}=ws,w=wt("i18n");Ee(n,w,N=>t(8,h=N));let y=!1,k=null,V=[],U;Ct(async()=>{if(l===void 0)await _l("/auth");else if(["user","admin"].includes(l.role)){try{if(t(1,k=await cf("Chats",1)),k){const S=await k.getAllFromIndex("chats","timestamp");t(2,V=S.map((W,q)=>S[S.length-1-q])),V.length===0&&await Ua("Chats")}console.log(k)}catch{}const N=await cc(localStorage.token).catch(S=>(console.error(S),null));if(N)Ht.set(N.ui);else{let S={};try{S=JSON.parse(localStorage.getItem("settings")??"{}")}catch(W){console.error("Failed to parse settings from localStorage",W)}Ht.set(S)}if(bi.set(await ki(localStorage.token)),Xi.set(await oc(localStorage.token)),Qi.set(await ac(localStorage.token)),document.addEventListener("keydown",async function(S){var O,B,Y,J,G;const W=S.ctrlKey||S.metaKey,q=S.shiftKey;if(W&&q&&S.key.toLowerCase()==="o"&&(S.preventDefault(),console.log("newChat"),(O=document.getElementById("sidebar-new-chat-button"))==null||O.click()),q&&S.key==="Escape"&&(S.preventDefault(),console.log("focusInput"),(B=document.getElementById("chat-input"))==null||B.focus()),W&&q&&S.key===";"){S.preventDefault(),console.log("copyLastCodeBlock");const R=[...document.getElementsByClassName("copy-code-button")].at(-1);R==null||R.click()}if(W&&q&&S.key.toLowerCase()==="c"){S.preventDefault(),console.log("copyLastResponse");const R=[...document.getElementsByClassName("copy-response-button")].at(-1);console.log(R),R==null||R.click()}if(W&&q&&S.key.toLowerCase()==="s"&&(S.preventDefault(),console.log("toggleSidebar"),(Y=document.getElementById("sidebar-toggle-button"))==null||Y.click()),W&&q&&(S.key==="Backspace"||S.key==="Delete")&&(S.preventDefault(),console.log("deleteChat"),(J=document.getElementById("delete-chat-button"))==null||J.click()),W&&S.key==="."&&(S.preventDefault(),console.log("openSettings"),xn.set(!i)),W&&S.key==="/"&&(S.preventDefault(),console.log("showShortcuts"),(G=document.getElementById("show-shortcuts-button"))==null||G.click()),W&&q&&S.key.toLowerCase()==="'"){S.preventDefault(),console.log("temporaryChat"),hn.set(!a),await _l("/");const R=document.getElementById("new-chat-button");setTimeout(()=>{R==null||R.click()},0)}}),l.role==="admin"&&((o==null?void 0:o.showChangelog)??!0)&&mn.set((o==null?void 0:o.version)!==r.version),s.url.searchParams.get("temporary-chat")==="true"&&hn.set(!0),l.role==="admin")if(localStorage.dismissedUpdateToast){const S=new Date(Number(localStorage.dismissedUpdateToast));new Date-S>24*60*60*1e3&&I()}else I();await Dl()}t(0,y=!0)});const I=async()=>{t(3,U=await wi().catch(N=>({current:ol,latest:ol})))};function E(N){i=N,xn.set(i)}function D(N){d=N,mn.set(d)}const $=()=>{localStorage.setItem("dismissedUpdateToast",Date.now().toString()),t(3,U=null)},T=async()=>{let N=new Blob([JSON.stringify(V)],{type:"application/json"});b(N,`chat-export-${Date.now()}.json`);const S=k.transaction("chats","readwrite");await Promise.all([S.store.clear(),S.done]),await Ua("Chats"),t(2,V=[])},L=async()=>{t(2,V=[])};return n.$$set=N=>{"$$scope"in N&&t(11,v=N.$$scope)},[y,k,V,U,l,o,i,d,h,b,w,v,_,E,D,$,T,L]}class fm extends ot{constructor(e){super(),it(this,e,u0,f0,at,{})}}export{fm as component};
//# sourceMappingURL=2.Bgt5ppKY.js.map
